<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Topic 1: Forms of Etiquette. Greetings. Farewells.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Ukrainian-inspired color scheme */
        :root {
            --ukrainian-blue: #0057B8; --ukrainian-yellow: #FFD700; --ukrainian-dark-blue: #003893;
            --ukrainian-light-blue: #88BFFF; --ukrainian-navy: #001F54; --ukrainian-cream: #FFF8E1;
            --ukrainian-light-yellow: #FFF2B0; --ukrainian-gold: #E8C000; --ukrainian-light-teal: #CCFCF6;
            --body-background: #3C80D4; --text-color: #003893; --text-light: #FFFFFF;
        }
        body { font-family: 'Nunito', Arial, sans-serif; line-height: 1.7; max-width: 800px; margin: 0 auto; padding: 15px; background-color: var(--body-background); background-image: url('../ukrainian_background.png'); background-repeat: repeat; background-size: 300px auto; box-sizing: border-box; color: var(--ukrainian-navy); }
        [lang="uk"], td:first-child, .ukrainian-text, .matching-item.ukrainian-text, .fill-input.ukrainian-input, .key-btn, .correct-answer-display, .word-box.ukrainian-text { font-family: 'Nunito', serif; font-size: 1em; line-height: 1.5; font-weight: 500; direction: ltr; text-align: left; }
        /* Latin text styling - Fix for oversized Latin text */
        .latin-text, .pronunciation { font-family: 'Nunito', Arial, sans-serif !important; font-size: 0.9em !important; font-style: italic; font-weight: normal !important; direction: ltr !important; color: #555; }

        .matching-item.ukrainian-text, .key-btn, .word-box.ukrainian-text { text-align: center; }
        .fill-input.ukrainian-input { text-align: left; font-size: 1em; }
        td:first-child, td[lang="uk"] { text-align: left !important; padding-top: 18px; padding-bottom: 18px; }
        * { box-sizing: border-box; }
        h1, h2, h3 { color: var(--ukrainian-navy); font-weight: 700; line-height: 1.3; }
        h1 { text-align: left; border-bottom: 3px solid var(--ukrainian-yellow); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.8rem; color: var(--text-light); }
        h2 { font-size: 1.5rem; margin-top: 30px; }
        h3 { font-size: 1.2rem; margin-top: 25px; color: var(--ukrainian-blue); }
        .section { background-color: var(--ukrainian-light-blue); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); background-color: #88BFFF; }
        .title-section { background-color: #0057B7; border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 3px solid #FFDD00; }
        .title-section h1 { text-align: left; border-bottom: 3px solid var(--ukrainian-yellow); padding-bottom: 15px; margin-bottom: 0; margin-top: 0; font-size: 1.8rem; color: var(--text-light); }
        th, td { padding: 12px 15px; text-align: left; border: none; }
        th { background-color: var(--ukrainian-blue); color: var(--text-light); font-weight: 600; }
        tr:nth-child(even) { background-color: var(--ukrainian-light-blue); }
        tr:nth-child(odd) { background-color: #A9D1FF; }
        tr:hover { background-color: #B9DBFF; }
        .note { background-color: var(--ukrainian-light-yellow); padding: 15px; border-left: 4px solid var(--ukrainian-yellow); margin: 20px 0; border-radius: 0 8px 8px 0; }
        .listen-repeat-read { font-weight: bold; color: var(--ukrainian-dark-blue); margin-bottom: 10px; }
        .stress-model-table td { padding: 8px 12px; } /* Smaller padding for stress model tables */

        /* Feedback Styles */
        .feedback, .fill-feedback { margin-top: 8px; margin-left: 5px; font-weight: bold; }
        /* Correct/Incorrect feedback text colors AND STYLE */
        .fill-feedback.correct { color: var(--ukrainian-dark-blue); }
        .fill-feedback.incorrect { color: #C70039; }
        /* Specific style for matching game 'Correct' feedback */
        .matching-feedback.correct { color: black !important; font-size: 1.5rem !important; }
        /* Style for sentence building feedback */
        .fill-feedback.correct.sentence-building {
            color: black !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
            font-family: 'Nunito', Arial, sans-serif !important;
            background-color: var(--ukrainian-yellow);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        /* Display for showing correct answer on incorrect attempt */
        .correct-answer-display { display: inline-block; margin-left: 5px; font-weight: normal; font-style: italic; }

        /* Matching Game Styles */
        .matching-game { background-color: var(--ukrainian-yellow); padding: 20px; border-radius: 8px; margin-top: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .matching-columns-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .matching-column { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .matching-column h4 { text-align: center; margin-bottom: 10px; color: var(--ukrainian-navy); }
        .matching-item-container { display: flex; flex-direction: column; gap: 10px; }
        .matching-item { padding: 12px 15px; background-color: white; border: 2px solid var(--ukrainian-blue); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-align: center; -webkit-tap-highlight-color: transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .matching-item:hover { background-color: var(--ukrainian-light-blue); }
        .matching-item.selected { background-color: var(--ukrainian-blue); color: var(--text-light); }
        .matching-item.matched { background-color: var(--ukrainian-yellow); color: black; border-color: var(--ukrainian-yellow); cursor: default; }
        .matching-result { text-align: center; }
        .matching-result div { font-size: 1.2rem; font-weight: bold; color: black; margin-top: 15px; }


        /* Fill-in / Sentence Building Styles */
        .fill-exercise { margin-top: 30px; }
        /* Container for each exercise item */
        .fill-item { background-color: var(--ukrainian-yellow); margin-bottom: 20px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        /* General row for inputs/text */
        .exercise-row { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; flex-wrap: wrap; color: var(--text-color); font-weight: 500; }
        /* Translation text style */
        .translation { color: black; font-size: 1.1em; }
        /* Input field */
        .fill-input { background-color: var(--ukrainian-yellow); width: 120px; padding: 8px 12px; border: 2px solid #997000; border-radius: 6px; font-size: 16px; font-family: inherit; }
        /* Wider input for sentence building */
        .fill-input.long-input { width: 100%; max-width: 400px; }
        /* Ukrainian Input specific font override */
        .fill-input.ukrainian-input { font-family: 'Nunito', serif; font-size: 1.2em; direction: ltr; text-align: left; } /* Adjusted font size */
        /* Container for key buttons */
        .key-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
        /* Key buttons */
        .key-btn { padding: 5px 12px; background-color: #FFF2B0; border: 1px solid #E6A800; border-radius: 6px; cursor: pointer; color: #333; font-size: 1em; font-family: 'Nunito', serif; text-align: center; }
        .key-btn:hover { background-color: #FFE082; color: black; }
        /* Check button */
        .fill-check { padding: 8px 15px; background-color: #FFF2B0; color: black; border: none; border-radius: 6px; cursor: pointer; font-family: inherit; font-weight: 600; transition: background-color 0.2s ease; }
        .fill-check:hover { background-color: #FFE082; }


        /* Congratulations */
         /* Using standard .section */
         .congrats-ukrainian { font-family: 'Nunito', serif; font-size: 30px; line-height: 1.4; }
         .congrats-english { font-size: 1.2em; margin-top: 10px; }

        /* Word Order Game Styles - For Duolingo-style exercise */
        .word-order-game {
            background-color: var(--ukrainian-light-blue);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .game-sentence {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }

        .game-sentence.completed {
            background-color: var(--ukrainian-light-teal);
            border-left: 4px solid var(--ukrainian-dark-blue);
        }

        .game-sentence-translation {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .sentence-number {
            display: inline-block;
            min-width: 45px;
            font-weight: 700;
            color: var(--ukrainian-dark-blue);
        }

        .solution-area {
            min-height: 60px;
            padding: 10px;
            background-color: #e0efff;
            border-radius: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
            border: 2px dashed var(--ukrainian-blue);
            direction: ltr;
            justify-content: flex-start;
        }

        .words-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background-color: var(--ukrainian-cream);
            border-radius: 6px;
            margin-bottom: 10px;
            direction: ltr;
        }

        .word-box {
            display: inline-block;
            padding: 8px 12px;
            background-color: var(--ukrainian-blue);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            user-select: none;
            margin: 0;
            font-weight: 500;
            border: 2px solid transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .solution-area .word-box {
            background-color: #88BFFF;
            color: var(--text-color);
            border-color: var(--ukrainian-blue);
        }

        .word-box:active {
            transform: scale(0.95);
        }

        .game-feedback {
            margin-top: 10px;
            font-weight: 600;
        }

        .feedback-correct {
            color: var(--ukrainian-dark-blue);
        }

        .feedback-incorrect {
            color: #C70039;
        }

        .sentence-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .check-btn, .show-answer-btn, .delete-btn {
            flex: 1;
            background-color: var(--ukrainian-blue);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .check-btn:hover, .show-answer-btn:hover, .delete-btn:hover {
            background-color: #0050a3;
        }

        .check-btn:active, .show-answer-btn:active, .delete-btn:active {
            transform: scale(0.98);
        }

        .show-answer-btn {
            background-color: var(--ukrainian-light-blue);
            color: var(--text-color);
        }

        .show-answer-btn:hover {
            background-color: #70B0FF;
        }

        .delete-btn {
            background-color: #FFE8B0;
            color: var(--text-color);
        }

        .delete-btn:hover {
            background-color: #FFD980;
        }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: space-between; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--ukrainian-navy); color: var(--text-light); border: 3px solid var(--ukrainian-blue); border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: flex; align-items: center; justify-content: center; line-height: 1.4; }
        .nav-button:hover { background-color: var(--ukrainian-blue); border-color: var(--ukrainian-navy); }
        .prev-button { margin-right: auto; }
        .next-button, .exercises-button { margin-left: 10px; }

         /* Small Latin text */
         .small-latin { font-size: 0.6em !important; font-family: 'Nunito', Arial, sans-serif !important; font-weight: normal !important; display: inline-block; vertical-align: middle; direction: ltr; text-align: left; }

        /* Media queries */
        @media (max-width: 600px) {
            .section, .title-section { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; padding-bottom: 10px; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            .exercise { padding: 15px; }
            .matching-columns-container { flex-direction: column; gap: 15px; } .matching-item { font-size: 1em; padding: 10px 12px; } .matching-item.ukrainian-text { font-size: 1.2em; }
            /* Fill-in exercises - Adjust layout on mobile */
            .exercise-row { flex-direction: row; align-items: center; gap: 8px; flex-wrap: wrap;} /* Keep row, allow wrap, smaller gap */
            .exercise-row .ukrainian-text { flex-shrink: 0; margin-right: 5px;}
            .exercise-row .fill-input { flex-grow: 1; width: auto; min-width: 80px; margin-right: 5px;}
            .exercise-row .translation { flex-basis: auto; }

            .fill-input { width: 100%; max-width: none; margin-top: 5px; }
            .key-container { justify-content: center; }
            .fill-check { width: 100%; max-width: 300px; margin-top: 10px; }
            /* Specific adjustments for Ex2 layout on mobile */
             .fill-item .exercise-row-ex2 { flex-direction: row; flex-wrap: wrap;}
             .fill-item .exercise-row-ex2 .ukrainian-text { margin-left: 10px; }
            /* Navigation */
            .nav-buttons-container { flex-direction: column; gap: 15px; } .nav-button { width: 100%; margin: 0; font-size: 1rem;}
            body { padding: 10px; }

            /* Word order game mobile adjustments */
            .sentence-buttons {
                flex-direction: column;
            }

            .check-btn, .show-answer-btn, .delete-btn {
                width: 100%;
            }
        }
         @media (max-width: 450px) {
             .matching-item { padding: 10px 8px; font-size: 0.9em; } .matching-item.ukrainian-text { font-size: 1.1em; }
             .key-btn { font-size: 1.4em; padding: 4px 10px;} .nav-button { padding: 12px 15px; }
             .exercise-row {gap: 5px;}
         }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>Тема 1.<br>Форми етикету. Вітання. Прощання.</h1>
        <span class="latin-text" style="color: white; font-size: 1em !important;">Topic 1. Forms of Etiquette. Greetings. Farewells.</span>
    </div>

    <div class="section">
        <h3>What you'll learn</h3>
        <ul>
             <li><a href="#grammar" style="color: inherit; text-decoration: none;">Grammar</a></li>
             <li><a href="#etiquette" style="color: inherit; text-decoration: none;">Greetings & Farewells</a></li>
             <li><a href="#practice" style="color: inherit; text-decoration: none;">Practice & Vocabulary</a></li>
             <li><a href="#reading" style="color: inherit; text-decoration: none;">Reading Practice</a></li>
        </ul>
    </div>

    <!-- Grammar Section -->
    <div class="section">
        <h2 id="grammar">1. Grammar</h2>

        <h3>Yes/No Questions</h3>
        <p>In Ukrainian, yes/no questions are formed using rising intonation at the end of the sentence.</p>

        <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>– Це Юрко?↗ – Так, це Юрко.</td><td>– Is this Yurko? – Yes, this is Yurko.</td></tr>
                <tr><td>– Це Зоя?↗ – Так, це Зоя.</td><td>– Is this Zoya? – Yes, this is Zoya.</td></tr>
                <tr><td>– Це Юрко і Тая?↗ – Так, це Юрко і Тая.</td><td>– Is this Yurko and Taya? – Yes, this is Yurko and Taya.</td></tr>
                <tr><td>– А це Зоя і Єва?↗ – Так, це Зоя і Єва.</td><td>– And is this Zoya and Eva? – Yes, this is Zoya and Eva.</td></tr>
                <tr><td>– Це Єва?↗ – Так, це Єва.</td><td>– Is this Eva? – Yes, this is Eva.</td></tr>
                <tr><td>– А це Яна?↗ – Так, це Яна.</td><td>– And is this Yana? – Yes, this is Yana.</td></tr>
            </tbody>
        </table>
        
        <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>Це лампа.</td><td>This is a lamp.</td></tr>
                <tr><td>Це словник.</td><td>This is a dictionary.</td></tr>
                <tr><td>Це масло.</td><td>This is butter.</td></tr>
                <tr><td>Це яблуко.</td><td>This is an apple.</td></tr>
                <tr><td>Це салат.</td><td>This is a salad.</td></tr>
                <tr><td>Це телефон.</td><td>This is a telephone.</td></tr>
                <tr><td>Це молоко.</td><td>This is milk.</td></tr>
                <tr><td>Це лимон.</td><td>This is a lemon.</td></tr>
            </tbody>
        </table>

        <h3>Connecting Words: І, А, ТАКОЖ, ТЕЖ</h3>
        <h4>Ways to say "and": І, Й, ТА</h4>
        <p><span lang="uk">І</span> and <span lang="uk">ТА</span> both mean "and." Use <span lang="uk">Й</span> instead of <span lang="uk">І</span> after vowels for easier pronunciation.</p>
        <p>Examples:</p>
        <ul>
            <li><span lang="uk">Це То́мас та Тама́ра.</span> (This is Tomas and Tamara.)</li>
            <li><span lang="uk">Це Тама́ра й Анто́н.</span> (This is Tamara and Anton.)</li>
            <li><span lang="uk">Це Рома́н і Тара́с.</span> (This is Roman and Taras.)</li>
            <li><span lang="uk">Це ма́ма й та́то.</span> (This is mom and dad.)</li>
        </ul>
        <h4>Using А (and/but)</h4>
        <p>Use <span lang="uk">А</span> to introduce a different or contrasting idea:</p>
        <ul>
            <li><span lang="uk">Це роди́на. А це Тара́с.</span> (This is the family. And this is Taras.)</li>
            <li><span lang="uk">Студе́нти тут. А там буди́нок № 3.</span> (The students are here. And building No. 3 is there.)</li>
            <li><span lang="uk">Мо́я кни́жка теж тут. А ша́пка і шарф вдо́ма.</span> (My book is also here. But the hat and scarf are at home.)</li>
        </ul>

        <h4>Words for "also" and "too"</h4>
        <p>Use <span lang="uk">ТАКОЖ</span> and <span lang="uk">ТЕЖ</span> to say "also" or "too." Don't start sentences with <span lang="uk">ТАКОЖ</span>.</p>
        <p>Examples:</p>
        <ul>
            <li><span lang="uk">Це Су́ми. Це та́кож Ки́їв.</span> (This is Sumy. This is also Kyiv.)</li>
            <li><span lang="uk">Я тут. Моя́ гру́па теж тут.</span> (I am here. My group is also here.)</li>
            <li><span lang="uk">Зо́шит і журна́л тут. Моя́ кни́жка теж тут.</span> (The notebook and journal are here. My book is also here.)</li>
        </ul>

        <!-- Grammar Practice Exercise -->
        <div class="fill-exercise">
            <h3>Exercise 1: Fill in the blanks</h3>


            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це карта </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar1" data-correct="і">
                    <span class="ukrainian-text"> це словник.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">а</div> <div class="key-btn">також</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar1')">Check</button>
                <div class="fill-feedback" id="fill-grammar1-feedback"></div>
            </div>

            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це Оксана </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar2" data-correct="й">
                    <span class="ukrainian-text"> Антон.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">й</div> <div class="key-btn">та</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar2')">Check</button>
                <div class="fill-feedback" id="fill-grammar2-feedback"></div>
            </div>

            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це чай. </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar3" data-correct="А">
                    <span class="ukrainian-text"> це кава.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">І</div> <div class="key-btn">А</div> <div class="key-btn">Також</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar3')">Check</button>
                <div class="fill-feedback" id="fill-grammar3-feedback"></div>
            </div>

            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Книжка тут. Зошит </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar4" data-correct="теж">
                    <span class="ukrainian-text"> тут.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">та</div> <div class="key-btn">теж</div> <div class="key-btn">також</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar4')">Check</button>
                <div class="fill-feedback" id="fill-grammar4-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це стіл </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar5" data-correct="і">
                    <span class="ukrainian-text"> це стілець.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">а</div> <div class="key-btn">та</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar5')">Check</button>
                <div class="fill-feedback" id="fill-grammar5-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Яблуко </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar6" data-correct="та">
                    <span class="ukrainian-text"> груша – це фрукти.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">й</div> <div class="key-btn">та</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar6')">Check</button>
                <div class="fill-feedback" id="fill-grammar6-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Вікно там. </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar7" data-correct="А">
                    <span class="ukrainian-text"> двері тут.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">І</div> <div class="key-btn">А</div> <div class="key-btn">Теж</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar7')">Check</button>
                <div class="fill-feedback" id="fill-grammar7-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Вода </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar8" data-correct="і">
                    <span class="ukrainian-text"> сік – це напої.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">й</div> <div class="key-btn">та</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar8')">Check</button>
                <div class="fill-feedback" id="fill-grammar8-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Я вдома. Мама </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar9" data-correct="теж">
                    <span class="ukrainian-text"> вдома.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">та</div> <div class="key-btn">теж</div> <div class="key-btn">також</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar9')">Check</button>
                <div class="fill-feedback" id="fill-grammar9-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Тато </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-grammar10" data-correct="й">
                    <span class="ukrainian-text"> мама тут.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">і</div> <div class="key-btn">й</div> <div class="key-btn">та</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-grammar10')">Check</button>
                <div class="fill-feedback" id="fill-grammar10-feedback"></div>
            </div>
        </div>
    </div>

     <!-- Etiquette Section -->
    <div class="section">
        <h2 id="etiquette">2. Greetings & Farewells</h2>

        <h3>Common Ukrainian Expressions</h3>
        <p class="listen-repeat-read">Read.</p>
        <table class="stress-model-table">
            <thead><tr><th>Ukrainian Formula</th><th>English Equivalent</th></tr></thead>
            <tbody>
                <tr><td><span lang="uk">До́брого ра́нку!</span></td><td>Good morning!</td></tr>
                <tr><td><span lang="uk">До́брий день!</span></td><td>Good day! / Hello! (formal)</td></tr>
                <tr><td><span lang="uk">До́брий ве́чір!</span></td><td>Good evening!</td></tr>
                <tr><td><span lang="uk">Приві́т!</span></td><td>Hi! / Hello! (informal)</td></tr>
                <tr><td><span lang="uk">Як пожива́єте?</span></td><td>How are you doing? (formal/plural)</td></tr>
                <tr><td><span lang="uk">Як спра́ви? (Як Ви? / Як ти?)</span></td><td>How are you? (Formal/Informal)</td></tr>
                <tr><td><span lang="uk">До поба́чення!</span></td><td>Goodbye! (formal)</td></tr>
                <tr><td><span lang="uk">До зу́стрічі!</span></td><td>See you later! / Until next time!</td></tr>
                <tr><td><span lang="uk">Бува́й! / Бувайте!</span></td><td>Bye! (informal singular / formal or plural)</td></tr>
                <tr><td><span lang="uk">На все до́бре!</span></td><td>All the best! / Take care!</td></tr>
                <tr><td><span lang="uk">Па-па́!</span></td><td>Bye-bye! (very informal)</td></tr>
                <tr><td><span lang="uk">Так</span></td><td>Yes</td></tr>
                <tr><td><span lang="uk">Ні</span></td><td>No</td></tr>
                 <tr><td><span lang="uk">Дя́кую</span></td><td>Thank you</td></tr>
                 <tr><td><span lang="uk">Будь ла́ска</span></td><td>Please / You're welcome</td></tr>
            </tbody>
        </table>
<br>
        <h3>Responding to "How are you?"</h3>
        <p>Possible responses to <span lang="uk">Як спра́ви?</span> / <span lang="uk">Як пожива́єте?</span>:</p>
         <table class="stress-model-table">
             <tr><td><span lang="uk">Чудо́во.</span></td><td>Wonderful / Great.</td><td>😊</td></tr>
             <tr><td><span lang="uk">До́бре.</span></td><td>Good / Fine.</td><td>🙂</td></tr>
             <tr><td><span lang="uk">Непога́но.</span></td><td>Not bad.</td><td>😐</td></tr>
             <tr><td><span lang="uk">Пога́но.</span></td><td>Bad / Poorly.</td><td>🙁</td></tr>
             <tr><td><span lang="uk">Жахли́во.</span></td><td>Terrible / Awful.</td><td>☹️</td></tr>
             <tr><td><span lang="uk">Все до́бре.</span></td><td>Everything is fine.</td><td>👍</td></tr>
             <tr><td><span lang="uk">Так, все до́бре.</span></td><td>Yes, everything is fine.</td><td>✓</td></tr>
        </table>
<br>
        <h3>Dialogue Practice</h3>

        <ul>
            <li><span lang="uk">– До́брого ра́нку!</span><br/><span lang="uk">– До́брого ра́нку!</span></li>
            <li><span lang="uk">– Як ти? Як спра́ви?</span><br/><span lang="uk">– Все до́бре.</span></li>
            <li><span lang="uk">– Ну, бува́й! На все до́бре!</span><br/><span lang="uk">– Па-па́! До за́втра!</span></li>
            <li><span lang="uk">– До́брий день!</span><br/><span lang="uk">– До́брий день!</span></li>
             <li><span lang="uk">– Як Ви? Як спра́ви?</span><br/><span lang="uk">– До́бре.</span><br/><span lang="uk">– Приє́мно ба́чити Вас. До за́втра!</span><br/><span lang="uk">– Навза́єм. До за́втра!</span></li>
             <li><span lang="uk">– До́брий день, Окса́но!</span><br/><span lang="uk">– До́брий день.</span></li>
        </ul>

        <!-- Exercise: Matching Greetings -->
        <div class="fill-exercise">
            <h3>Exercise 2: Matching Game</h3>

            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ukrainian:</h4>
                        <div class="matching-item-container" id="greetings-ukrainian-container">
                            <div class="matching-item ukrainian-text" data-id="1">Приві́т</div>
                            <div class="matching-item ukrainian-text" data-id="2">До́брий день</div>
                            <div class="matching-item ukrainian-text" data-id="3">Як спра́ви?</div>
                            <div class="matching-item ukrainian-text" data-id="4">До поба́чення</div>
                            <div class="matching-item ukrainian-text" data-id="5">Дя́кую</div>
                            <div class="matching-item ukrainian-text" data-id="6">Чудо́во</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <h4>English:</h4>
                        <div class="matching-item-container" id="greetings-english-container">
                            <div class="matching-item" data-id="1">Hello (informal)</div>
                            <div class="matching-item" data-id="2">Good day / Hello (formal)</div>
                            <div class="matching-item" data-id="3">How are you?</div>
                            <div class="matching-item" data-id="4">Goodbye</div>
                            <div class="matching-item" data-id="5">Thank you</div>
                            <div class="matching-item" data-id="6">Wonderful / Great</div>
                        </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="greetings-matching-feedback"></div>
                </div>
            </div>
        </div>

    </div>

     <!-- Combined Practice & Vocabulary Section -->
    <div class="section">
        <h2 id="practice">3. Practice & Vocabulary</h2>

        <h3>Vocabulary Review</h3>
        <p>Common Ukrainian words from this lesson:</p>
        <table class="stress-model-table">
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>куртка</td><td>jacket</td></tr>
                <tr><td>сумка</td><td>bag</td></tr>
                <tr><td>рука</td><td>hand/arm</td></tr>
                <tr><td>нога</td><td>leg/foot</td></tr>
                <tr><td>цукор</td><td>sugar</td></tr>
                <tr><td>стакан</td><td>glass</td></tr>
                <tr><td>паспорт</td><td>passport</td></tr>
                <tr><td>банан</td><td>banana</td></tr>
                <tr><td>будинок</td><td>building</td></tr>
                <tr><td>батон</td><td>loaf of bread</td></tr>
                <tr><td>автобус</td><td>bus</td></tr>
                <tr><td>кафе</td><td>cafe</td></tr>
                <tr><td>вухо</td><td>ear</td></tr>
                <tr><td>кава</td><td>coffee</td></tr>
                <tr><td>лампа</td><td>lamp</td></tr>
                <tr><td>словник</td><td>dictionary</td></tr>
                <tr><td>масло</td><td>butter</td></tr>
                <tr><td>яблуко</td><td>apple</td></tr>
                <tr><td>салат</td><td>salad</td></tr>
                <tr><td>телефон</td><td>telephone</td></tr>
                <tr><td>молоко</td><td>milk</td></tr>
                <tr><td>лимон</td><td>lemon</td></tr>
                <tr><td>зошит</td><td>notebook</td></tr>
                <tr><td>груша</td><td>pear</td></tr>
                <tr><td>шарф</td><td>scarf</td></tr>
                <tr><td>шафа</td><td>wardrobe/closet</td></tr>
                <tr><td>журнал</td><td>magazine/journal</td></tr>
                <tr><td>шапка</td><td>hat</td></tr>
                <tr><td>книжка</td><td>book</td></tr>
                <tr><td>машина</td><td>car</td></tr>
                <tr><td>чашка</td><td>cup</td></tr>
                <tr><td>ложка</td><td>spoon</td></tr>
                <tr><td>ручка</td><td>pen</td></tr>
                <tr><td>викладач</td><td>teacher/lecturer</td></tr>
                <tr><td>сорочка</td><td>shirt</td></tr>
                <tr><td>чай</td><td>tea</td></tr>
            </tbody>
        </table>

         <!-- Exercise: Fill in the Vocabulary -->
        <div class="fill-exercise">
            <br>
            <h3>Exercise 3: Fill in the blanks</h3>


            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab1" data-correct="стіл">
                </div>
                <div class="key-container">
                    <div class="key-btn">стіл</div> <div class="key-btn">книга</div> <div class="key-btn">вікно</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab1')">Check</button>
                <div class="fill-feedback" id="fill-vocab1-feedback"></div>
            </div>

            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab2" data-correct="книга">
                </div>
                 <div class="key-container">
                    <div class="key-btn">стіл</div> <div class="key-btn">книга</div> <div class="key-btn">вікно</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab2')">Check</button>
                <div class="fill-feedback" id="fill-vocab2-feedback"></div>
            </div>

            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab3" data-correct="чай">
                </div>
                 <div class="key-container">
                    <div class="key-btn">кава</div> <div class="key-btn">сік</div> <div class="key-btn">чай</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab3')">Check</button>
                <div class="fill-feedback" id="fill-vocab3-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab4" data-correct="вікно">
                </div>
                 <div class="key-container">
                    <div class="key-btn">двері</div> <div class="key-btn">стіна</div> <div class="key-btn">вікно</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab4')">Check</button>
                <div class="fill-feedback" id="fill-vocab4-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab5" data-correct="телефон">
                </div>
                 <div class="key-container">
                    <div class="key-btn">телефон</div> <div class="key-btn">комп'ютер</div> <div class="key-btn">лампа</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab5')">Check</button>
                <div class="fill-feedback" id="fill-vocab5-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab6" data-correct="словник">
                </div>
                 <div class="key-container">
                    <div class="key-btn">словник</div> <div class="key-btn">зошит</div> <div class="key-btn">книга</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab6')">Check</button>
                <div class="fill-feedback" id="fill-vocab6-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab7" data-correct="яблуко">
                </div>
                 <div class="key-container">
                    <div class="key-btn">лимон</div> <div class="key-btn">яблуко</div> <div class="key-btn">груша</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab7')">Check</button>
                <div class="fill-feedback" id="fill-vocab7-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab8" data-correct="кава">
                </div>
                 <div class="key-container">
                    <div class="key-btn">чай</div> <div class="key-btn">кава</div> <div class="key-btn">молоко</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab8')">Check</button>
                <div class="fill-feedback" id="fill-vocab8-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab9" data-correct="зошит">
                </div>
                 <div class="key-container">
                    <div class="key-btn">книга</div> <div class="key-btn">словник</div> <div class="key-btn">зошит</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab9')">Check</button>
                <div class="fill-feedback" id="fill-vocab9-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Це </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill-vocab10" data-correct="ручка">
                </div>
                 <div class="key-container">
                    <div class="key-btn">олівець</div> <div class="key-btn">ручка</div> <div class="key-btn">маркер</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill-vocab10')">Check</button>
                <div class="fill-feedback" id="fill-vocab10-feedback"></div>
            </div>
        </div>

    </div>
    <div class="section">

        <h2 id="reading">4. Reading Practice</h2>

        <h3>Read</h3>

        <p lang="uk">Тут клас. Зараз урок. Ми тут. Це текст.
        Тут буква А (а). А це звук [а]. Це буква М (ем). А це звук [м]. Це слово «мама». А це фрази: «Це моя мама. Вона вдома».</p>
        <br>
        <br>
        
        <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>Тут клас. Зараз урок. Ми тут. Це текст.</td><td>This is a classroom. It's lesson time. We are here. This is text.</td></tr>
                <tr><td>Тут буква А (а). А це звук [а].</td><td>This is the letter A. And this is the sound [a].</td></tr>
                <tr><td>Це буква М (ем). А це звук [м].</td><td>This is the letter M. And this is the sound [m].</td></tr>
                <tr><td>Це слово «мама».</td><td>This is the word "mama" (mom).</td></tr>
                <tr><td>А це фрази: «Це моя мама. Вона вдома».</td><td>And these phrases: "This is my mom. She is at home".</td></tr>
            </tbody>
        </table>
<br>
        <h3>Read and answer the questions.</h3>
        <p lang="uk">Це клас. Зараз урок. Я тут. Моя група теж тут. Зошит і журнал тут. Моя книжка теж тут. А шапка і шарф вдома.</p>
        <br>
        <br>
        <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>Це клас. Зараз урок.</td><td>This is a classroom. It's lesson time.</td></tr>
                <tr><td>Я тут. Моя група теж тут.</td><td>I am here. My group is also here.</td></tr>
                <tr><td>Зошит і журнал тут. Моя книжка теж тут.</td><td>The notebook and journal are here. My book is also here.</td></tr>
                <tr><td>А шапка і шарф вдома.</td><td>But the hat and scarf are at home.</td></tr>
            </tbody>
        </table>
        <p>Questions:</p>
        <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>Де я і моя група?</td><td>Where am I and my group?</td></tr>
                <tr><td>Де зошит і журнал?</td><td>Where are the notebook and journal?</td></tr>
                <tr><td>Де шапка і шарф?</td><td>Where are the hat and scarf?</td></tr>
            </tbody>
        </table>
         <p>Answers:</p>
         <table>
            <thead>
                <tr><th>Ukrainian</th><th>English</th></tr>
            </thead>
            <tbody>
                <tr><td>Ви і Ваша група тут.</td><td>You and your group are here.</td></tr>
                <tr><td>Зошит і журнал тут.</td><td>The notebook and journal are here.</td></tr>
                <tr><td>Шапка і шарф вдома.</td><td>The hat and scarf are at home.</td></tr>
            </tbody>
        </table>

         <!-- Exercise: Sentence Building -->
        <div class="fill-exercise">
            <h3>Exercise 4: Sentence Building</h3>


            <div class="word-order-game">
                <div id="sentences-container"></div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    // Sentences data based on lesson content
                    const sentencesData = [
                        { ukrainian: "Це Томас та Тамара", english: "This is Tomas and Tamara." },
                        { ukrainian: "Де Антон", english: "Where is Anton?" },
                        { ukrainian: "Антон тут", english: "Anton is here." },
                        { ukrainian: "Це моя мама", english: "This is my mom." },
                        { ukrainian: "Вона вдома", english: "She is at home." },
                        { ukrainian: "Це Роман і Тарас", english: "This is Roman and Taras." },
                        { ukrainian: "Карта тут", english: "The map is here." },
                        { ukrainian: "Це кава", english: "This is coffee." },
                        { ukrainian: "Моя група теж тут", english: "My group is also here." },
                        { ukrainian: "Зараз урок", english: "The lesson is now." }
                    ];

                    // --- Rest of the Sentence Building Game Logic (identical to original template) ---
                    const sentences = sentencesData.map(item => ({
                        original: item.ukrainian,
                        english: item.english,
                        words: item.ukrainian.split(/\s+/)
                    }));
                    const gameContainer = document.getElementById('sentences-container');
                    function shuffleArray(array) {
                        const newArray = [...array];
                        for (let i = newArray.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                        }
                        return newArray;
                    }
                    sentences.forEach((sentence, index) => {
                        const sentenceElement = document.createElement('div');
                        sentenceElement.className = 'game-sentence';
                        sentenceElement.id = `sentence-${index}`;
                        const translation = document.createElement('div');
                        translation.className = 'game-sentence-translation';
                        translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`;
                        sentenceElement.appendChild(translation);
                        const solutionArea = document.createElement('div');
                        solutionArea.className = 'solution-area';
                        solutionArea.id = `solution-area-${index}`;
                        sentenceElement.appendChild(solutionArea);
                        const wordsBank = document.createElement('div');
                        wordsBank.className = 'words-bank';
                        wordsBank.id = `words-bank-${index}`;
                        sentenceElement.appendChild(wordsBank);
                        const shuffledWords = shuffleArray(sentence.words);
                        shuffledWords.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ukrainian-text';
                            wordElement.textContent = word;
                            wordElement.addEventListener('click', () => {
                                const parent = wordElement.parentElement;
                                if (parent.classList.contains('words-bank')) {
                                    document.getElementById(`solution-area-${index}`).appendChild(wordElement);
                                } else {
                                    document.getElementById(`words-bank-${index}`).appendChild(wordElement);
                                }
                                const feedbackElement = document.getElementById(`feedback-${index}`);
                                feedbackElement.textContent = '';
                                feedbackElement.className = 'game-feedback';
                            });
                            wordsBank.appendChild(wordElement);
                        });
                        const feedback = document.createElement('div');
                        feedback.className = 'game-feedback';
                        feedback.id = `feedback-${index}`;
                        sentenceElement.appendChild(feedback);
                        const buttonContainer = document.createElement('div');
                        buttonContainer.className = 'sentence-buttons';
                        const checkButton = document.createElement('button');
                        checkButton.className = 'check-btn';
                        checkButton.textContent = 'Check Answer';
                        checkButton.addEventListener('click', () => checkAnswer(index));
                        buttonContainer.appendChild(checkButton);
                        const showAnswerButton = document.createElement('button');
                        showAnswerButton.className = 'show-answer-btn';
                        showAnswerButton.textContent = 'Show Answer';
                        showAnswerButton.addEventListener('click', () => showAnswer(index));
                        buttonContainer.appendChild(showAnswerButton);
                        const deleteBtn = document.createElement('button');
                        deleteBtn.className = 'delete-btn';
                        deleteBtn.textContent = 'Clear Box';
                        deleteBtn.addEventListener('click', () => {
                            const solutionArea = document.getElementById(`solution-area-${index}`);
                            const wordsBank = document.getElementById(`words-bank-${index}`);
                            while (solutionArea.firstChild) {
                                wordsBank.appendChild(solutionArea.firstChild);
                            }
                            const feedbackElement = document.getElementById(`feedback-${index}`);
                            feedbackElement.textContent = '';
                            feedbackElement.className = 'game-feedback';
                        });
                        buttonContainer.appendChild(deleteBtn);
                        sentenceElement.appendChild(buttonContainer);
                        gameContainer.appendChild(sentenceElement);
                        if (index > 0) {
                            sentenceElement.style.display = 'none';
                        }
                    });
                    function checkAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
                        const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
                        const correctWords = sentences[sentenceId].words;
                        if (currentWords.length !== correctWords.length) {
                            feedbackElement.textContent = '✗ Please use all the words.';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                            return;
                        }
                        const isCorrect = arraysEqual(currentWords, correctWords);
                        if (isCorrect) {
                            feedbackElement.textContent = '✓ Correct! Well done!';
                            feedbackElement.className = 'game-feedback feedback-correct';
                            sentenceElement.classList.add('completed');
                            if (sentenceId < sentences.length - 1) {
                                setTimeout(() => {
                                    const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                    if (nextSentence) {
                                        nextSentence.style.display = 'block';
                                        nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    }
                                }, 800);
                            }
                        } else {
                            feedbackElement.textContent = '✗ Not quite right. Try again!';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                        }
                    }
                    function showAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
                        solutionArea.innerHTML = '';
                        wordsBank.innerHTML = '';
                        sentences[sentenceId].words.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ukrainian-text';
                            wordElement.textContent = word;
                            solutionArea.appendChild(wordElement);
                        });
                        feedbackElement.textContent = 'This is the correct order.';
                        feedbackElement.className = 'game-feedback';
                        sentenceElement.classList.add('completed');
                         if (sentenceId < sentences.length - 1) {
                                setTimeout(() => {
                                    const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                    if (nextSentence) {
                                        nextSentence.style.display = 'block';
                                        nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    }
                                }, 800);
                            }
                    }
                    function arraysEqual(a, b) {
                        if (a.length !== b.length) return false;
                        return a.every((val, index) => val === b[index]);
                    }
                });
            </script>
        </div>

    </div>


    <!-- Congratulations Section -->
    <div class="section" style="background: linear-gradient(to bottom, #0057B7 50%, #FFDD00 50%);">
        <h2 style="text-align: center;">
            <span class="congrats-ukrainian" style="color: #FFDD00;">Вітаємо!<br>Ви завершили Тему 1</span><br><br>
            <span class="congrats-english" style="display: block; font-size: inherit;">Congratulations!<br>You finished Topic 1</span>
        </h2>
    </div>

    <!-- Navigation Buttons -->
    <div class="nav-buttons-container">
        <a href="/ukrainian_lessons_en.html" class="nav-button">Back to all lessons</a>
    </div>

    <script>
        // --- Matching Game Logic ---
        function initializeMatchingGame(ukrainianContainerId, englishContainerId, feedbackId, totalPairs) {
            let selected = { ukrainian: null, english: null }; let matchCount = 0;
            const ukrainianContainer = document.getElementById(ukrainianContainerId);
            const englishContainer = document.getElementById(englishContainerId);
            const feedbackElement = document.getElementById(feedbackId);
            if (!ukrainianContainer || !englishContainer || !feedbackElement) return;
            const shuffle = c => Array.from(c.children).sort(() => .5-Math.random()).forEach(i=>c.appendChild(i));
            shuffle(ukrainianContainer); shuffle(englishContainer);
            const items = document.querySelectorAll(`#${ukrainianContainerId} .matching-item, #${englishContainerId} .matching-item`);
            items.forEach(item => {
                const newItem = item.cloneNode(true); item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isUkrainian = this.closest(`#${ukrainianContainerId}`) !== null;
                    const side = isUkrainian ? 'ukrainian' : 'english';
                    if (selected[side]) selected[side].classList.remove('selected');
                    this.classList.add('selected'); selected[side] = this;
                    feedbackElement.textContent = '';
                    if (selected.ukrainian && selected.english) {
                        if (selected.ukrainian.dataset.id === selected.english.dataset.id) {
                            // Correct Match
                            ['ukrainian', 'english'].forEach(s => { selected[s].classList.remove('selected'); selected[s].classList.add('matched'); });
                            matchCount++;
                            if (matchCount === totalPairs) {
                                feedbackElement.textContent = 'Correct';
                                feedbackElement.className = 'matching-feedback correct';
                            } selected = { ukrainian: null, english: null };
                        } else { // Incorrect Match
                            feedbackElement.textContent = '';
                            const selO = selected.ukrainian, selE = selected.english;
                            setTimeout(() => { if(selO) selO.classList.remove('selected'); if(selE) selE.classList.remove('selected'); }, 800);
                            selected = { ukrainian: null, english: null };
                        }
                    }
                });
            });
        }

        // Fill-in exercise logic
        function checkFillAnswer(inputId) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById(`${inputId}-feedback`);
            const correctAnswer = input.dataset.correct;
            // Normalize input: trim whitespace, convert to lowercase for case-insensitive comparison
            const userAnswer = input.value.trim().toLowerCase();
            const normalizedCorrectAnswer = correctAnswer.trim().toLowerCase();

            if (userAnswer === normalizedCorrectAnswer) {
                feedback.textContent = "✓ Correct!";
                feedback.className = "fill-feedback correct";
                input.style.backgroundColor = "#e6ffee"; // Light green background for correct
            } else {
                feedback.innerHTML = `✗ Not quite. Correct is: <span class="correct-answer-display ukrainian-text">${correctAnswer}</span>`;
                feedback.className = "fill-feedback incorrect";
                input.style.backgroundColor = "#ffebeb"; // Light red background for incorrect
            }
        }


        document.addEventListener('DOMContentLoaded', function() {
            // Initialize matching game for greetings
            initializeMatchingGame('greetings-ukrainian-container', 'greetings-english-container', 'greetings-matching-feedback', 6);

            // Add key button functionality for fill-in exercises
            document.querySelectorAll('.key-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // Find the closest fill-item parent
                    const fillItem = this.closest('.fill-item');
                    // Find the input inside this fill-item
                    const input = fillItem.querySelector('.fill-input');
                    if (input) {
                        input.value = this.textContent;
                        // Clear any existing feedback
                        const feedbackId = input.id + '-feedback';
                        const feedback = document.getElementById(feedbackId);
                        if (feedback) {
                            feedback.textContent = '';
                            feedback.className = 'fill-feedback';
                        }
                        // Reset input background
                        input.style.backgroundColor = ''; // Reset background on new input
                    }
                });
            });

             // Add listener for Enter key in fill-in inputs
            document.querySelectorAll('.fill-input').forEach(input => {
                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault(); // Prevent form submission if applicable
                        const fillItem = this.closest('.fill-item');
                        const checkButton = fillItem.querySelector('.fill-check');
                        if (checkButton) {
                            checkButton.click(); // Trigger the check function
                        }
                    }
                });
            });

        });
    </script>

</body>
</html>