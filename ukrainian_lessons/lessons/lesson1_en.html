<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lesson 1: Basic Grammar and Vocabulary</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Ukrainian-inspired color scheme */
        :root {
            --ukrainian-blue: #0057B8; --ukrainian-yellow: #FFD700; --ukrainian-dark-blue: #003893;
            --ukrainian-light-blue: #88BFFF; --ukrainian-navy: #001F54; --ukrainian-cream: #FFF8E1;
            --ukrainian-light-yellow: #FFF2B0; --ukrainian-gold: #E8C000; --ukrainian-light-teal: #CCFCF6;
            --body-background: #0057B8; --text-color: #003893; --text-light: #FFFFFF;
        }
        body { font-family: 'Nunito', Arial, sans-serif; line-height: 1.7; max-width: 800px; margin: 0 auto; padding: 15px; background-color: var(--body-background); background-image: url('../ukrainian_background.png'); background-repeat: repeat; background-size: 300px auto; box-sizing: border-box; color: var(--ukrainian-navy); }
        [lang="uk"], td:first-child, .ukrainian-text, .matching-item.ukrainian-text, .fill-input.ukrainian-input, .key-btn, .correct-answer-display { font-family: 'Nunito', serif; font-size: 1em; line-height: 1.5; font-weight: 500; direction: ltr; text-align: left; }
        /* Latin text styling - Fix for oversized Latin text */
        .latin-text { font-family: 'Nunito', Arial, sans-serif !important; font-size: 0.7em !important; font-weight: normal !important; direction: ltr !important; }
        
        .matching-item.ukrainian-text, .key-btn { text-align: center; }
        .fill-input.ukrainian-input { text-align: left; font-size: 1em; }
        td:first-child, td[lang="uk"] { text-align: left !important; padding-top: 18px; padding-bottom: 18px; }
        * { box-sizing: border-box; }
        h1, h2, h3 { color: var(--ukrainian-navy); font-weight: 700; line-height: 1.3; }
        h1 { text-align: left; border-bottom: 3px solid var(--ukrainian-yellow); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.8rem; color: var(--text-light); }
        h2 { font-size: 1.5rem; margin-top: 30px; }
        h3 { font-size: 1.2rem; margin-top: 25px; color: var(--ukrainian-blue); }
        .section { background-color: var(--ukrainian-light-blue); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); background-color: #88BFFF; }
        .title-section { background-color: #0057B7; border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); border: 3px solid #FFDD00; }
        .title-section h1 { text-align: left; border-bottom: 3px solid var(--ukrainian-yellow); padding-bottom: 15px; margin-bottom: 0; margin-top: 0; font-size: 1.8rem; color: var(--text-light); }
        th, td { padding: 12px 15px; text-align: left; border: none; }
        th { background-color: var(--ukrainian-blue); color: var(--text-light); font-weight: 600; }
        tr:nth-child(even) { background-color: var(--ukrainian-light-blue); }
        tr:hover { background-color: #B9DBFF; }
        .note { background-color: var(--ukrainian-light-yellow); padding: 15px; border-left: 4px solid var(--ukrainian-yellow); margin: 20px 0; border-radius: 0 8px 8px 0; }

        /* Feedback Styles */
        .feedback, .fill-feedback { margin-top: 8px; margin-left: 5px; font-weight: bold; }
        /* Correct/Incorrect feedback text colors AND STYLE */
        .fill-feedback.correct { color: var(--ukrainian-dark-blue); }
        .fill-feedback.incorrect { color: #C70039; }
        /* Specific style for matching game 'Correct' feedback */
        .matching-feedback.correct { color: black !important; font-size: 1.5rem !important; }
        /* Style for sentence building feedback */
        .fill-feedback.correct.sentence-building { 
            color: black !important; 
            font-size: 1.5rem !important; 
            font-weight: bold !important;
            font-family: 'Nunito', Arial, sans-serif !important;
            background-color: var(--ukrainian-yellow);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        /* Display for showing correct answer on incorrect attempt */
        .correct-answer-display { display: inline-block; margin-left: 5px; }

        /* Matching Game Styles */
        .matching-game { background-color: var(--ukrainian-yellow); padding: 20px; border-radius: 8px; margin-top: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .matching-columns-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .matching-column { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .matching-column h4 { text-align: center; margin-bottom: 10px; }
        .matching-item-container { display: flex; flex-direction: column; gap: 10px; }
        .matching-item { padding: 12px 15px; background-color: white; border: 2px solid var(--ukrainian-blue); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-align: center; -webkit-tap-highlight-color: transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .matching-item:hover { background-color: var(--ukrainian-light-blue); }
        .matching-item.selected { background-color: var(--ukrainian-blue); color: var(--text-light); }
        .matching-item.matched { background-color: var(--ukrainian-yellow); color: black; border-color: var(--ukrainian-yellow); cursor: default; }
        .matching-result { text-align: center; }
        .matching-result div { font-size: 1.2rem; font-weight: bold; color: black; margin-top: 15px; }


        /* Fill-in / Sentence Building Styles */
        .fill-exercise { margin-top: 30px; }
        /* Container for each exercise item */
        .fill-item { background-color: var(--ukrainian-yellow); margin-bottom: 20px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        /* General row for inputs/text */
        .exercise-row { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; flex-wrap: wrap; color: var(--text-color); font-weight: 500; }
        /* Translation text style */
        .translation { color: black; font-size: 1.1em; }
        /* Input field */
        .fill-input { background-color: var(--ukrainian-yellow); width: 120px; padding: 8px 12px; border: 2px solid #997000; border-radius: 6px; font-size: 16px; font-family: inherit; }
        /* Wider input for sentence building */
        .fill-input.long-input { width: 100%; max-width: 400px; }
        /* Ukrainian Input specific font override */
        .fill-input.ukrainian-input { font-family: 'Nunito', serif; font-size: 1.6em; direction: ltr; text-align: left; }
        /* Container for key buttons */
        .key-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
        /* Key buttons */
        .key-btn { padding: 5px 12px; background-color: #FFF2B0; border: 1px solid #E6A800; border-radius: 6px; cursor: pointer; color: #333; font-size: 1em; font-family: 'Nunito', serif; text-align: center; }
        .key-btn:hover { background-color: #FFE082; color: black; }
        /* Check button */
        .fill-check { padding: 8px 15px; background-color: #FFF2B0; color: black; border: none; border-radius: 6px; cursor: pointer; font-family: inherit; font-weight: 600; transition: background-color 0.2s ease; }
        .fill-check:hover { background-color: #FFE082; }


        /* Congratulations */
         /* Using standard .section */
         .congrats-ukrainian { font-family: 'Nunito', serif; font-size: 30px; line-height: 1.4; }
         .congrats-english { font-size: 1.2em; margin-top: 10px; }
         
        /* Word Order Game Styles - For Duolingo-style exercise */
        .word-order-game {
            background-color: var(--ukrainian-light-blue);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .game-sentence {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }
        
        .game-sentence.completed {
            background-color: var(--ukrainian-light-teal);
            border-left: 4px solid var(--ukrainian-dark-blue);
        }
        
        .game-sentence-translation {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }
        
        .sentence-number {
            display: inline-block;
            min-width: 45px;
            font-weight: 700;
            color: var(--ukrainian-dark-blue);
        }
        
        .solution-area {
            min-height: 60px;
            padding: 10px;
            background-color: #e0efff;
            border-radius: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
            border: 2px dashed var(--ukrainian-blue);
            direction: ltr;
            justify-content: flex-start;
        }
        
        .words-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background-color: var(--ukrainian-cream);
            border-radius: 6px;
            margin-bottom: 10px;
            direction: ltr;
        }
        
        .word-box {
            display: inline-block;
            padding: 8px 12px;
            background-color: var(--ukrainian-blue);
            color: white;
            border-radius: 5px;
            cursor: pointer;
            user-select: none;
            margin: 0;
            font-weight: 500;
            border: 2px solid transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }
        
        .solution-area .word-box {
            background-color: #88BFFF;
            color: var(--text-color);
            border-color: var(--ukrainian-blue);
        }
        
        .word-box:active {
            transform: scale(0.95);
        }
        
        .game-feedback {
            margin-top: 10px;
            font-weight: 600;
        }
        
        .feedback-correct {
            color: var(--ukrainian-dark-blue);
        }
        
        .feedback-incorrect {
            color: #C70039;
        }
        
        .sentence-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .check-btn, .show-answer-btn, .delete-btn {
            flex: 1;
            background-color: var(--ukrainian-blue);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .check-btn:hover, .show-answer-btn:hover, .delete-btn:hover {
            background-color: #0050a3;
        }
        
        .check-btn:active, .show-answer-btn:active, .delete-btn:active {
            transform: scale(0.98);
        }
        
        .show-answer-btn {
            background-color: var(--ukrainian-light-blue);
            color: var(--text-color);
        }
        
        .show-answer-btn:hover {
            background-color: #70B0FF;
        }
        
        .delete-btn {
            background-color: #FFE8B0;
            color: var(--text-color);
        }
        
        .delete-btn:hover {
            background-color: #FFD980;
        }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: space-between; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--ukrainian-navy); color: var(--text-light); border: 3px solid var(--ukrainian-blue); border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: flex; align-items: center; justify-content: center; line-height: 1.4; }
        .nav-button:hover { background-color: var(--ukrainian-blue); border-color: var(--ukrainian-navy); }
        .prev-button { margin-right: auto; }
        .next-button, .exercises-button { margin-left: 10px; }
        .nav-button.next-button {
    padding-top: 27px;
}

         /* Small Latin text */
         .small-latin { font-size: 0.6em !important; font-family: 'Nunito', Arial, sans-serif !important; font-weight: normal !important; display: inline-block; vertical-align: middle; direction: ltr; text-align: left; }

        /* Media queries */
        @media (max-width: 600px) {
            .section, .title-section { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; padding-bottom: 10px; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            .exercise { padding: 15px; }
            .matching-columns-container { flex-direction: column; gap: 15px; } .matching-item { font-size: 1em; padding: 10px 12px; } .matching-item.ukrainian-text { font-size: 1.2em; }
            /* Fill-in exercises - Adjust layout on mobile */
            .exercise-row { flex-direction: row; align-items: center; gap: 8px; flex-wrap: wrap;} /* Keep row, allow wrap, smaller gap */
            .exercise-row .ukrainian-text { flex-shrink: 0; margin-right: 5px;}
            .exercise-row .fill-input { flex-grow: 1; width: auto; min-width: 80px; margin-right: 5px;}
            .exercise-row .translation { flex-basis: auto; }

            .fill-input { width: 100%; max-width: none; margin-top: 5px; }
            .key-container { justify-content: center; }
            .fill-check { width: 100%; max-width: 300px; margin-top: 10px; }
            /* Specific adjustments for Ex2 layout on mobile */
             .fill-item .exercise-row-ex2 { flex-direction: row; flex-wrap: wrap;}
             .fill-item .exercise-row-ex2 .ukrainian-text { margin-left: 10px; }
            /* Navigation */
            .nav-buttons-container { flex-direction: column; gap: 15px; } .nav-button { width: 100%; margin: 0; font-size: 1rem;}
            body { padding: 10px; }
            
            /* Word order game mobile adjustments */
            .sentence-buttons {
                flex-direction: column;
            }
            
            .check-btn, .show-answer-btn, .delete-btn {
                width: 100%;
            }
        }
         @media (max-width: 450px) {
             .matching-item { padding: 10px 8px; font-size: 0.9em; } .matching-item.ukrainian-text { font-size: 1.1em; }
             .key-btn { font-size: 1.4em; padding: 4px 10px;} .nav-button { padding: 12px 15px; }
             .exercise-row {gap: 5px;}
         }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>Lesson 1<br>Basic Grammar and Vocabulary</h1>
    </div>

    <div class="section">
        <h3>Lesson Objectives</h3>
        <ul>
             <li><a href="#greetings" style="color: inherit; text-decoration: none;">Basic Greetings</a></li>
             <li><a href="#personal-pronouns" style="color: inherit; text-decoration: none;">Personal Pronouns</a></li>
             <li><a href="#verb-to-be" style="color: inherit; text-decoration: none;">The Verb "To Be"</a></li>
             <li><a href="#question-words" style="color: inherit; text-decoration: none;">Question Words</a></li>
             <li><a href="#simple-sentences" style="color: inherit; text-decoration: none;">Simple Sentences</a></li>
             <li><a href="#noun-gender" style="color: inherit; text-decoration: none;">Noun Gender</a></li>
        </ul>
    </div>

    <!-- Basic Greetings Section -->
    <div class="section">
        <h2 id="greetings">1. Basic Greetings</h2>
        <p>Here are some common greetings and expressions in Ukrainian:</p>
    
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Привіт</td>
                <td>pryvit</td>
                <td>Hello (informal)</td>
            </tr>
            <tr>
                <td lang="uk">Добрий день</td>
                <td>dobryi den</td>
                <td>Good day / Hello (formal)</td>
            </tr>
            <tr>
                <td lang="uk">Добрий ранок</td>
                <td>dobryi ranok</td>
                <td>Good morning</td>
            </tr>
            <tr>
                <td lang="uk">Добрий вечір</td>
                <td>dobryi vechir</td>
                <td>Good evening</td>
            </tr>
            <tr>
                <td lang="uk">До побачення</td>
                <td>do pobachennya</td>
                <td>Goodbye</td>
            </tr>
            <tr>
                <td lang="uk">Дякую</td>
                <td>dyakuyu</td>
                <td>Thank you</td>
            </tr>
            <tr>
                <td lang="uk">Будь ласка</td>
                <td>bud laska</td>
                <td>Please / You're welcome</td>
            </tr>
            <tr>
                <td lang="uk">Так</td>
                <td>tak</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td lang="uk">Ні</td>
                <td>ni</td>
                <td>No</td>
            </tr>
            <tr>
                <td lang="uk">Перепрошую</td>
                <td>pereproshuyu</td>
                <td>Excuse me / I'm sorry</td>
            </tr>
        </table>

        <!-- Exercise 1: Matching Greetings -->
        <div class="fill-exercise">
            <h3>Exercise 1: Matching</h3>
            <p>Match the Ukrainian greetings with their English meanings.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ukrainian:</h4>
                        <div class="matching-item-container" id="greetings-ukrainian-container">
                            <div class="matching-item ukrainian-text" data-id="1">Привіт</div>
                            <div class="matching-item ukrainian-text" data-id="2">Добрий день</div>
                            <div class="matching-item ukrainian-text" data-id="3">Дякую</div>
                            <div class="matching-item ukrainian-text" data-id="4">До побачення</div>
                            <div class="matching-item ukrainian-text" data-id="5">Будь ласка</div>
                            <div class="matching-item ukrainian-text" data-id="6">Перепрошую</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <h4>English:</h4>
                        <div class="matching-item-container" id="greetings-english-container">
                            <div class="matching-item" data-id="1">Hello (informal)</div>
                            <div class="matching-item" data-id="2">Good day / Hello (formal)</div>
                            <div class="matching-item" data-id="3">Thank you</div>
                            <div class="matching-item" data-id="4">Goodbye</div>
                            <div class="matching-item" data-id="5">Please / You're welcome</div>
                            <div class="matching-item" data-id="6">Excuse me / I'm sorry</div>
                        </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="greetings-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Personal Pronouns Section -->
    <div class="section">
        <h2 id="personal-pronouns">2. Personal Pronouns</h2>
        <p>Personal pronouns in Ukrainian change based on their case. Here are the basic personal pronouns in the nominative case (the subject form):</p>

        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">я</td>
                <td>ya</td>
                <td>I</td>
            </tr>
            <tr>
                <td lang="uk">ти</td>
                <td>ty</td>
                <td>you (singular, informal)</td>
            </tr>
            <tr>
                <td lang="uk">він</td>
                <td>vin</td>
                <td>he</td>
            </tr>
            <tr>
                <td lang="uk">вона</td>
                <td>vona</td>
                <td>she</td>
            </tr>
            <tr>
                <td lang="uk">воно</td>
                <td>vono</td>
                <td>it</td>
            </tr>
            <tr>
                <td lang="uk">ми</td>
                <td>my</td>
                <td>we</td>
            </tr>
            <tr>
                <td lang="uk">ви</td>
                <td>vy</td>
                <td>you (plural or formal singular)</td>
            </tr>
            <tr>
                <td lang="uk">вони</td>
                <td>vony</td>
                <td>they</td>
            </tr>
        </table>

        <p class="note">Note: Ukrainian has formal and informal ways of saying "you." Use "ти" (ty) with friends, family members, and children. Use "ви" (vy) with people you don't know well, with elders, or in formal situations.</p>

        <!-- Exercise 2: Matching Pronouns -->
        <div class="fill-exercise">
            <h3>Exercise 2: Matching</h3>
            <p>Match the Ukrainian pronouns with their English meanings.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ukrainian:</h4>
                        <div class="matching-item-container" id="pronouns-ukrainian-container">
                            <div class="matching-item ukrainian-text" data-id="1">я</div>
                            <div class="matching-item ukrainian-text" data-id="2">ти</div>
                            <div class="matching-item ukrainian-text" data-id="3">він</div>
                            <div class="matching-item ukrainian-text" data-id="4">вона</div>
                            <div class="matching-item ukrainian-text" data-id="5">ми</div>
                            <div class="matching-item ukrainian-text" data-id="6">вони</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <h4>English:</h4>
                        <div class="matching-item-container" id="pronouns-english-container">
                            <div class="matching-item" data-id="1">I</div>
                            <div class="matching-item" data-id="2">you (singular, informal)</div>
                            <div class="matching-item" data-id="3">he</div>
                            <div class="matching-item" data-id="4">she</div>
                            <div class="matching-item" data-id="5">we</div>
                            <div class="matching-item" data-id="6">they</div>
                        </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="pronouns-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- The Verb "To Be" Section -->
    <div class="section">
        <h2 id="verb-to-be">3. The Verb "To Be"</h2>
        <p>The verb "to be" in Ukrainian is "бути" (buty). In the present tense, it is often omitted or represented by the word "є" (ye).</p>

        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Я студент.</td>
                <td>Ya student.</td>
                <td>I am a student. (male)</td>
            </tr>
            <tr>
                <td lang="uk">Я студентка.</td>
                <td>Ya studentka.</td>
                <td>I am a student. (female)</td>
            </tr>
            <tr>
                <td lang="uk">Ти вчитель.</td>
                <td>Ty vchytel.</td>
                <td>You are a teacher. (male)</td>
            </tr>
            <tr>
                <td lang="uk">Ти вчителька.</td>
                <td>Ty vchytelka.</td>
                <td>You are a teacher. (female)</td>
            </tr>
            <tr>
                <td lang="uk">Він лікар.</td>
                <td>Vin likar.</td>
                <td>He is a doctor.</td>
            </tr>
            <tr>
                <td lang="uk">Вона лікарка.</td>
                <td>Vona likarka.</td>
                <td>She is a doctor.</td>
            </tr>
            <tr>
                <td lang="uk">Ми українці.</td>
                <td>My ukrayintsi.</td>
                <td>We are Ukrainians.</td>
            </tr>
            <tr>
                <td lang="uk">Ви студенти.</td>
                <td>Vy studenty.</td>
                <td>You are students.</td>
            </tr>
            <tr>
                <td lang="uk">Вони друзі.</td>
                <td>Vony druzi.</td>
                <td>They are friends.</td>
            </tr>
        </table>

        <p class="note">Note: In Ukrainian, there is usually no verb "to be" in the present tense. The subject and predicate are simply placed next to each other. However, "є" (ye) can be used for emphasis or in certain structures.</p>

        <h3>The Verb "To Be" in the Past Tense</h3>
        <p>In the past tense, the verb "to be" is "був/була/було" (buv/bula/bulo) depending on gender and "були" (buly) for plural.</p>

        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Я був студентом.</td>
                <td>Ya buv studentom.</td>
                <td>I was a student. (male speaker)</td>
            </tr>
            <tr>
                <td lang="uk">Я була студенткою.</td>
                <td>Ya bula studentkoyu.</td>
                <td>I was a student. (female speaker)</td>
            </tr>
            <tr>
                <td lang="uk">Ти був вчителем.</td>
                <td>Ty buv vchytelem.</td>
                <td>You were a teacher. (male)</td>
            </tr>
            <tr>
                <td lang="uk">Вона була вчителькою.</td>
                <td>Vona bula vchytelkoyu.</td>
                <td>She was a teacher.</td>
            </tr>
            <tr>
                <td lang="uk">Ми були в Києві.</td>
                <td>My buly v Kyyevi.</td>
                <td>We were in Kyiv.</td>
            </tr>
        </table>

        <!-- Fill-in Exercise -->
        <div class="fill-exercise">
            <h3>Exercise 3: Fill in the Blanks</h3>
            <p>Fill in the blanks with the correct form of the past tense "to be" (був, була, було, були).</p>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Я (чоловік) </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill1" data-correct="був">
                    <span class="ukrainian-text"> у школі.</span>
                    <span class="translation">I (male) was at school.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">був</div>
                    <div class="key-btn">була</div>
                    <div class="key-btn">було</div>
                    <div class="key-btn">були</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill1')">Check</button>
                <div class="fill-feedback" id="fill1-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Вона </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill2" data-correct="була">
                    <span class="ukrainian-text"> вчителькою.</span>
                    <span class="translation">She was a teacher.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">був</div>
                    <div class="key-btn">була</div>
                    <div class="key-btn">було</div>
                    <div class="key-btn">були</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill2')">Check</button>
                <div class="fill-feedback" id="fill2-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Вони </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill3" data-correct="були">
                    <span class="ukrainian-text"> в університеті.</span>
                    <span class="translation">They were at the university.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">був</div>
                    <div class="key-btn">була</div>
                    <div class="key-btn">було</div>
                    <div class="key-btn">були</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill3')">Check</button>
                <div class="fill-feedback" id="fill3-feedback"></div>
            </div>
            
            <div class="fill-item">
                <div class="exercise-row">
                    <span class="ukrainian-text">Воно (яблуко) </span>
                    <input type="text" class="fill-input ukrainian-input" id="fill4" data-correct="було">
                    <span class="ukrainian-text"> червоне.</span>
                    <span class="translation">It (the apple) was red.</span>
                </div>
                <div class="key-container">
                    <div class="key-btn">був</div>
                    <div class="key-btn">була</div>
                    <div class="key-btn">було</div>
                    <div class="key-btn">були</div>
                </div>
                <button class="fill-check" onclick="checkFillAnswer('fill4')">Check</button>
                <div class="fill-feedback" id="fill4-feedback"></div>
            </div>
        </div>
    </div>

    <!-- Question Words Section -->
    <div class="section">
        <h2 id="question-words">4. Question Words</h2>
        <p>Here are the most common question words in Ukrainian:</p>

        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th><th>Example</th></tr>
            <tr>
                <td lang="uk">Хто?</td>
                <td>Khto?</td>
                <td>Who?</td>
                <td lang="uk">Хто це? (Who is this?)</td>
            </tr>
            <tr>
                <td lang="uk">Що?</td>
                <td>Shcho?</td>
                <td>What?</td>
                <td lang="uk">Що це? (What is this?)</td>
            </tr>
            <tr>
                <td lang="uk">Де?</td>
                <td>De?</td>
                <td>Where?</td>
                <td lang="uk">Де ти? (Where are you?)</td>
            </tr>
            <tr>
                <td lang="uk">Коли?</td>
                <td>Koly?</td>
                <td>When?</td>
                <td lang="uk">Коли ми почнемо? (When will we start?)</td>
            </tr>
            <tr>
                <td lang="uk">Чому?</td>
                <td>Chomu?</td>
                <td>Why?</td>
                <td lang="uk">Чому ти тут? (Why are you here?)</td>
            </tr>
            <tr>
                <td lang="uk">Як?</td>
                <td>Yak?</td>
                <td>How?</td>
                <td lang="uk">Як справи? (How are you?)</td>
            </tr>
            <tr>
                <td lang="uk">Скільки?</td>
                <td>Skilky?</td>
                <td>How many/much?</td>
                <td lang="uk">Скільки це коштує? (How much does it cost?)</td>
            </tr>
            <tr>
                <td lang="uk">Який?</td>
                <td>Yakyi?</td>
                <td>Which/What kind?</td>
                <td lang="uk">Який це колір? (What color is this?)</td>
            </tr>
        </table>

        <p class="note">Note: In Ukrainian, the question word usually comes at the beginning of the sentence. The word order may change in questions, but it's not required as it is in English.</p>

        <!-- Exercise 4: Matching Question Words -->
        <div class="fill-exercise">
            <h3>Exercise 4: Matching</h3>
            <p>Match the Ukrainian question words with their English meanings.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ukrainian:</h4>
                        <div class="matching-item-container" id="questions-ukrainian-container">
                            <div class="matching-item ukrainian-text" data-id="1">Хто?</div>
                            <div class="matching-item ukrainian-text" data-id="2">Що?</div>
                            <div class="matching-item ukrainian-text" data-id="3">Де?</div>
                            <div class="matching-item ukrainian-text" data-id="4">Коли?</div>
                            <div class="matching-item ukrainian-text" data-id="5">Чому?</div>
                            <div class="matching-item ukrainian-text" data-id="6">Як?</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <h4>English:</h4>
                        <div class="matching-item-container" id="questions-english-container">
                            <div class="matching-item" data-id="1">Who?</div>
                            <div class="matching-item" data-id="2">What?</div>
                            <div class="matching-item" data-id="3">Where?</div>
                            <div class="matching-item" data-id="4">When?</div>
                            <div class="matching-item" data-id="5">Why?</div>
                            <div class="matching-item" data-id="6">How?</div>
                        </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="questions-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple Sentences Section -->
    <div class="section">
        <h2 id="simple-sentences">5. Simple Sentences</h2>
        <p>Now let's look at some basic sentence structures in Ukrainian:</p>

        <h3>Subject + Verb</h3>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Я читаю.</td>
                <td>Ya chytayu.</td>
                <td>I am reading.</td>
            </tr>
            <tr>
                <td lang="uk">Ти пишеш.</td>
                <td>Ty pyshesh.</td>
                <td>You are writing.</td>
            </tr>
            <tr>
                <td lang="uk">Вона працює.</td>
                <td>Vona pratsyuye.</td>
                <td>She is working.</td>
            </tr>
            <tr>
                <td lang="uk">Ми слухаємо.</td>
                <td>My slukhayemo.</td>
                <td>We are listening.</td>
            </tr>
        </table>

        <h3>Subject + Verb + Object</h3>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Я читаю книжку.</td>
                <td>Ya chytayu knyzhku.</td>
                <td>I am reading a book.</td>
            </tr>
            <tr>
                <td lang="uk">Ти пишеш лист.</td>
                <td>Ty pyshesh lyst.</td>
                <td>You are writing a letter.</td>
            </tr>
            <tr>
                <td lang="uk">Вона готує вечерю.</td>
                <td>Vona hotuye vecheryu.</td>
                <td>She is cooking dinner.</td>
            </tr>
            <tr>
                <td lang="uk">Ми вивчаємо українську мову.</td>
                <td>My vyvchayemo ukrayinsku movu.</td>
                <td>We are learning the Ukrainian language.</td>
            </tr>
        </table>

        <h3>Prepositional Phrases</h3>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">Книжка на столі.</td>
                <td>Knyzhka na stoli.</td>
                <td>The book is on the table.</td>
            </tr>
            <tr>
                <td lang="uk">Я йду до школи.</td>
                <td>Ya ydu do shkoly.</td>
                <td>I am going to school.</td>
            </tr>
            <tr>
                <td lang="uk">Вони живуть в Києві.</td>
                <td>Vony zhyvut v Kyyevi.</td>
                <td>They live in Kyiv.</td>
            </tr>
            <tr>
                <td lang="uk">Мій друг із Львова.</td>
                <td>Miy druh iz Lvova.</td>
                <td>My friend is from Lviv.</td>
            </tr>
        </table>

        <!-- Exercise 5: Duolingo-style Sentence Building -->
        <div class="fill-exercise">
            <h3>Exercise 5: Sentence Building</h3>
            <p>Form complete Ukrainian sentences by arranging the words in the correct order.</p>

            <div class="word-order-game">
                <div id="sentences-container"></div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    // Sentences data with translations
                    const sentencesData = [
                        { 
                            ukrainian: "Я читаю книжку", 
                            english: "I am reading a book."
                        },
                        { 
                            ukrainian: "Вона живе в Києві", 
                            english: "She lives in Kyiv."
                        },
                        { 
                            ukrainian: "Ми вивчаємо українську мову", 
                            english: "We are learning the Ukrainian language."
                        },
                        { 
                            ukrainian: "Він працює в університеті", 
                            english: "He works at the university."
                        },
                        { 
                            ukrainian: "Де ти живеш", 
                            english: "Where do you live?"
                        },
                        { 
                            ukrainian: "Скільки це коштує", 
                            english: "How much does it cost?"
                        },
                        { 
                            ukrainian: "Я був у Львові", 
                            english: "I was in Lviv."
                        },
                        { 
                            ukrainian: "Мій брат лікар", 
                            english: "My brother is a doctor."
                        }
                    ];
                    
                    // Process the sentences
                    const sentences = sentencesData.map(item => {
                        return {
                            original: item.ukrainian,
                            english: item.english,
                            words: item.ukrainian.split(/\s+/)
                        };
                    });
                    
                    // Initialize the game
                    const gameContainer = document.getElementById('sentences-container');
                    
                    // Shuffle function for words
                    function shuffleArray(array) {
                        const newArray = [...array];
                        for (let i = newArray.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                        }
                        return newArray;
                    }
                    
                    // Create all sentence elements
                    sentences.forEach((sentence, index) => {
                        // Create game sentence element
                        const sentenceElement = document.createElement('div');
                        sentenceElement.className = 'game-sentence';
                        sentenceElement.id = `sentence-${index}`;
                        
                        // Create numbered translation
                        const translation = document.createElement('div');
                        translation.className = 'game-sentence-translation';
                        translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`;
                        sentenceElement.appendChild(translation);
                        
                        // Create solution area (where selected words will go)
                        const solutionArea = document.createElement('div');
                        solutionArea.className = 'solution-area';
                        solutionArea.id = `solution-area-${index}`;
                        sentenceElement.appendChild(solutionArea);
                        
                        // Create words bank (where unselected words are)
                        const wordsBank = document.createElement('div');
                        wordsBank.className = 'words-bank';
                        wordsBank.id = `words-bank-${index}`;
                        sentenceElement.appendChild(wordsBank);
                        
                        // Add shuffled words to the words bank
                        const shuffledWords = shuffleArray(sentence.words);
                        shuffledWords.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ukrainian-text';
                            wordElement.textContent = word;
                            
                            // Add click event to move words between banks
                            wordElement.addEventListener('click', () => {
                                const parent = wordElement.parentElement;
                                
                                if (parent.classList.contains('words-bank')) {
                                    // Move from words bank to solution area
                                    const solutionArea = document.getElementById(`solution-area-${index}`);
                                    solutionArea.appendChild(wordElement);
                                } else {
                                    // Move from solution area to words bank
                                    const wordsBank = document.getElementById(`words-bank-${index}`);
                                    wordsBank.appendChild(wordElement);
                                }
                                
                                // Clear feedback when words are changed
                                const feedbackElement = document.getElementById(`feedback-${index}`);
                                feedbackElement.textContent = '';
                                feedbackElement.className = 'game-feedback';
                            });
                            
                            wordsBank.appendChild(wordElement);
                        });
                        
                        // Add feedback area
                        const feedback = document.createElement('div');
                        feedback.className = 'game-feedback';
                        feedback.id = `feedback-${index}`;
                        sentenceElement.appendChild(feedback);
                        
                        // Add buttons
                        const buttonContainer = document.createElement('div');
                        buttonContainer.className = 'sentence-buttons';
                        
                        const checkButton = document.createElement('button');
                        checkButton.className = 'check-btn';
                        checkButton.textContent = 'Check Answer';
                        checkButton.addEventListener('click', () => checkAnswer(index));
                        buttonContainer.appendChild(checkButton);
                        
                        const showAnswerButton = document.createElement('button');
                        showAnswerButton.className = 'show-answer-btn';
                        showAnswerButton.textContent = 'Show Answer';
                        showAnswerButton.addEventListener('click', () => showAnswer(index));
                        buttonContainer.appendChild(showAnswerButton);
                        
                        const deleteBtn = document.createElement('button');
                        deleteBtn.className = 'delete-btn';
                        deleteBtn.textContent = 'Clear Box';
                        deleteBtn.addEventListener('click', () => {
                            const solutionArea = document.getElementById(`solution-area-${index}`);
                            const wordsBank = document.getElementById(`words-bank-${index}`);
                            
                            // Move all words from solution area back to words bank
                            while (solutionArea.firstChild) {
                                wordsBank.appendChild(solutionArea.firstChild);
                            }
                            
                            // Clear feedback when words are changed
                            const feedbackElement = document.getElementById(`feedback-${index}`);
                            feedbackElement.textContent = '';
                            feedbackElement.className = 'game-feedback';
                        });
                        buttonContainer.appendChild(deleteBtn);
                        
                        sentenceElement.appendChild(buttonContainer);
                        
                        // Add to game container
                        gameContainer.appendChild(sentenceElement);
                        
                        // Initially hide all sentences except the first one
                        if (index > 0) {
                            sentenceElement.style.display = 'none';
                        }
                    });
                    
                    // Check answer function
                    function checkAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
                        
                        // Get current word order in solution area
                        const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
                        const correctWords = sentences[sentenceId].words;
                        
                        // Check if all words are in the solution area
                        if (currentWords.length !== correctWords.length) {
                            feedbackElement.textContent = '✗ Please use all the words.';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                            return;
                        }
                        
                        // Check if the order is correct
                        const isCorrect = arraysEqual(currentWords, correctWords);
                        
                        if (isCorrect) {
                            feedbackElement.textContent = '✓ Correct! Well done!';
                            feedbackElement.className = 'game-feedback feedback-correct';
                            sentenceElement.classList.add('completed');
                            
                            // Show next sentence if there is one
                            if (sentenceId < sentences.length - 1) {
                                setTimeout(() => {
                                    const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                    if (nextSentence) {
                                        nextSentence.style.display = 'block';
                                        // Scroll to next sentence
                                        nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    }
                                }, 800);
                            }
                        } else {
                            feedbackElement.textContent = '✗ Not quite right. Try again!';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                        }
                    }
                    
                    // Show answer function
                    function showAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
                        
                        // Clear both areas
                        solutionArea.innerHTML = '';
                        wordsBank.innerHTML = '';
                        
                        // Add words in correct order to solution area
                        sentences[sentenceId].words.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ukrainian-text';
                            wordElement.textContent = word;
                            solutionArea.appendChild(wordElement);
                        });
                        
                        // Update feedback
                        feedbackElement.textContent = 'This is the correct order.';
                        feedbackElement.className = 'game-feedback';
                        
                        // Mark as completed
                        sentenceElement.classList.add('completed');
                        
                        // Show next sentence if there is one
                        if (sentenceId < sentences.length - 1) {
                            setTimeout(() => {
                                const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                if (nextSentence) {
                                    nextSentence.style.display = 'block';
                                    // Scroll to next sentence
                                    nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                }
                            }, 800);
                        }
                    }
                    
                    // Helper function to compare arrays
                    function arraysEqual(a, b) {
                        if (a.length !== b.length) return false;
                        return a.every((val, index) => val === b[index]);
                    }
                });
            </script>
        </div>
    </div>

    <!-- Noun Gender Section -->
    <div class="section">
        <h2 id="noun-gender">6. Noun Gender</h2>
        <p>Ukrainian nouns have three grammatical genders: masculine, feminine, and neuter. The gender of a noun affects how adjectives and some verbs agree with it.</p>

        <h3>Masculine Nouns</h3>
        <p>Masculine nouns typically end in a consonant, or rarely in -й or -ь.</p>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">стіл</td>
                <td>stil</td>
                <td>table</td>
            </tr>
            <tr>
                <td lang="uk">дім</td>
                <td>dim</td>
                <td>house</td>
            </tr>
            <tr>
                <td lang="uk">хлопець</td>
                <td>khlopets</td>
                <td>boy</td>
            </tr>
            <tr>
                <td lang="uk">чай</td>
                <td>chai</td>
                <td>tea</td>
            </tr>
        </table>

        <h3>Feminine Nouns</h3>
        <p>Feminine nouns typically end in -а or -я, and sometimes in -ь.</p>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">книга</td>
                <td>knyha</td>
                <td>book</td>
            </tr>
            <tr>
                <td lang="uk">школа</td>
                <td>shkola</td>
                <td>school</td>
            </tr>
            <tr>
                <td lang="uk">земля</td>
                <td>zemlya</td>
                <td>land, earth</td>
            </tr>
            <tr>
                <td lang="uk">ніч</td>
                <td>nich</td>
                <td>night</td>
            </tr>
        </table>

        <h3>Neuter Nouns</h3>
        <p>Neuter nouns typically end in -о, -е, or -я.</p>
        <table>
            <tr><th>Ukrainian</th><th>Pronunciation</th><th>English</th></tr>
            <tr>
                <td lang="uk">вікно</td>
                <td>vikno</td>
                <td>window</td>
            </tr>
            <tr>
                <td lang="uk">море</td>
                <td>more</td>
                <td>sea</td>
            </tr>
            <tr>
                <td lang="uk">життя</td>
                <td>zhyttya</td>
                <td>life</td>
            </tr>
            <tr>
                <td lang="uk">яблуко</td>
                <td>yabluko</td>
                <td>apple</td>
            </tr>
        </table>

        <p class="note">Note: While these patterns are common, there are exceptions. The gender of a noun is important for proper agreement with adjectives and verbs.</p>

        <!-- Exercise 6: Matching Noun Genders -->
        <div class="fill-exercise">
            <h3>Exercise 6: Matching</h3>
            <p>Match each Ukrainian noun with its grammatical gender.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ukrainian:</h4>
                        <div class="matching-item-container" id="gender-ukrainian-container">
                            <div class="matching-item ukrainian-text" data-id="1">книга</div>
                            <div class="matching-item ukrainian-text" data-id="2">стіл</div>
                            <div class="matching-item ukrainian-text" data-id="3">вікно</div>
                            <div class="matching-item ukrainian-text" data-id="4">земля</div>
                            <div class="matching-item ukrainian-text" data-id="5">дім</div>
                            <div class="matching-item ukrainian-text" data-id="6">море</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <h4>Gender:</h4>
                        <div class="matching-item-container" id="gender-english-container">
                            <div class="matching-item" data-id="1">Feminine</div>
                            <div class="matching-item" data-id="2">Masculine</div>
                            <div class="matching-item" data-id="3">Neuter</div>
                            <div class="matching-item" data-id="4">Feminine</div>
                            <div class="matching-item" data-id="5">Masculine</div>
                            <div class="matching-item" data-id="6">Neuter</div>
                        </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="gender-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Congratulations Section -->
    <div class="section" style="background: linear-gradient(to bottom, #0057B7 50%, #FFDD00 50%);">
        <h2 style="text-align: center;">
            <span class="congrats-ukrainian" style="color: #FFDD00;">Вітаємо!<br>Ви завершили Урок 1</span><br><br>
            <span class="congrats-english" style="display: block; font-size: inherit;">Congratulations!<br>You finished Lesson 1</span>
        </h2>
    </div>

    <!-- Navigation Buttons -->
    <div class="nav-buttons-container">
        <a href="index.html" class="nav-button prev-button">Return to Lessons</a>
        <a href="lesson1_vocabulary.html" class="nav-button next-button">Lesson 1 Vocabulary</a>
    </div>

    <script>
        // --- Matching Game Logic ---
        function initializeMatchingGame(ukrainianContainerId, englishContainerId, feedbackId, totalPairs) {
            let selected = { ukrainian: null, english: null }; let matchCount = 0;
            const ukrainianContainer = document.getElementById(ukrainianContainerId);
            const englishContainer = document.getElementById(englishContainerId);
            const feedbackElement = document.getElementById(feedbackId);
            if (!ukrainianContainer || !englishContainer || !feedbackElement) return;
            const shuffle = c => Array.from(c.children).sort(() => .5-Math.random()).forEach(i=>c.appendChild(i));
            shuffle(ukrainianContainer); shuffle(englishContainer);
            const items = document.querySelectorAll(`#${ukrainianContainerId} .matching-item, #${englishContainerId} .matching-item`);
            items.forEach(item => {
                const newItem = item.cloneNode(true); item.parentNode.replaceChild(newItem, item);
                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isUkrainian = this.closest(`#${ukrainianContainerId}`) !== null;
                    const side = isUkrainian ? 'ukrainian' : 'english';
                    if (selected[side]) selected[side].classList.remove('selected');
                    this.classList.add('selected'); selected[side] = this;
                    feedbackElement.textContent = '';
                    if (selected.ukrainian && selected.english) {
                        if (selected.ukrainian.dataset.id === selected.english.dataset.id) {
                            // Correct Match
                            ['ukrainian', 'english'].forEach(s => { selected[s].classList.remove('selected'); selected[s].classList.add('matched'); });
                            matchCount++;
                            if (matchCount === totalPairs) {
                                feedbackElement.textContent = 'Correct';
                                feedbackElement.className = 'matching-feedback correct';
                            } selected = { ukrainian: null, english: null };
                        } else { // Incorrect Match
                            feedbackElement.textContent = '';
                            const selO = selected.ukrainian, selE = selected.english;
                            setTimeout(() => { if(selO) selO.classList.remove('selected'); if(selE) selE.classList.remove('selected'); }, 800);
                            selected = { ukrainian: null, english: null };
                        }
                    }
                });
            });
        }

        // Fill-in exercise logic
        function checkFillAnswer(inputId) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById(`${inputId}-feedback`);
            const correctAnswer = input.dataset.correct;
            const userAnswer = input.value.trim();
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                feedback.textContent = "✓ Correct!";
                feedback.className = "fill-feedback correct";
                input.style.backgroundColor = "#e6ffee";
            } else {
                feedback.innerHTML = `✗ Not quite. The correct answer is: <span class="correct-answer-display">${correctAnswer}</span>`;
                feedback.className = "fill-feedback incorrect";
                input.style.backgroundColor = "#ffebeb";
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all matching games
            initializeMatchingGame('greetings-ukrainian-container', 'greetings-english-container', 'greetings-matching-feedback', 6);
            initializeMatchingGame('pronouns-ukrainian-container', 'pronouns-english-container', 'pronouns-matching-feedback', 6);
            initializeMatchingGame('questions-ukrainian-container', 'questions-english-container', 'questions-matching-feedback', 6);
            initializeMatchingGame('gender-ukrainian-container', 'gender-english-container', 'gender-matching-feedback', 6);
            
            // Add key button functionality
            document.querySelectorAll('.key-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // Find the closest fill-item parent
                    const fillItem = this.closest('.fill-item');
                    // Find the input inside this fill-item
                    const input = fillItem.querySelector('.fill-input');
                    if (input) {
                        input.value = this.textContent;
                        // Clear any existing feedback
                        const feedbackId = input.id + '-feedback';
                        const feedback = document.getElementById(feedbackId);
                        if (feedback) {
                            feedback.textContent = '';
                            feedback.className = 'fill-feedback';
                        }
                        // Reset input background
                        input.style.backgroundColor = '';
                    }
                });
            });
        });
    </script>

</body>
</html>