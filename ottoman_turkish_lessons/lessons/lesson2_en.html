<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lesson 2: The Substantive Verb, Plurals, and Titles</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Ottoman-inspired color scheme (Matches Lesson 1) */
        :root {
            --ottoman-blue: #0081C9; --ottoman-red: #C70039; --ottoman-gold: #FFB100;
            --ottoman-teal: #00B8A9; --ottoman-navy: #023E7D; --ottoman-cream: #FFF8E1;
            --ottoman-light-blue: #E0F7FF; --ottoman-pink: #FFCCDF; --ottoman-light-teal: #CCFCF6;
            --body-background: #1D2F6F; --text-color: #1A3A5A; --text-light: #FFFFFF;
        }
        body { font-family: 'Nunito', Arial, sans-serif; line-height: 1.7; max-width: 800px; margin: 0 auto; padding: 15px; background-color: var(--body-background); background-image: url('../ottoman_background.png'); background-repeat: repeat; background-size: 300px auto; box-sizing: border-box; color: var(--text-color); }
        [lang="ar"], td:first-child, .ottoman-text, .matching-item.ottoman-text, .fill-input.ottoman-input, .key-btn, .correct-answer-display { font-family: 'Noto Naskh Arabic', serif; font-size: 1.4em; line-height: 1.5; font-weight: 500; direction: rtl; text-align: right; }
        .matching-item.ottoman-text, .key-btn { text-align: center; }
        .fill-input.ottoman-input { text-align: right; font-size: 1.6em; }
        td:first-child, td[lang="ar"] { text-align: left !important; padding-top: 18px; padding-bottom: 18px; }
        * { box-sizing: border-box; }
        h1, h2, h3 { color: var(--ottoman-navy); font-weight: 700; line-height: 1.3; }
        h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.8rem; color: var(--text-light); }
        h2 { font-size: 1.5rem; margin-top: 30px; }
        h3 { font-size: 1.2rem; margin-top: 25px; color: var(--ottoman-blue); }
        .section { background-color: var(--ottoman-light-blue); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); background-color: #C0E0F0; }
        .title-section { background-color: var(--ottoman-navy); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        .title-section h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 0; margin-top: 0; font-size: 1.8rem; color: var(--text-light); }
        th, td { padding: 12px 15px; text-align: left; border: none; }
        th { background-color: var(--ottoman-blue); color: var(--text-light); font-weight: 600; }
        tr:nth-child(even) { background-color: var(--ottoman-light-blue); }
        tr:hover { background-color: #B9E7FE; }
        .note { background-color: var(--ottoman-pink); padding: 15px; border-left: 4px solid var(--ottoman-red); margin: 20px 0; border-radius: 0 8px 8px 0; }

        /* Feedback Styles (Match Lesson 1) */
        .feedback, .fill-feedback { margin-top: 8px; margin-left: 5px; font-weight: bold; }
        /* Correct/Incorrect feedback text colors AND STYLE - MATCH L1 Ex2 */
        .fill-feedback.correct { color: var(--ottoman-teal); /* L1 uses teal for .correct */ }
        .fill-feedback.incorrect { color: var(--ottoman-red); /* L1 uses red for .incorrect */ }
        /* Specific style for matching game 'Correct' feedback to match L1 */
        .matching-feedback.correct { color: black !important; font-size: 1.5rem !important; }
        /* Style for sentence building feedback */
        .fill-feedback.correct.sentence-building { 
            color: black !important; 
            font-size: 1.5rem !important; 
            font-weight: bold !important;
            font-family: 'Nunito', Arial, sans-serif !important;
            background-color: var(--ottoman-gold);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        /* Display for showing correct answer on incorrect attempt */
        .correct-answer-display { display: inline-block; margin-left: 5px; }

        /* Matching Game Styles (Match Lesson 1) */
        .matching-game { background-color: var(--ottoman-gold); padding: 20px; border-radius: 8px; margin-top: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .matching-columns-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .matching-column { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .matching-column h4 { text-align: center; margin-bottom: 10px; }
        .matching-item-container { display: flex; flex-direction: column; gap: 10px; }
        .matching-item { padding: 12px 15px; background-color: white; border: 2px solid var(--ottoman-blue); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-align: center; -webkit-tap-highlight-color: transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .matching-item:hover { background-color: var(--ottoman-light-blue); }
        .matching-item.selected { background-color: var(--ottoman-blue); color: var(--text-light); }
        .matching-item.matched { background-color: var(--ottoman-gold); color: black; border-color: var(--ottoman-gold); cursor: default; }
        .matching-result { text-align: center; }
        .matching-result div { font-size: 1.2rem; font-weight: bold; color: black; margin-top: 15px; }


        /* Fill-in / Sentence Building Styles (Match Lesson 1 Ex2 & Ex5) */
        .fill-exercise { margin-top: 30px; }
        /* Container for each exercise item - MATCH L1 Ex2 */
        .fill-item { background-color: var(--ottoman-gold); /* #FFB100 */ margin-bottom: 20px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        /* General row for inputs/text - MATCH L1 Ex2 */
        .exercise-row { display: flex; align-items: center; gap: 12px; /* MATCH L1 Ex2 gap */ margin-bottom: 10px; flex-wrap: wrap; color: var(--text-color); font-weight: 500; }
        /* Translation text style - MATCH L1 Ex2 placement (inside flex row) */
        .translation { color: black; font-size: 1.1em; /* Adjusted slightly from L1's 1.2em for better fit in this context */ }
        /* Input field - MATCH L1 Ex2 styles */
        .fill-input { background-color: var(--ottoman-gold); /* #FFB100 - Match L1 Ex2 internal color */ width: 120px; /* Default width like L1 Ex2 */ padding: 8px 12px; border: 2px solid #997000; /* Match L1 Ex2 border */ border-radius: 6px; font-size: 16px; font-family: inherit; }
        /* Wider input for sentence building like L1 Ex5 */
        .fill-input.long-input { width: 100%; max-width: 400px; }
        /* Ottoman Input specific font override (already present, ensure consistency) */
        .fill-input.ottoman-input { font-family: 'Noto Naskh Arabic', serif; font-size: 1.6em; direction: rtl; text-align: right; }
        /* Container for key buttons - MATCH L1 Ex2 */
        .key-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
        /* Key buttons (Match L1 Ex2/Ex5) */
        .key-btn { padding: 5px 12px; background-color: #FFECB3; border: 1px solid #E6A800; border-radius: 6px; cursor: pointer; color: #333; font-size: 1.6em; font-family: 'Noto Naskh Arabic', serif; /* Explicitly set font */ text-align: center; /* Ensure centering */ }
        .key-btn:hover { background-color: #FFE082; color: black; }
        /* Check button (Match L1 Ex2/Ex5) */
        .fill-check { padding: 8px 15px; background-color: #FFECB3; color: black; border: none; border-radius: 6px; cursor: pointer; font-family: inherit; font-weight: 600; transition: background-color 0.2s ease; }
        .fill-check:hover { background-color: #FFE082; }


        /* Congratulations (Match Lesson 1 Structure/Style) */
         /* Using standard .section */
         .congrats-ottoman { font-family: 'Amiri', serif; font-size: 30px; /* Match L1 inline style */ line-height: 1.4; }
         .congrats-english { font-size: 1.2em; margin-top: 10px; }

         

        /* Navigation (Match Lesson 1) */
        .nav-buttons-container { display: flex; justify-content: space-between; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--ottoman-navy); color: var(--text-light); border: 3px solid var(--ottoman-blue); border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; /* Match L1 size */ cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: var(--ottoman-blue); border-color: var(--ottoman-navy); }
        .prev-button { margin-right: auto; }
        .next-button, .exercises-button { margin-left: 10px; }
        .nav-button.next-button {
    padding-top: 27px;  /* Add padding to the top to push text down */
}

         /* Small Latin text (Match Lesson 1) */
         .small-latin { font-size: 0.6em !important; font-family: 'Nunito', Arial, sans-serif !important; font-weight: normal !important; display: inline-block; vertical-align: middle; direction: ltr; text-align: left; }

        /* Media queries (Copied from Lesson 1 for consistency) */
        @media (max-width: 600px) {
            .section, .title-section { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; padding-bottom: 10px; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            .exercise { padding: 15px; }
            .matching-columns-container { flex-direction: column; gap: 15px; } .matching-item { font-size: 1em; padding: 10px 12px; } .matching-item.ottoman-text { font-size: 1.2em; }
            /* Fill-in exercises - Adjust layout like L1 Ex2 on mobile */
            .exercise-row { flex-direction: row; align-items: center; gap: 8px; flex-wrap: wrap;} /* Keep row, allow wrap, smaller gap */
            .exercise-row .ottoman-text { flex-shrink: 0; /* Prevent shrinking */ margin-right: 5px;}
            .exercise-row .fill-input { flex-grow: 1; width: auto; min-width: 80px; margin-right: 5px;} /* Allow input to grow */
            .exercise-row .translation { flex-basis: auto; /* Don't force full width */}

            .fill-input { width: 100%; max-width: none; margin-top: 5px; } /* Override default width */
            .key-container { justify-content: center; }
            .fill-check { width: 100%; max-width: 300px; margin-top: 10px; }
            /* Specific adjustments for Ex2 layout on mobile (Already present, review) */
             .fill-item .exercise-row-ex2 { flex-direction: row; flex-wrap: wrap;} /* Allow wrap */
             .fill-item .exercise-row-ex2 .ottoman-text { margin-left: 10px; } /* Space between name and input */
            /* Navigation */
            .nav-buttons-container { flex-direction: column; gap: 15px; } .nav-button { width: 100%; margin: 0; font-size: 1rem;}
            body { padding: 10px; }
        }
         @media (max-width: 450px) {
             .matching-item { padding: 10px 8px; font-size: 0.9em; } .matching-item.ottoman-text { font-size: 1.1em; }
             .key-btn { font-size: 1.4em; padding: 4px 10px;} .nav-button { padding: 12px 15px; }
             .exercise-row {gap: 5px;} /* Further reduce gap on very small screens */
         }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>Lesson 2<br>The Substantive Verb, Plurals, and Titles</h1>
    </div>

    <div class="section">
        <h3>Lesson Objectives</h3>
        <ul>
             <li><a href="#plural" style="color: inherit; text-decoration: none;">Learn how to form the Plural</a></li>
             <li><a href="#titles-of-respect" style="color: inherit; text-decoration: none;">Understand common Titles of Respect and their usage</a></li>
             <li><a href="#pronoun-omission" style="color: inherit; text-decoration: none;">Learn about Subject Pronoun Omission</a></li>
             <li><a href="#adjective-placement" style="color: inherit; text-decoration: none;">Review Adjective Placement with plural nouns</a></li>
             <li><a href="#negative-present" style="color: inherit; text-decoration: none;">Learn the Negative Present Tense ("to be")</a></li>
             <li><a href="#interrogative-negative" style="color: inherit; text-decoration: none;">Learn the Interrogative Negative Present ("to be")</a></li>
        </ul>
    </div>

    <!-- Plural Section -->
    <div class="section">
        <h2 id="plural">The Plural</h2>
        <p>The Plural is formed by adding the affix <span class="ottoman-text" style="font-size: 1.1em; display: inline-block;">لر</span> to the singular. This affix is pronounced <strong>lar</strong> after hard vowels, and <strong>ler</strong> after soft ones.</p>
        <!-- Tables -->
        <h3>Singular Examples</h3>
        <table>
            <tr> <th>Ottoman Turkish</th> <th>Latin Script</th> <th>English</th> </tr>
            <tr> <td lang="ar">دكنك</td> <td>déynék</td> <td>stick</td> </tr>
            <tr> <td lang="ar">كدی</td> <td>kédi</td> <td>cat</td> </tr>
            <tr> <td lang="ar">كوپری</td> <td>kéuprù</td> <td>bridge</td> </tr>
            <tr> <td lang="ar">قپو</td> <td>qapou</td> <td>door</td> </tr>
            <tr> <td lang="ar">خصم</td> <td>khi-sim</td> <td>relative</td> </tr>
        </table>
        <h3>Plural Examples</h3>
        <table>
            <tr> <th>Ottoman Turkish</th> <th>Latin Script</th> <th>English</th> </tr>
            <tr> <td lang="ar">دكنكلر</td> <td>déynékler</td> <td>sticks</td> </tr>
            <tr> <td lang="ar">كدیلر</td> <td>kédiler</td> <td>cats</td> </tr>
            <tr> <td lang="ar">كوپریلر</td> <td>kéuprùler</td> <td>bridges</td> </tr>
            <tr> <td lang="ar">قپولر</td> <td>qapoular</td> <td>doors</td> </tr>
            <tr> <td lang="ar">خصملر</td> <td>khi-simlar</td> <td>relatives</td> </tr>
        </table>

        <!-- Exercise 1: Forming Plurals (MODIFIED TO MATCH L1 EX2) -->
        <div class="fill-exercise">
            <h3>Exercise 1: Sentence Building</h3>
            <p>Provide the plural form for the following singular nouns by typing or using the keys.</p>
            <!-- Item 1 -->
            <div class="fill-item">
                <div class="exercise-row">
                    <div style="direction: rtl; display: inline-flex; align-items: center;">
                        <span class="ottoman-text">قپو</span>
                        <input type="text" class="fill-input ottoman-input" id="fill1" style="margin-right: 10px;">
                    </div>
                    <span class="translation">(doors)</span>
                </div>
                <div class="key-container" id="keys1">
                    <button class="key-btn">ق</button>
                    <button class="key-btn">پ</button>
                    <button class="key-btn">و</button>
                    <button class="key-btn">ل</button>
                    <button class="key-btn">ر</button>
                    <button class="key-btn">ا</button>
                    <button class="key-btn">ه</button>
                    <button class="key-btn">م</button>
                 </div>
                <button class="fill-check" onclick="checkFill(1, [''], ['قپولر'])">Check</button>
                <div class="fill-feedback" id="feedback1"></div>
            </div>
            <!-- Item 2 -->
             <div class="fill-item">
                 <div class="exercise-row">
                    <div style="direction: rtl; display: inline-flex; align-items: center;">
                        <span class="ottoman-text">كدی</span>
                        <input type="text" class="fill-input ottoman-input" id="fill2" style="margin-right: 10px;">
                    </div>
                    <span class="translation">(cats)</span>
                 </div>
                 <div class="key-container" id="keys2">
                    <button class="key-btn">ك</button>
                    <button class="key-btn">د</button>
                    <button class="key-btn">ی</button>
                    <button class="key-btn">ل</button>
                    <button class="key-btn">ر</button>
                    <button class="key-btn">س</button>
                    <button class="key-btn">ت</button>
                    <button class="key-btn">ز</button>
                 </div>
                 <button class="fill-check" onclick="checkFill(2, [''], ['كدیلر'])">Check</button>
                 <div class="fill-feedback" id="feedback2"></div>
             </div>
            <!-- Item 3 -->
             <div class="fill-item">
                  <div class="exercise-row">
                      <div style="direction: rtl; display: inline-flex; align-items: center;">
                          <span class="ottoman-text">خصم</span>
                          <input type="text" class="fill-input ottoman-input" id="fill3" style="margin-right: 10px;">
                      </div>
                      <span class="translation">(relatives)</span>
                  </div>
                 <div class="key-container" id="keys3">
                    <button class="key-btn">خ</button>
                    <button class="key-btn">ص</button>
                    <button class="key-btn">م</button>
                    <button class="key-btn">ل</button>
                    <button class="key-btn">ر</button>
                    <button class="key-btn">ی</button>
                    <button class="key-btn">ن</button>
                    <button class="key-btn">ع</button>
                 </div>
                 <button class="fill-check" onclick="checkFill(3, [''], ['خصملر'])">Check</button>
                 <div class="fill-feedback" id="feedback3"></div>
             </div>
            <!-- Item 4 -->
             <div class="fill-item">
                  <div class="exercise-row">
                      <div style="direction: rtl; display: inline-flex; align-items: center;">
                          <span class="ottoman-text">كوپری</span>
                          <input type="text" class="fill-input ottoman-input" id="fill4" style="margin-right: 10px;">
                      </div>
                      <span class="translation">(bridges)</span>
                  </div>
                 <div class="key-container" id="keys4">
                    <button class="key-btn">ك</button>
                    <button class="key-btn">و</button>
                    <button class="key-btn">پ</button>
                    <button class="key-btn">ر</button>
                    <button class="key-btn">ی</button>
                    <button class="key-btn">ل</button>
                    <button class="key-btn">ه</button>
                    <button class="key-btn">ط</button>
                    <button class="key-btn">ذ</button>
                 </div>
                 <button class="fill-check" onclick="checkFill(4, [''], ['كوپریلر'])">Check</button>
                 <div class="fill-feedback" id="feedback4"></div>
             </div>
        </div>
    </div>

    <!-- Titles Section -->
    <div class="section">
        <h2 id="titles-of-respect">Titles of Respect</h2>
        <p>Titles of respect are given to persons according to their dignity, office and occupation. These titles are put <em>after</em> the name of distinction, not after his family name.</p>
        <!-- Tables -->
        <table>
            <tr> <th>Title (Ottoman)</th> <th>Title (Latin)</th> <th>Meaning / Usage</th> </tr>
            <tr> <td lang="ar">افندی</td> <td>éffen'di</td> <td>Sir, Mr., peculiar to clergymen and educated people.</td> </tr>
            <tr> <td lang="ar">اغا</td> <td>a-gha</td> <td>Mr., Esq. (or vulg. <code>a-a</code>), to tradesmen, labourers and old men.</td> </tr>
            <tr> <td lang="ar">بك</td> <td>béy</td> <td>prince, is given to civil functionaries and popularly to any person of supposed distinction.</td> </tr>
        </table>
        <h3>Examples</h3>
        <table>
            <tr> <th>Ottoman Turkish</th> <th>Latin Script</th> <th>English</th> </tr>
            <tr> <td lang="ar">احمد افندی</td> <td>Ah'méd éffendi</td> <td>Ahmed Effendi</td> </tr>
            <tr> <td lang="ar">احمد اغا</td> <td>Ah'méd agha</td> <td>Ahmed Agha</td> </tr>
            <tr> <td lang="ar">احمد بك</td> <td>Ah'méd béy</td> <td>Ahmed Bey</td> </tr>
        </table>

         <!-- Exercise 2: Titles (Layout like L1 Ex2, uses key-btn) -->
         <div class="fill-exercise">
            <h3>Exercise 2: Sentence Building</h3>
             <p>Combine the name <span class="ottoman-text" style="font-size: 1.1em; display: inline-block;">آرتين</span> (Artin) with the appropriate title.</p>
            <div class="fill-item">
                <div class="exercise-row exercise-row-ex2">
                    <div style="direction: rtl; display: inline-flex; align-items: center;">
                         <span class="ottoman-text">آرتين</span>
                         <input type="text" class="fill-input ottoman-input" id="fill5" style="width: 100px; margin-right: 10px;">
                    </div>
                     <span class="translation" style="flex-basis: auto; margin-left: 10px;">(educated person)</span>
                </div>
                 <div class="key-container" id="keys5">
                    <button class="key-btn">افندی</button> <button class="key-btn">اغا</button> <button class="key-btn">بك</button>
                 </div>
                 <button class="fill-check" onclick="checkFill(5, [''], ['افندی'])">Check</button>
                 <div class="fill-feedback" id="feedback5"></div>
            </div>
             <div class="fill-item">
                 <div class="exercise-row exercise-row-ex2">
                     <div style="direction: rtl; display: inline-flex; align-items: center;">
                         <span class="ottoman-text">آرتين</span>
                         <input type="text" class="fill-input ottoman-input" id="fill6" style="width: 100px; margin-right: 10px;">
                     </div>
                      <span class="translation" style="flex-basis: auto; margin-left: 10px;">(tradesman)</span>
                  </div>
                  <div class="key-container" id="keys6">
                      <button class="key-btn">افندی</button> <button class="key-btn">اغا</button> <button class="key-btn">بك</button>
                  </div>
                  <button class="fill-check" onclick="checkFill(6, [''], ['اغا'])">Check</button>
                  <div class="fill-feedback" id="feedback6"></div>
             </div>
             <div class="fill-item">
                  <div class="exercise-row exercise-row-ex2">
                      <div style="direction: rtl; display: inline-flex; align-items: center;">
                          <span class="ottoman-text">آرتين</span>
                          <input type="text" class="fill-input ottoman-input" id="fill7" style="width: 100px; margin-right: 10px;">
                      </div>
                       <span class="translation" style="flex-basis: auto; margin-left: 10px;">(civil functionary)</span>
                   </div>
                   <div class="key-container" id="keys7">
                       <button class="key-btn">افندی</button> <button class="key-btn">اغا</button> <button class="key-btn">بك</button>
                   </div>
                   <button class="fill-check" onclick="checkFill(7, [''], ['بك'])">Check</button>
                   <div class="fill-feedback" id="feedback7"></div>
             </div>
        </div>
    </div>

    <!-- Grammatical Notes Section -->
    <div class="section">
        <h2>Grammatical Notes</h2>
        <h3 id="pronoun-omission">Subject Pronoun Omission</h3>
        <p>When the subject is a pronoun it is often omitted.</p>
        <h4>Full Form Examples</h4> <table> <tr><th>Ottoman Turkish</th><th>Latin Script</th><th>English</th></tr> <tr><td lang="ar">بن ايويم</td><td>bén éyi'yim</td><td>I am well.</td></tr> <tr><td lang="ar">سز تنبل سكز</td><td>siz ténbél' siniz</td><td>You (pl/formal) are idle.</td></tr> </table>
        <h4>Omitted Form Examples</h4> <table> <tr><th>Ottoman Turkish</th><th>Latin Script</th><th>English</th></tr> <tr><td lang="ar">ايويم</td><td>éyi'yim</td><td>I am well.</td></tr> <tr><td lang="ar">تنبل سكز</td><td>ténbél' siniz</td><td>You (pl/formal) are idle.</td></tr> </table>
        <h3 id="adjective-placement">Adjective Placement</h3>
        <p>In Ottoman Turkish, as in English, the adjective precedes the noun...</p>
        <table> <tr><th>Ottoman Turkish</th><th>Latin Script</th><th>English</th></tr> <tr><td lang="ar">كوزل چیچك</td><td>güzél chichék</td><td>beautiful flower</td></tr> <tr><td lang="ar">كوزل چیچكلر</td><td>güzél chichékler</td><td>beautiful flowers</td></tr> <tr><td lang="ar">بيوك آغاج</td><td>beüyük a-ghaj</td><td>a big tree</td></tr> <tr><td lang="ar">بيوك آغاجلر</td><td>beüyük aghajlar</td><td>big trees</td></tr> </table>
    </div>

     <!-- Negative Verb Section -->
     <div class="section">
        <h2 id="negative-present">Negative Present Tense ("to be")</h2>
        <p>The Negative... formed using <span class="ottoman-text" style="font-size: 1.1em; display: inline-block;">دكل</span> (<code>déyil</code>).</p>
        <h3>Negative Present</h3> <table> <tr><th>Ottoman Turkish</th><th>Latin Script</th><th>English</th></tr> <!-- rows --> <tr><td lang="ar">دكل ايم</td><td>déyil'im</td><td>I am not</td></tr><tr><td lang="ar">دكل سين</td><td>déyil'sin</td><td>you are not (singular/informal)</td></tr><tr><td lang="ar">دكل در</td><td>déyil'dir</td><td>he/she/it is not</td></tr><tr><td lang="ar">دكل ایز</td><td>déyil'iz</td><td>we are not</td></tr><tr><td lang="ar">دكل سكز</td><td>déyil'siniz</td><td>you are not (plural/formal)</td></tr><tr><td lang="ar">دكل درلر</td><td>déyiller</td><td>they are not</td></tr></table>
        <div class="note"> <p><strong>Note:</strong> The original source material on this website uses `déyiller` for 'they are not', omitting the `dir` component shown in the other forms</p> </div>

        <!-- Exercise 3: Matching -->
        <h3>Exercise 3: Matching</h3>
        <p>Match the Ottoman Turkish negative verb forms with their English meanings...</p>
        <div class="matching-game">
            <div class="matching-columns-container">
                <div class="matching-column"> <h4>Ottoman Turkish:</h4> <div class="matching-item-container" id="neg-verb-ottoman-container"> <div class="matching-item ottoman-text" data-id="1">دكل ايم</div> <div class="matching-item ottoman-text" data-id="2">دكل سين</div> <div class="matching-item ottoman-text" data-id="3">دكل در</div> <div class="matching-item ottoman-text" data-id="4">دكل ایز</div> <div class="matching-item ottoman-text" data-id="5">دكل سكز</div> <div class="matching-item ottoman-text" data-id="6">دكل درلر</div> </div> </div>
                <div class="matching-column"> <h4>English:</h4> <div class="matching-item-container" id="neg-verb-english-container"> <div class="matching-item" data-id="1">I am not</div> <div class="matching-item" data-id="2">you are not (singular/informal)</div> <div class="matching-item" data-id="3">he/she/it is not</div> <div class="matching-item" data-id="4">we are not</div> <div class="matching-item" data-id="5">you are not (plural/formal)</div> <div class="matching-item" data-id="6">they are not</div> </div> </div>
            </div>
            <div class="matching-result"> <div class="matching-feedback" id="neg-verb-matching-feedback"></div> </div>
        </div>

        <!-- Interrogative Negative Section -->
         <h2 id="interrogative-negative" style="margin-top: 40px;">Interrogative Negative Present ("to be")</h2>
         <p>The question form combines <span class="ottoman-text" style="font-size: 1.1em; display:inline-block">دكل</span> (<code>déyil</code>) with the interrogative particle <span class="ottoman-text" style="font-size: 1.1em; display:inline-block">می</span> (<code>mi</code>).</p>
        <table> <tr><th>Ottoman Turkish</th><th>Latin Script</th><th>English</th></tr> <!-- rows --> <tr><td lang="ar">دكل می یم؟</td><td>déyil'mi yim?</td><td>Am I not?</td></tr><tr><td lang="ar">دكل می سین؟</td><td>déyil'mi sin?</td><td>Are you not? (singular/informal)</td></tr><tr><td lang="ar">دكل میدر؟</td><td>déyil'mi dir?</td><td>Is he/she/it not?</td></tr><tr><td lang="ar">دكل می یز؟</td><td>déyil'mi yiz?</td><td>Are we not?</td></tr><tr><td lang="ar">دكل می سکز؟</td><td>déyil'mi siniz?</td><td>Are you not? (plural/formal)</td></tr><tr><td lang="ar">دكلميدرلر؟</td><td>déyil'mi dirler?</td><td>Are they not?</td></tr></table>

        <!-- Exercise 4: Negative Questions (Layout like L1 Ex5) -->
        <div class="fill-exercise">
             <h3>Exercise 4: Sentence Building</h3>
             <p>Form the complete Ottoman Turkish negative question based on the English translation by clicking the word buttons below. (Spacing and punctuation will be ignored in the check).</p>

             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Am I not?</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill8"> </div>
                 <div class="key-container" id="keys8"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">یم</button> <button class="key-btn">سین</button> <button class="key-btn">در</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(8, [''], ['دكل می یم؟'])">Check</button> <div class="fill-feedback" id="feedback8"></div>
             </div>
             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Are you not? (singular)</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill9"> </div>
                 <div class="key-container" id="keys9"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">سین</button> <button class="key-btn">یم</button> <button class="key-btn">یز</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(9, [''], ['دكل می سین؟'])">Check</button> <div class="fill-feedback" id="feedback9"></div>
             </div>
             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Is he/she/it not?</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill10"> </div>
                 <div class="key-container" id="keys10"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">در</button> <button class="key-btn">یم</button> <button class="key-btn">سکز</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(10, [''], ['دكل میدر؟'])">Check</button> <div class="fill-feedback" id="feedback10"></div>
             </div>
             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Are we not?</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill11"> </div>
                 <div class="key-container" id="keys11"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">یز</button> <button class="key-btn">در</button> <button class="key-btn">درلر</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(11, [''], ['دكل می یز؟'])">Check</button> <div class="fill-feedback" id="feedback11"></div>
             </div>
             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Are you not? (plural/formal)</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill12"> </div>
                 <div class="key-container" id="keys12"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">سکز</button> <button class="key-btn">یز</button> <button class="key-btn">سین</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(12, [''], ['دكل می سکز؟'])">Check</button> <div class="fill-feedback" id="feedback12"></div>
             </div>
             <div class="fill-item">
                 <div class="exercise-row"> <div class="translation">Are they not?</div> </div>
                 <div class="exercise-row"> <input type="text" class="fill-input ottoman-input long-input" id="fill13"> </div>
                 <div class="key-container" id="keys13"> <button class="key-btn">دكل</button> <button class="key-btn">می</button> <button class="key-btn">درلر</button> <button class="key-btn">سکز</button> <button class="key-btn">یز</button> <button class="key-btn">؟</button> </div>
                 <button class="fill-check" onclick="checkFill(13, [''], ['دكلميدرلر؟'])">Check</button> <div class="fill-feedback" id="feedback13"></div>
             </div>
         </div>
    </div>

    <!-- Congratulations Section (Match L1 Style) -->
    <div class="section">
        <h2 style="text-align: center;">
            <span class="congrats-ottoman">تبريكات<br>درس ايكنجى اكمال ايتدكز</span><br><br>
            <span class="congrats-english" style="display: block; font-size: inherit;">Congratulations<br>You finished Lesson 2</span>
        </h2>
    </div>

    <!-- Navigation Buttons (Match L1 Style) -->
    <div class="nav-buttons-container">
        <a href="lesson1_en.html" class="nav-button prev-button">Previous Lesson<br>Review</a>
        <a href="lesson3_en.html" class="nav-button next-button">Next Lesson</a>
        <a href="../exercises/exercise2_en.html" class="nav-button exercises-button">Additional Exercises<br>for Lesson 2</a>
    </div>

    <script>
        // --- General Fill-in Exercise Checker ---
        function checkFill(id, correctLatinAnswers, correctOttomanAnswers) {
            const input = document.getElementById(`fill${id}`);
            const feedback = document.getElementById(`feedback${id}`);
            if (!input || !feedback) return;

            const userAnswer = input.value.trim();
            let normalizedUserAnswer = userAnswer;
            correctOttomanAnswers = Array.isArray(correctOttomanAnswers) ? correctOttomanAnswers : [correctOttomanAnswers]; // Ensure array

            // Determine if it's a sentence building exercise
            // Now ALL exercises are considered sentence building
            const isSentenceBuilding = true; // ALL exercises use same styling

            if (isSentenceBuilding) {
                // Remove ALL spaces and punctuation for sentence checking
                normalizedUserAnswer = userAnswer.replace(/\s+|[؟?]/g, '');
            } else {
                 // For word fill-ins (Ex 1, Ex 2), just trim and remove common diacritics/kashida for robust matching
                 normalizedUserAnswer = userAnswer.trim().replace(/[\u064B-\u065F\u0640]/g, '');
            }

            let isCorrect = false;
            let correctDisplayAnswer = ''; // Store the first correct Ottoman answer for display

            for (const answer of correctOttomanAnswers) {
                 let normalizedCorrectOttoman = answer.trim();
                 correctDisplayAnswer = correctDisplayAnswer || normalizedCorrectOttoman; // Store the first one

                 if (isSentenceBuilding) {
                      // Remove spaces/punctuation from correct answer for comparison
                      normalizedCorrectOttoman = normalizedCorrectOttoman.replace(/\s+|[؟?]/g, '');
                 } else {
                     // Also normalize the correct answer for comparison in Ex1/Ex2
                     normalizedCorrectOttoman = normalizedCorrectOttoman.replace(/[\u064B-\u065F\u0640]/g, '');
                 }

                 if (normalizedUserAnswer === normalizedCorrectOttoman) {
                    isCorrect = true;
                    break;
                }
            }

            // --- Feedback Display (Match L1 Ex2/Ex5) ---
            // All sentence building exercises use 'Correct 💯'
            // Other exercises use 'Correct!'
            const correctFeedbackText = isSentenceBuilding ? 'Correct 💯' : 'Correct!'; 
            feedback.textContent = isCorrect ? correctFeedbackText : 'Incorrect ❌';
            
            // Add sentence-building class for styling if it's a sentence building exercise
            if (isCorrect && isSentenceBuilding) {
                feedback.className = 'fill-feedback correct sentence-building';
            } else {
                feedback.className = `fill-feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            }
            input.style.borderColor = isCorrect ? 'var(--ottoman-teal)' : 'var(--ottoman-red)'; // Match L1 border feedback

            if (!isCorrect && correctDisplayAnswer !== '') {
                 // Show the correct Ottoman answer like L1 does on incorrect attempts
                 feedback.innerHTML = `Incorrect ❌ Correct: <span class="correct-answer-display">${correctDisplayAnswer}</span>`;
                 // Clear input on incorrect
                 input.value = '';
            }
        }


        // --- Key Button Listeners for Fill-in Exercises ---
         document.addEventListener('DOMContentLoaded', function() {
             document.querySelectorAll('.key-container').forEach(container => {
                 const fillItem = container.closest('.fill-item');
                 if (!fillItem) return;
                 const input = fillItem.querySelector('.fill-input');
                 if (!input) return;
                 const inputId = input.id;
                 const exerciseNum = parseInt(inputId.replace('fill', ''), 10);

                 // Determine if the exercise should add spaces (like L1 Ex5 / L2 Ex4) or not (like L1 Ex2 / L2 Ex1, L2 Ex2)
                 const addSpace = (exerciseNum >= 8 && exerciseNum <= 13); // Only L2 Ex4 (matches L1 Ex5 behavior)

                 container.querySelectorAll('.key-btn').forEach(btn => {
                     const newBtn = btn.cloneNode(true); // Clone to remove old listeners
                     btn.parentNode.replaceChild(newBtn, btn);

                    newBtn.addEventListener('click', function() {
                        if (addSpace && this.textContent !== '؟') {
                             input.value += this.textContent + ' '; // Add space for sentence building
                        } else {
                            input.value += this.textContent; // No space for word completion (L2 Ex1, L2 Ex2) or punctuation
                        }
                        input.focus();
                    });
                });
            });
        });


        // --- Matching Game Logic (Generic - Re-verified against L1) ---
        function initializeMatchingGame(ottomanContainerId, englishContainerId, feedbackId, totalPairs) {
            let selected = { ottoman: null, english: null }; let matchCount = 0;
            const ottomanContainer = document.getElementById(ottomanContainerId);
            const englishContainer = document.getElementById(englishContainerId);
            const feedbackElement = document.getElementById(feedbackId);
            if (!ottomanContainer || !englishContainer || !feedbackElement) return;
            const shuffle = c => Array.from(c.children).sort(() => .5-Math.random()).forEach(i=>c.appendChild(i));
            shuffle(ottomanContainer); shuffle(englishContainer);
            const items = document.querySelectorAll(`#${ottomanContainerId} .matching-item, #${englishContainerId} .matching-item`);
            items.forEach(item => {
                const newItem = item.cloneNode(true); item.parentNode.replaceChild(newItem, item); // Prevent duplicate listeners
                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isOttoman = this.closest(`#${ottomanContainerId}`) !== null;
                    const side = isOttoman ? 'ottoman' : 'english';
                    if (selected[side]) selected[side].classList.remove('selected');
                    this.classList.add('selected'); selected[side] = this;
                    feedbackElement.textContent = ''; // Clear feedback on selection
                    if (selected.ottoman && selected.english) {
                        if (selected.ottoman.dataset.id === selected.english.dataset.id) {
                            // Correct Match
                            ['ottoman', 'english'].forEach(s => { selected[s].classList.remove('selected'); selected[s].classList.add('matched'); });
                            matchCount++;
                            if (matchCount === totalPairs) {
                                feedbackElement.textContent = 'Correct'; // Match L1 final feedback TEXT
                                feedbackElement.className = 'matching-feedback correct'; // Use specific class with L1 styles (black text, large font)
                            } selected = { ottoman: null, english: null };
                        } else { // Incorrect Match
                            feedbackElement.textContent = ''; // L1 doesn't show 'Incorrect Match' text
                            const selO = selected.ottoman, selE = selected.english;
                            setTimeout(() => { if(selO) selO.classList.remove('selected'); if(selE) selE.classList.remove('selected'); }, 800); // Match L1 timeout behavior
                            selected = { ottoman: null, english: null };
                        }
                    }
                });
            });
        }
        document.addEventListener('DOMContentLoaded', function() {
            // Randomize key buttons in all key containers
            document.querySelectorAll('.key-container').forEach(container => {
                // Get all buttons in the container
                const buttons = Array.from(container.querySelectorAll('.key-btn'));
                
                // Shuffle the buttons
                for (let i = buttons.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    // Swap button HTML content
                    const temp = buttons[i].innerHTML;
                    buttons[i].innerHTML = buttons[j].innerHTML;
                    buttons[j].innerHTML = temp;
                }
            });
            
            initializeMatchingGame('neg-verb-ottoman-container', 'neg-verb-english-container', 'neg-verb-matching-feedback', 6);
        });
    </script>

</body>
</html>