<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Exercise: Lesson 6 Ottoman Phrases</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Ottoman-inspired color scheme (Matches Lesson 2 & 4) */
        :root {
            --ottoman-blue: #0081C9; --ottoman-red: #C70039; --ottoman-gold: #FFB100;
            --ottoman-teal: #00B8A9; --ottoman-navy: #023E7D; --ottoman-cream: #FFF8E1;
            --ottoman-light-blue: #E0F7FF; --ottoman-pink: #FFCCDF; --ottoman-light-teal: #CCFCF6;
            --body-background: #1D2F6F; --text-color: #1A3A5A; --text-light: #FFFFFF;
        }
        body { font-family: 'Nunito', Arial, sans-serif; line-height: 1.7; max-width: 800px; margin: 0 auto; padding: 15px; background-color: var(--body-background); background-image: url('../ottoman_background.png'); background-repeat: repeat; background-size: 300px auto; box-sizing: border-box; color: var(--text-color); }
        /* Styles for Ottoman text using Noto Naskh Arabic */
        [lang="ar"], td:first-child, .ottoman-text, .matching-item.ottoman-text, .fill-input.ottoman-input, .key-btn, .correct-answer-display { font-family: 'Noto Naskh Arabic', serif; font-size: 1.4em; line-height: 1.5; font-weight: 500; }
        .matching-item.ottoman-text, .key-btn { text-align: center; }
        .fill-input.ottoman-input { text-align: right; font-size: 1.6em; }
        /* Ensure table cells with Ottoman text align correctly */
        td:first-child, td[lang="ar"] { text-align: left !important; padding-top: 18px; padding-bottom: 18px; }
        * { box-sizing: border-box; }
        h1, h2, h3 { color: var(--ottoman-navy); font-weight: 700; line-height: 1.3; }
        h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.8rem; color: var(--text-light); }
        h2 { font-size: 1.5rem; margin-top: 30px; }
        h3 { font-size: 1.2rem; margin-top: 25px; color: var(--ottoman-blue); }
        .section { background-color: var(--ottoman-light-blue); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); background-color: #C0E0F0; }
        .title-section { background-color: var(--ottoman-navy); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        .title-section h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 0; margin-top: 0; font-size: 1.8rem; color: var(--text-light); }
        th, td { padding: 12px 15px; text-align: left; border: none; }
        th { background-color: var(--ottoman-blue); color: var(--text-light); font-weight: 600; }
        tr:nth-child(even) { background-color: var(--ottoman-light-blue); }
        tr:hover { background-color: #B9E7FE; }

        /* Exercise styles - Matching previous lessons */
        .exercise-list { list-style: none; padding: 0; margin: 0; }
        .exercise-item { background-color: var(--ottoman-gold); margin-bottom: 20px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .ottoman-text-exercise { font-family: 'Noto Naskh Arabic', serif; font-size: 1.5em; line-height: 1.6; margin-bottom: 5px; text-align: right; direction: rtl; } /* Adjusted for Ottoman script */
        .translit { font-style: italic; font-size: 0.9em; color: #555; display: block; margin-bottom: 8px; font-family: 'Nunito', Arial, sans-serif; }

        /* Question styles */
        .question { display: flex; align-items: center; margin-top: 10px; margin-bottom: 5px; flex-wrap: wrap; gap: 10px; }
        .answer-input { padding: 8px 12px; border: 2px solid #997000; border-radius: 6px; font-size: 16px; font-family: inherit; }
        .translation-input { width: 100%; max-width: 400px; }

        /* Button styles */
        .check-btn { padding: 8px 15px; background-color: #FFECB3; color: black; border: none; border-radius: 6px; cursor: pointer; font-family: inherit; font-weight: 600; transition: background-color 0.2s ease; }
        .check-btn:hover { background-color: #FFE082; }

        /* Feedback styles */
        .feedback, .fill-feedback { margin-top: 8px; margin-left: 5px; font-weight: bold; }
        .correct, .fill-feedback.correct { color: var(--ottoman-teal); }
        .incorrect, .fill-feedback.incorrect { color: var(--ottoman-red); }
        /* Make Ottoman text in correct answer display larger */
        .correct-answer-display {
            font-family: 'Noto Naskh Arabic', serif;
            font-size: 1.5em; /* Increased size */
            font-weight: 600;
            text-align: right; /* Align right for Ottoman */
            direction: rtl; /* Right-to-left direction */
            display: block;
            margin-top: 3px;
            color: #333;
        }
        /* Specific style for sentence building 'Correct' feedback */
        .fill-feedback.correct.sentence-building {
            color: black !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
            font-family: 'Nunito', Arial, sans-serif !important;
            background-color: var(--ottoman-gold);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: space-between; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--ottoman-navy); color: var(--text-light); border: 3px solid var(--ottoman-blue); border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: var(--ottoman-blue); border-color: var(--ottoman-navy); }

        /* Media queries */
        @media (max-width: 600px) {
            .section, .title-section { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; padding-bottom: 10px; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            .question { flex-direction: column; align-items: stretch; }
            .answer-input, .translation-input { margin: 0; width: 100%; max-width: none; }
            .check-btn { margin-top: 10px; width: 100%; padding: 12px; }
            .feedback, .fill-feedback { display: block; margin-top: 8px; text-align: center; }
            .nav-buttons-container { flex-direction: column; gap: 15px; } .nav-button { width: 100%; margin: 0; font-size: 1rem;}
        }

        @media (max-width: 450px) {
            body { padding: 10px; }
        }

        /* ADDED STYLES FOR CONGRATS AND NAV BUTTONS - EXACTLY FROM PREVIOUS FILES */
         .congrats-ottoman { font-family: 'Amiri', serif; font-size: 30px; line-height: 1.4; }
         .congrats-english { font-size: 1.2em; margin-top: 10px; }
         .prev-button { margin-right: auto; }
         .next-button, .exercises-button { margin-left: 10px; }
         .nav-button.next-button {
             padding-top: 27px; /* Add padding to the top to push text down */
         }
         /* End of added styles */

         /* Additional styles for the dialogue table */
         .dialogue-table {
             width: 100%;
             border-collapse: collapse;
             margin: 20px 0;
             border-radius: 8px;
             overflow: hidden;
             box-shadow: 0 2px 8px rgba(0,0,0,0.1);
             background-color: #F0FAFF; /* Very light blue background */
         }

         .dialogue-table th {
             background-color: var(--ottoman-blue);
             color: var(--text-light);
             padding: 12px 15px;
             text-align: center;
             font-weight: 600;
         }

         .dialogue-table td {
             padding: 12px 15px;
             text-align: left;
             border-bottom: 1px solid #B9E7FE;
             cursor: pointer;
             position: relative;
             transition: background-color 0.2s;
             font-family: 'Nunito', Arial, sans-serif !important; /* Use Nunito for transliteration */
             font-size: 1rem !important;
             font-weight: 400 !important;
             line-height: 1.7 !important;
         }

         /* Style for Ottoman text in dialogue table */
         .dialogue-table td.ottoman-text {
             font-family: 'Noto Naskh Arabic', serif !important;
             font-size: 1.0em !important;
             font-weight: 500 !important;
             line-height: 1.5 !important;
             text-align: right !important;
             direction: rtl !important;
         }

         .dialogue-table td:hover {
             background-color: #B9E7FE;
         }

         .ottoman-cell {
             position: relative;
         }

         .translation {
             display: block;
             margin-top: 5px;
             font-style: italic;
             color: #555;
             font-size: 0.9em;
         }
         /* Style for the Ottoman text within the exercise section - REMOVED as replaced by image */
         /* .ottoman-text-container { ... } */

         /* Style for the image container */
         .ottoman-image-container {
             text-align: center;
             margin: 20px 0;
         }
         .ottoman-image-container img {
            max-width: 100%;
            height: auto; /* Maintain aspect ratio */
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            background-color: var(--ottoman-cream); /* Background for placeholder */
         }
         .image-placeholder-note {
            font-size: 0.9em;
            color: #555;
            margin-top: 10px;
         }

    </style>
</head>
<body>
    <div class="title-section">
        <h1>Exercises for Lesson 6</h1>
    </div>

    <div class="section">
        <h2>Important Note About The Exercises</h2>
        <p>You are under no obligation to complete these exercises. There are a lot of them and you may not need to do them all to get the point. Feel free to pick and choose whatever you'd like to do or not do.</p>
        <div style="background-color: #FFD6E0; padding: 15px 20px; margin: 15px 0; position: relative; border-radius: 4px; overflow: hidden;">
            <div style="position: absolute; left: 0; top: 0; bottom: 0; width: 8px; background-color: #FF4D6D;"></div>
            <p style="margin: 0; padding-left: 10px; color: #1A3A5A;">
                <strong>Note:</strong> You must know the Lesson 6 Vocabulary from the vocabulary section to do these exercises. Also, some exercises, especially the dialogue, will still have new vocabulary!
            </p>
        </div>

        <div class="nav-buttons-container">
            <a href="#dialogue-section" class="nav-button">Dialogue</a>
            <a href="#exercise1-section" class="nav-button">Exercise 1</a>
            <a href="#ottomantext-section" class="nav-button">Ottoman Text</a>
            <a href="#exercise2-section" class="nav-button">Exercise 2</a>
        </div>
    </div>

    <div class="section" id="dialogue-section">
        <h2>Conversation</h2>
        <p>Click on any phrase to see its English translation.</p>

        <table class="dialogue-table" id="dialogue-table">
            <thead>
                <tr>
                    <th style="width: 50%;">Ottoman Text</th>
                    <th style="width: 50%;">Ottoman Text</th>
                </tr>
            </thead>
            <tbody style="font-size: 1.5em;">
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Who are the parents?')">والدین کیمه دیرلر؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Parents are called father and mother.')">آنا بابایه والدین دیرلر.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Who is the eldest?')">التى کم در؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'The wife of the husband\'s brother is the eldest.')">قوجه نك قارداشنك قاریسی در.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'How old are you?')">کوورکی کم در؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'You are fresh at that age.')">تازه کیمنك قوجه سیدر.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'What is the name of your uncle\'s son?')">دایی زاده نك اسمی نه در؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'His name is Nejib Efendi.')">نجیب افندی در.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Is your father at home?')">آتانك اوده می؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'He is at home, he has come home.')">اوده دکلدر، ابم اوده در.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Is Mr. Eyüp your brother-in-law?')">آيوب افندی قاین برادرکز می در؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Yes sir! He is my brother-in-law.')">اوت افندم! قاین در.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Where is your sister?')">نمك نرده در؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'My sister is at his house.')">همشیره م اونده در.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Is your grandfather in the garden?')">دده ك باغچه ده میدر؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'No sir! He is in the garden.')">خیر افندم! باغچه ده دکلدر.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Is Ahmed Efendi your uncle?')">احمد افندی سنك عمك میدر؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'No sir! He is my uncle.')">خیر افندم! دایمدر.</td>
                </tr>
                <tr>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'Who are these little children?')">چوچه و آبلا کیمه دیرلر؟</td>
                    <td class="ottoman-cell ottoman-text" onclick="showTranslation(this, 'These little children are the sons of my sister.')">کوچوك چوچقلر بو بویك همشیره یه دیرلر.</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section" id="exercise1-section">
        <h2>Exercise: Translate into English</h2>
        <p>Type the English translation for each Ottoman phrase below.</p>

        <ol class="exercise-list">
            <li class="exercise-item">
                <div class="ottoman-text-exercise">١. فاميليامزك صاييسى اون آلتى دير: پدرم و واليده م ايكى، اوچ برادرلرم، اوچ برادرلرمك اوچ كلينلرى، بيوك قارداشمك بر خالطى و بر خزمتكار، اون بش و اون آلتى.</div>
                <div class="question">
                    <input type="text" id="fill1" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(1, ['The number of our family is sixteen: my father and mother: two, my three brothers: five, the three wives of my three brothers: eight, the sister-in-law of my elder brother: nine, a man servant: ten, fifteen and I: sixteen.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback1"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٢. والده م برنده اون اوچ قفس وار. بو قفسلرك برنده كوزل و خوش صدالى بر قوش واردر.</div>
                <div class="question">
                    <input type="text" id="fill2" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(2, ['My mother has three cages in her room. In one of these cages there is a beautiful [and] the bird.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback2"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٣. دون ايكى كشى يازيخانه مزه كلديلر: بونلردن برى برادرمك قاينی اوبرى يكنمك قومشوسى ايدى.</div>
                <div class="question">
                    <input type="text" id="fill3" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(3, ['There were two guests in our house yesterday: one of them was the brother of the brother-in-law of my brother, the other was the neighbor of my nephew.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback3"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٤. كتابلرك صايسى اون دير: بشى اويده و بشى ده مكتبده در.</div>
                <div class="question">
                    <input type="text" id="fill4" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(4, ['The number of the books was ten: five of them are at home and five (also) in the school.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback4"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٥. بو افندى وهان افندی، خاله مك اوغلی در.</div>
                <div class="question">
                    <input type="text" id="fill5" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(5, ['This gentleman is Vahan Efféndi, my aunt\'s son.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback5"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٦. اول كوچوك چوجوغك والده سى (مماسی) چوق خسته در.</div>
                <div class="question">
                    <input type="text" id="fill6" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(6, ['That little boy\'s mother (mamma) is very sick.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback6"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٧. بيوك واليده مك التيسى بابامك عموجاسنك قاريسى دير، و بزه خصم دير.</div>
                <div class="question">
                    <input type="text" id="fill7" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(7, ['The sister-in-law of my grandmother is my father\'s uncle\'s wife and related to us.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback7"></div>
            </li>
             <li class="exercise-item">
                <div class="ottoman-text-exercise">٨. دونور انيشته نك اناسى و باباسى و كلينك قاينانا و قايناتاسى دير.</div>
                <div class="question">
                    <input type="text" id="fill8" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(8, ['A Dünür is a brother-in-law\'s (énishté) mother and father and a daughter-in-law\'s (gélin) father-in-law and mother-in-law.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback8"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">٩. داماد قزك قوجاسى و دونورك اوغلو دير.</div>
                <div class="question">
                    <input type="text" id="fill9" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(9, ['A son-in-law is a daughter\'s husband and a son of the dünür.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback9"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">١٠. عموجازاده يه عموجا اوغلو دا ديرلر؛ داخى زاده يه داخى اوغلو و تيزه زاده يه تيزه اوغلو دا ديرلر.</div>
                <div class="question">
                    <input type="text" id="fill10" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(10, ['A cousin is also called an uncle\'s son (or aunt\'s son).'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback10"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">١١. كورومجه قوجانك قيز قرداشى و التى قوجانك قرداشينك قاريسى دير.</div>
                <div class="question">
                    <input type="text" id="fill11" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(11, ['A Görümjé is a husband\'s sister, and an élti is the wife of a husband\'s brother.'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback11"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">١٢. قيز قرداشك اوغلونه يكن و قرداشك اوغلونه دا يكن ديرلر.</div>
                <div class="question">
                    <input type="text" id="fill12" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(12, ['A sister\'s son and a brother\'s son is called a nephew (yégen).'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback12"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise">١٣. دكز صويى، الما صويى، الما شرابى.</div>
                <div class="question">
                    <input type="text" id="fill13" class="answer-input translation-input" placeholder="Type translation here..." style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(13, ['Sea-water, apple-juice, apple-wine (cider).'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback13"></div>
            </li>
        </ol>
    </div>

    <div class="section" id="ottomantext-section">
        <h2>Original Ottoman Text - Exercise</h2>
        <p>This is the original Ottoman text for the exercise above (Translate to English). Reading this provides "real" Ottoman reading practice.</p>
        <div class="ottoman-image-container">
            <img src="ex_6.png"
                 alt="Original Ottoman Text - Lesson 6 Exercise"
                 onerror="this.onerror=null; this.src='https://placehold.co/800x400/FFF8E1/1A3A5A?text=Image+ex_6.png+missing';">
        </div>
        
        <p style="margin-top: 15px;">Congratulations on reading your sixth Ottoman text!</p>
    </div>

    <div class="section" id="exercise2-section">
        <h2>Exercise: Translate into Ottoman</h2>
        <p>Type the Ottoman translation for each English phrase below.</p>
        <p><strong>Note:</strong> You must use a Persian or Ottoman keyboard to be able to do this exercise.</p>

        <ol class="exercise-list">
             <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">1. The number of our family is sixteen: my father and mother: two, my three brothers: five, the three wives of my three brothers: eight, the sister-in-law of my elder brother: nine, a man servant: ten, fifteen and I: sixteen.</div>
                <div class="question">
                    <input type="text" id="fill19" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(19, ['فاميليامزك صاييسى اون آلتى دير: پدرم و واليده م ايكى، اوچ برادرلرم، اوچ برادرلرمك اوچ كلينلرى، بيوك قارداشمك بر خالطى و بر خزمتكار، اون بش و اون آلتى'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback19"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">2. My mother has three cages in her room. In one of these cages there is a beautiful [and] the bird.</div>
                <div class="question">
                    <input type="text" id="fill20" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(20, ['والده م برنده اون اوچ قفس وار. بو قفسلرك برنده كوزل و خوش صدالى بر قوش واردر'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback20"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">3. There were two guests in our house yesterday: one of them was the brother of the brother-in-law of my brother, the other was the neighbor of my nephew.</div>
                <div class="question">
                    <input type="text" id="fill21" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(21, ['دون ايكى كشى يازيخانه مزه كلديلر: بونلردن برى برادرمك قاينی اوبرى يكنمك قومشوسى ايدى'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback21"></div>
            </li>
             <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">4. The number of the books was ten: five of them are at home and five (also) in the school.</div>
                <div class="question">
                    <input type="text" id="fill22" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(22, ['كتابلرك صايسى اون دير: بشى اويده و بشى ده مكتبده در'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback22"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">5. This gentleman is Vahan Efféndi, my aunt's son.</div>
                <div class="question">
                    <input type="text" id="fill23" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(23, ['بو افندى وهان افندی، خاله مك اوغلی در'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback23"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">6. That little boy's mother (mamma) is very sick.</div>
                <div class="question">
                    <input type="text" id="fill24" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(24, ['اول كوچوك چوجوغك والده سى (مماسی) چوق خسته در'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback24"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">7. The sister-in-law of my grandmother is my father's uncle's wife and related to us.</div>
                <div class="question">
                    <input type="text" id="fill25" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(25, ['بيوك واليده مك التيسى بابامك عموجاسنك قاريسى دير، و بزه خصم دير'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback25"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">8. A Dünür is a brother-in-law's (énishté) mother and father and a daughter-in-law's (gélin) father-in-law and mother-in-law.</div>
                <div class="question">
                    <input type="text" id="fill26" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(26, ['دونور انيشته نك اناسى و باباسى و كلينك قاينانا و قايناتاسى دير'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback26"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">9. A son-in-law is a daughter's husband and a son of the dünür.</div>
                <div class="question">
                    <input type="text" id="fill27" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(27, ['داماد قزك قوجاسى و دونورك اوغلو دير'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback27"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">10. A cousin is also called an uncle's son (or aunt's son).</div>
                <div class="question">
                    <input type="text" id="fill28" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(28, ['عموجازاده يه عموجا اوغلو دا ديرلر؛ داخى زاده يه داخى اوغلو و تيزه زاده يه تيزه اوغلو دا ديرلر'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback28"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">11. A Görümjé is a husband's sister, and an élti is the wife of a husband's brother.</div>
                <div class="question">
                    <input type="text" id="fill29" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                    <button class="check-btn" onclick="checkFill(29, ['كورومجه قوجانك قيز قرداشى و التى قوجانك قرداشينك قاريسى دير'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback29"></div>
            </li>
            <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">12. A sister's son and a brother's son is called a nephew (yégen).</div>
                <div class="question">
                    <input type="text" id="fill30" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(30, ['قيز قرداشك اوغلونه يكن و قرداشك اوغلونه دا يكن ديرلر'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback30"></div>
            </li>
             <li class="exercise-item">
                <div class="ottoman-text-exercise" style="font-family: 'Nunito', Arial, sans-serif; font-size: 1.2em; text-align: left; direction: ltr;">13. Sea-water, apple-juice, apple-wine (cider).</div>
                <div class="question">
                    <input type="text" id="fill31" class="answer-input translation-input fill-input ottoman-input" dir="rtl" placeholder="" style="background-color: var(--ottoman-gold);">
                     <button class="check-btn" onclick="checkFill(31, ['دكز صويى، الما صويى، الما شرابى'])">Check</button>
                </div>
                <div class="fill-feedback" id="feedback31"></div>
            </li>
        </ol>
    </div>

    <div class="section">
        <h2 style="text-align: center;">
            <span class="congrats-ottoman">تبريكات<br>درس آلتنجى اكمال ايتدكز</span><br><br>
            <span class="congrats-english" style="display: block; font-size: inherit;">Congratulations<br>You finished the exercises for Lesson 6</span>
        </h2>
    </div>

    <div class="nav-buttons-container">
        <a href="../../landing_pages/ottoman_lessons_en.html" class="nav-button prev-button">Back to all lessons</a>
    </div>

    <script>
        // Function to show/hide translations when dialogue cells are clicked
        function showTranslation(element, translation) {
            const existingTranslation = element.querySelector('.translation');
            if (existingTranslation) {
                element.removeChild(existingTranslation);
            } else {
                const translationSpan = document.createElement('span');
                translationSpan.className = 'translation';
                translationSpan.textContent = translation;
                element.appendChild(translationSpan);
            }
        }

        // --- General Fill-in Exercise Checker ---
        function checkFill(id, correctAnswers) {
            const input = document.getElementById(`fill${id}`);
            const feedback = document.getElementById(`feedback${id}`);
            if (!input || !feedback) return;

            let userAnswer = input.value.trim();

            // Normalize text: lowercase, remove punctuation/diacritics, normalize spaces
            function normalizeText(text) {
                // Added check for null or undefined text
                if (text == null) return '';
                return text
                    .toLowerCase()
                    .replace(/[.,!?;:'"()\[\]{}\-_،؛…—–\u2013\u2014\u2012\u2015؟]/g, '') // Punctuation
                    .replace(/[\u064B-\u065F\u0640]/g, '') // Arabic diacritics
                    .replace(/\s+/g, ' ').trim(); // Whitespace
            }

            const normalizedUserAnswer = normalizeText(userAnswer);
            correctAnswers = Array.isArray(correctAnswers) ? correctAnswers : [correctAnswers];
            let correctDisplayAnswer = correctAnswers[0]; // Keep original for display
            // Normalize correct answers, handling potential null/undefined values
            const normalizedCorrectAnswers = correctAnswers.map(ans => normalizeText(ans));
            const isCorrect = normalizedCorrectAnswers.includes(normalizedUserAnswer);

            const correctFeedbackText = 'Correct 💯';
            if (isCorrect) {
                feedback.textContent = correctFeedbackText;
                feedback.className = 'fill-feedback correct sentence-building';
                input.style.borderColor = 'var(--ottoman-teal)';
            } else {
                feedback.innerHTML = `Incorrect ❌ Correct: <span class="correct-answer-display">${correctDisplayAnswer || ''}</span>`; // Handle potential null display answer
                feedback.className = 'fill-feedback incorrect';
                input.style.borderColor = 'var(--ottoman-red)';
                // Do not clear input on incorrect
            }
        }


        // Add event listeners for Enter key
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('.answer-input');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                        const checkBtn = this.closest('.question').querySelector('.check-btn');
                        if (checkBtn) {
                            checkBtn.click();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>