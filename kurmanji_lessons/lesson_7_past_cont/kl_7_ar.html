<!DOCTYPE html>
<html lang="ar" dir="rtl"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>الدرس 7: صيغة الماضي المستمر والتعابير</title> <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Styles adapted for RTL */
        :root {
            --kurdish-red: #9E2A2B;
            --kurdish-yellow: #F5CB5C;
            --background-cream: #FFF7E0;
            --text-color: #333333;
            --kurdish-green: #4F7942;
            --light-green: #E5F0E3;
        }

        body {
            font-family: 'Nunito', Arial, sans-serif; /* Keep Nunito as requested, add fallback if needed */
            line-height: 1.7;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
            background-color: var(--background-cream);
            background-image: url('../kurmanji_background.png');
            background-repeat: repeat;
            background-size: 200px 200px;
            box-sizing: border-box;
            color: var(--text-color);
            text-align: right; /* Default text alignment to right for RTL */
        }

        * {
            box-sizing: border-box;
        }

        .title-section {
            background-color: #005E30;
            color: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 12px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .title-section h1 {
            color: white;
            margin: 0;
            text-align: right; /* RTL adjustment */
        }

        .title-section hr {
            background-color: var(--kurdish-yellow);
            height: 4px;
            margin-top: 15px;
            margin-bottom: 0;
            border: none;
        }

        h1, h2 {
            color: var(--kurdish-red);
            font-weight: 700;
            line-height: 1.3;
            text-align: right; /* RTL adjustment */
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        h2 {
            font-size: 1.5rem;
            margin-top: 30px;
            color: var(--kurdish-red);
        }

        h3 {
            color: var(--kurdish-red);
            font-weight: 700;
            line-height: 1.3;
            font-size: 1.2rem;
            margin-top: 25px;
            text-align: right; /* RTL adjustment */
        }

        hr {
            border: none;
            height: 3px;
            background-color: var(--kurdish-yellow);
            margin-bottom: 25px;
        }

        .section {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        /* RTL adjustments for list items */
        ul {
            padding-right: 20px; /* Add padding for bullets in RTL */
             padding-left: 0;
        }
         li {
            text-align: right;
        }


        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: right; /* RTL adjustment */
            border: none;
        }

        th {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: var(--background-cream);
        }
         tr:nth-child(odd) {
            background-color: #FEFDFB;
        }

        tr:hover {
            background-color: #FFEEB4;
        }

        .note {
            background-color: #FFF2C2;
            padding: 15px;
            border-right: 4px solid var(--kurdish-yellow); /* RTL adjustment */
            border-left: none; /* RTL adjustment */
            margin: 20px 0;
            border-radius: 8px 0 0 8px; /* RTL adjustment */
        }

        .highlight {
            font-weight: 700;
            color: var(--kurdish-red);
        }

        .examples {
            background-color: var(--background-cream);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .examples p:not(:first-of-type) {
            margin: 10px 0;
            padding: 10px;
            border-radius: 6px;
        }

        .examples p:nth-of-type(even) {
            background-color: #FFF2C2;
        }

        .examples p:nth-of-type(odd):not(:first-of-type) {
            background-color: #FBEAA6;
        }

        .exercise {
            background-color: #E5F0E3;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .check-btn {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-family: inherit;
            font-weight: 600;
            margin-top: 10px;
        }

        .check-btn:hover {
            background-color: #DBA53A;
        }

        .feedback {
            margin-top: 8px;
            margin-right: 5px; /* RTL adjustment */
            margin-left: 0; /* RTL adjustment */
            font-weight: bold;
            min-height: 1.5em;
        }

        .correct {
            color: #4F7942;
        }

        .incorrect {
            color: var(--kurdish-red);
        }
         .correct-answer-display {
             display: inline-block;
             margin-right: 5px; /* RTL adjustment */
             margin-left: 0;
             font-weight: normal;
             font-style: italic;
             color: #555;
         }


        /* Matching Game Styles */
        .matching-game {
            background-color: #FFF7E0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            margin-bottom: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .matching-container {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
            /* Flex direction reverses automatically in RTL */
        }
        .matching-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
         .matching-item-container {
             display: flex;
             flex-direction: column;
             gap: 10px;
         }
        .matching-item {
            padding: 12px 15px;
            background-color: white;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            font-weight: 500;
        }
        .matching-item:hover { background-color: #FFF2C2; }
        .matching-item.selected {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border-color: #DBA53A;
        }
        .matching-item.matched {
            background-color: #4F7942;
            color: white;
            border-color: #3B5A31;
            cursor: default;
            opacity: 0.7;
        }
        .matching-result { text-align: center; margin-top: 15px; }
        .matching-feedback {
            font-weight: bold;
            margin-bottom: 12px;
            min-height: 1.5em;
            text-align: center; /* Center feedback */
        }
        .matching-feedback.correct { color: var(--kurdish-green); }
        .matching-feedback.incorrect { color: var(--kurdish-red); }
        .match-progress {
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--text-color);
            text-align: center; /* Center progress */
        }
         .match-progress .matches-count { font-weight: 700; }


        /* Fill-in Exercise */
        .fill-exercise {
             background-color: var(--light-green);
             padding: 20px;
             border-radius: 8px;
             margin: 25px 0;
        }
        .fill-item {
            background-color: white;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .exercise-row {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            color: var(--text-color);
            font-weight: 500;
            line-height: 1.8;
        }
        .fill-input {
            width: 150px;
            padding: 8px 12px;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 6px;
            font-size: 16px;
            font-family: inherit;
            margin: 0 5px;
            background-color: #f8f8f8;
            text-align: center;
        }
        .fill-input:focus { outline: none; }
        .verb-hint {
             font-size: 0.9em;
             color: #555;
             margin-right: 5px; /* RTL adjustment */
             margin-left: 0;
         }
        .key-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 12px;
            margin-top: 8px;
            justify-content: center; /* Center keys */
        }
        .key-btn {
            padding: 5px 12px;
            background-color: var(--background-cream);
            border: 1px solid var(--kurdish-yellow);
            border-radius: 6px;
            cursor: pointer;
            color: var(--text-color);
            font-size: 0.9em;
            font-family: inherit;
            text-align: center;
        }
        .key-btn:hover { background-color: var(--kurdish-yellow); }
        .fill-check {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: background-color 0.2s ease;
            display: block;
            margin-top: 10px;
            margin-right: auto; /* Center button */
            margin-left: auto; /* Center button */
        }
        .fill-check:hover { background-color: #DBA53A; }
        .fill-feedback {
            margin-top: 10px;
            font-weight: bold;
            min-height: 1.5em;
            text-align: center; /* Center feedback */
        }
        .fill-feedback.correct { color: var(--kurdish-green); }
        .fill-feedback.incorrect { color: var(--kurdish-red); }


        /* Dialogue box styles */
        .dialogue-box {
            background-color: #f5f5f5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .dialogue-line { margin-bottom: 10px; }
        .speaker { font-weight: bold; color: var(--kurdish-red); margin-left: 10px; margin-right: 0;} /* RTL adjustment */

        /* Activity card styles - grid should handle RTL okay */
        .activities-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0; }
        .activity-card { background-color: var(--light-green); border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; }
        .activity-phrase { font-weight: bold; margin-bottom: 5px; color: #4F7942; }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: center; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--kurdish-red); color: white; border: none; border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: #7e2223; }

        /* Vocabulary section styles */
        .vocabulary-section { background-color: var(--background-cream); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .vocab-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0; }
        .vocab-item { background-color: white; border-radius: 8px; padding: 12px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .kurdish-word { font-weight: bold; color: var(--kurdish-red); margin-bottom: 5px; }
        .vocabulary-section h4 {
            color: var(--text-color);
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 20px;
            margin-bottom: 5px;
            text-align: center; /* Center subheadings */
        }


        /* Word Order Game Styles */
         .word-order-game { background-color: var(--background-cream); padding: 15px; border-radius: 8px; margin: 20px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
         .game-sentence { background-color: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
         .game-sentence.completed { background-color: var(--light-green); border-right: 4px solid var(--kurdish-green); border-left: none;} /* RTL adjustment */
         .game-sentence-translation { font-weight: 600; margin-bottom: 15px; color: var(--text-color); }
         .sentence-number { display: inline-block; min-width: 45px; font-weight: 700; color: var(--kurdish-red); margin-left: 5px; margin-right: 0;} /* RTL adjustment */
         .solution-area { min-height: 60px; padding: 10px; background-color: #f1f8e9; border-radius: 8px; display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; border: 2px dashed var(--kurdish-green); justify-content: flex-end; } /* RTL: Align words to the right */
         .words-bank { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; background-color: #FFF7E0; border-radius: 6px; margin-bottom: 10px; justify-content: center; } /* Center words in bank */
         .word-box { display: inline-block; padding: 8px 12px; background-color: var(--kurdish-yellow); color: var(--text-color); border-radius: 5px; cursor: pointer; user-select: none; margin: 0; font-weight: 500; border: 2px solid transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease; }
         .solution-area .word-box { background-color: #beddb0; border-color: var(--kurdish-green); }
         .word-box:active { transform: scale(0.95); }
         .word-box.modal { background-color: var(--kurdish-red); color: white; }
         .solution-area .word-box.modal { background-color: #c35758; color: white; }
         .game-feedback { margin-top: 10px; font-weight: 600; min-height: 1.5em; text-align: center;} /* Center feedback */
         .feedback-correct { color: var(--kurdish-green); }
         .feedback-incorrect { color: var(--kurdish-red); }
         .sentence-buttons { display: flex; gap: 10px; margin-top: 10px; }
         .word-order-game .check-btn,
         .word-order-game .show-answer-btn,
         .word-order-game .delete-btn { flex: 1; padding: 8px 15px; margin-top: 0; }
         .word-order-game .show-answer-btn { background-color: #E5F0E3; }
         .word-order-game .show-answer-btn:hover { background-color: #D5E0D3; }
         .word-order-game .delete-btn { background-color: #ef9a9a; color: var(--text-color); }
         .word-order-game .delete-btn:hover { background-color: #ef5350; color: white; }

        /* Translation button */
        .trans-btn { background-color: var(--kurdish-yellow); border: none; border-radius: 4px; padding: 3px 8px; margin-right: 10px; margin-left: 0; font-size: 0.8em; cursor: pointer; transition: background-color 0.2s; } /* RTL adjustment */
        .trans-btn:hover { background-color: #EAB72C; }
        .translation { display: none; font-style: italic; color: #666; margin-top: 5px; padding-right: 60px; padding-left:0;} /* RTL adjustment */

        /* Completion Banner */
         .completion-banner { background-color: var(--kurdish-green); padding: 25px; border-radius: 12px; text-align: center; margin: 30px 0; color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
         .completion-banner h2 { color: white; font-size: 1.7rem; margin-top: 0; }
         .celebration { font-size: 2.5rem; margin: 10px 0; }

        /* Media Queries */
        @media (max-width: 600px) {
            .section, .title-section, .exercise, .fill-exercise, .matching-game, .word-order-game { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            body { padding: 10px; }
            .check-btn { margin-top: 10px; width: 100%; max-width: 300px; padding: 12px; }
            .feedback { display: block; margin-top: 8px; text-align: right; margin-right:0;} /* RTL adjustment */
            .matching-container { flex-direction: column; gap: 15px; }
            .matching-item { font-size: 1em; padding: 10px 12px; }
            /* Fill-in exercise mobile */
            .exercise-row { flex-direction: column; align-items: flex-end; gap: 5px;} /* RTL: Align items to the right */
            .fill-input { width: 100%; max-width: none; margin: 5px 0; }
            .key-container { justify-content: flex-end; } /* RTL: Align keys to the right */
            .fill-check { width: auto; margin-top: 10px; }
            .activities-grid, .vocab-grid { grid-template-columns: 1fr; }
            .nav-buttons-container { flex-direction: column; gap: 15px; }
            .nav-button { width: 100%; margin: 0; font-size: 1rem; }
            /* Word order game mobile */
             .sentence-buttons { flex-direction: column; }
             .word-order-game .check-btn,
             .word-order-game .show-answer-btn,
             .word-order-game .delete-btn { width: 100%; }
             .translation { padding-right: 10px; padding-left: 0;} /* RTL adjustment */
             .game-sentence.completed { border-right: 4px solid var(--kurdish-green); border-left: none;} /* RTL */
        }
        @media (max-width: 450px) {
            .matching-item { padding: 10px 8px; font-size: 0.9em; }
            .matching-column { gap: 8px; }
            .matching-container { gap: 8px; }
            .key-btn { font-size: 0.8em; padding: 4px 8px;}
            .nav-button { padding: 12px 15px; }
            .word-box { padding: 6px 10px; font-size: 0.9em;}
            .vocab-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (min-width: 451px) and (max-width: 600px) {
             .vocab-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>الدرس 7: <br>صيغة الماضي المستمر والتعابير</h1> <hr>
    </div>

    <div class="section">
        <h3>أهداف الدرس</h3> <ul>
            <li><a href="#simple-past-review" style="color: inherit; text-decoration: none;">مراجعة: صيغة الماضي البسيط</a></li>
            <li><a href="#continuous-past" style="color: inherit; text-decoration: none;">صيغة الماضي المستمر</a></li>
            <li><a href="#reflexive-pronoun" style="color: inherit; text-decoration: none;">الضمير الانعكاسي "xwe"</a></li>
            <li><a href="#likes-dislikes" style="color: inherit; text-decoration: none;">التعبير عن الإعجاب وعدم الإعجاب</a></li>
            <li><a href="#wants" style="color: inherit; text-decoration: none;">التعبير عن الإرادة وعدم الإرادة</a></li>
            <li><a href="#food-vocabulary" style="color: inherit; text-decoration: none;">مفردات الطعام</a></li>
            <li><a href="#word-order-game" style="color: inherit; text-decoration: none;">ترتيب الكلمات</a></li>
            <li><a href="#dialogue" style="color: inherit; text-decoration: none;">حوار</a></li>
        </ul>
    </div>

    <div class="section" id="simple-past-review">
        <h2>1. مراجعة: صيغة الماضي البسيط</h2> <p>لنراجع صيغة الماضي البسيط التي تعلمناها في الدرس السابق:</p> <p>في اللغة الكرمانجية، تختلف صيغة الماضي البسيط اعتمادًا على ما إذا كان الفعل <strong>متعديًا</strong> أو <strong>لازمًا</strong>:</p> <h3>الأفعال المتعدية في صيغة الماضي البسيط:</h3> <ul>
            <li>يتغير الفاعل إلى <strong>الحالة المائلة</strong> (تتغير "ez" إلى "min").</li>
            <li>يكون الفعل في صيغة <strong>جذر الماضي</strong>، بدون أي بادئات.</li>
        </ul>

        <table>
            <tr><th>الفعل المتعدي في الماضي البسيط</th><th>الترجمة العربية</th></tr> <tr><td><strong>Min</strong> pirtûk <strong>xwend</strong>.</td><td>أنا <strong>قرأت</strong> كتابًا.</td></tr>
            <tr><td><strong>Te</strong> name <strong>nivîsî</strong>.</td><td>أنت <strong>كتبت</strong> رسالة.</td></tr>
            <tr><td><strong>Wî</strong> mala xwe <strong>paqij kir</strong>.</td><td>هو <strong>نظف</strong> منزله.</td></tr>
            <tr><td><strong>Wê</strong> nan <strong>xwar</strong>.</td><td>هي <strong>أكلت</strong> خبزًا.</td></tr>
            <tr><td><strong>Me</strong> dikan <strong>vekir</strong>.</td><td>نحن <strong>فتحنا</strong> المحل.</td></tr>
            <tr><td><strong>We</strong> mêvan <strong>vexwendin</strong>.</td><td>أنتم <strong>دعوتم</strong> ضيوفًا.</td></tr>
            <tr><td><strong>Wan</strong> malper <strong>çêkir</strong>.</td><td>هم <strong>أنشأوا</strong> موقعًا إلكترونيًا.</td></tr>
        </table>

        <h3>الأفعال اللازمة في صيغة الماضي البسيط:</h3> <ul>
            <li>يبقى الفاعل في <strong>الحالة المباشرة</strong> (ez, tu, ew, إلخ).</li>
            <li>يأخذ الفعل <strong>نهايات شخصية</strong> ولكنه لا يحتوي على البادئة "di-".</li>
        </ul>

        <table>
            <tr><th>الفعل اللازم في الماضي البسيط</th><th>الترجمة العربية</th></tr> <tr><td><strong>Ez</strong> <strong>çûm</strong> malê.</td><td>أنا <strong>ذهبت</strong> إلى المنزل.</td></tr>
            <tr><td><strong>Tu</strong> <strong>hatî</strong> dibistanê.</td><td>أنت <strong>أتيت</strong> إلى المدرسة.</td></tr>
            <tr><td><strong>Ew</strong> <strong>ket</strong>.</td><td>هو/هي <strong>وقع/وقعت</strong>.</td></tr>
            <tr><td><strong>Em</strong> <strong>rûniştin</strong>.</td><td>نحن <strong>جلسنا</strong>.</td></tr>
            <tr><td><strong>Hûn</strong> <strong>girîn</strong>.</td><td>أنتم <strong>بكيتم</strong>.</td></tr>
            <tr><td><strong>Ew</strong> <strong>kenîn</strong>.</td><td>هم <strong>ضحكوا</strong>.</td></tr>
        </table>

        <div class="fill-exercise">
             <h3>تمرين 1: اختر الصيغة الصحيحة</h3> <div class="fill-item" data-correct="Min">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-1" readonly>
                     <span>name nivîsî.</span><span class="verb-hint">(أنا كتبت رسالة - متعدٍ)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Min</button>
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Me</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Ez">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-2" readonly>
                     <span>rûniştim.</span><span class="verb-hint">(أنا جلست - لازم)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Min</button>
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Me</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Wî">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-3" readonly>
                     <span>sêv xwar.</span><span class="verb-hint">(هو أكل تفاحة - متعدٍ)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Ew</button>
                     <button class="key-btn">Wî</button>
                     <button class="key-btn">Wan</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Ew">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-4" readonly>
                     <span>hat malê.</span><span class="verb-hint">(هي أتت إلى المنزل - لازم)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Ew</button>
                     <button class="key-btn">Wê</button>
                     <button class="key-btn">Wan</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-4-feedback"></div>
             </div>

             <div class="fill-item" data-correct="We">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-5" readonly>
                     <span>dikan vekir.</span><span class="verb-hint">(أنتم فتحتم المحل - متعدٍ)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Hûn</button>
                     <button class="key-btn">We</button>
                     <button class="key-btn">Wan</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-5-feedback"></div>
             </div>

              <div class="fill-item" data-correct="Em">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-past-ex1-6" readonly>
                     <span>ketin.</span><span class="verb-hint">(نحن وقعنا - لازم)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">Em</button>
                     <button class="key-btn">Me</button>
                     <button class="key-btn">Wan</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="fill-past-ex1-6-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="continuous-past">
        <h2>2. صيغة الماضي المستمر</h2> <p>تُستخدم صيغة الماضي المستمر في اللغة الكرمانجية لوصف الأحداث التي كانت مستمرة في الماضي. إنها تشبه "كان يفعل" بدلاً من "فعل" في اللغة العربية.</p> <div class="note"><p>ملاحظة: يستخدم المتحدثون الأصليون للغة الكرمانجية صيغة الماضي المستمر أكثر بكثير من المتحدثين الأصليين للغة العربية. حاول ملاحظة السياق الذي يستخدم فيه المتحدثون الأصليون صيغ الماضي لتعلم متى يجب عليك استخدام الماضي البسيط أو الماضي المستمر. عند الشك، استخدم الماضي المستمر.</p> </div>
        <h3>كيفية تكوين صيغة الماضي المستمر:</h3> <p>الأمر سهل. بنفس طريقة الماضي البسيط، ولكن أضف البادئة "di-" أمام الفعل.</p> <p>تذكر أن قواعد الماضي لا تزال تنطبق على الأفعال <strong>المتعدية</strong> و<strong>اللازمة</strong> (انظر الأمثلة أدناه).</p> <p>تذكر أيضًا أن <strong>صيغتي المضارع والماضي لهما جذور مختلفة.</strong> لذا، "Ez dibazim" تعني "أنا أركض"، و "Ez dibazdam" تعني "كنت أركض". هذا لأن جذر المضارع للفعل "ركض" هو "baz" وجذر الماضي هو "bazda".</p> <h3>الأفعال المتعدية في صيغة الماضي المستمر:</h3> <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr> <tr><td><strong>Min</strong> pirtûk <strong>dixwend</strong>.</td><td>أنا <strong>كنت أقرأ</strong> كتابًا.</td></tr>
            <tr><td><strong>Te</strong> name <strong>dinivîsî</strong>.</td><td>أنت <strong>كنت تكتب</strong> رسالة.</td></tr>
            <tr><td><strong>Wî</strong> sêv <strong>dixwar</strong>.</td><td>هو <strong>كان يأكل</strong> تفاحة.</td></tr>
            <tr><td><strong>Wê</strong> derî <strong>dişûşt</strong>.</td><td>هي <strong>كانت تغسل</strong> الباب.</td></tr>
            <tr><td><strong>Me</strong> mal <strong>paqij dikir</strong>.</td><td>نحن <strong>كنا ننظف</strong> المنزل.</td></tr>
            <tr><td><strong>We</strong> xwarin <strong>çêdikir</strong>.</td><td>أنتم <strong>كنتم تحضرون</strong> الطعام.</td></tr>
            <tr><td><strong>Wan</strong> nan <strong>dikirin</strong>.</td><td>هم <strong>كانوا يشترون</strong> الخبز.</td></tr>
        </table>

        <h3>الأفعال اللازمة في صيغة الماضي المستمر:</h3> <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr> <tr><td><strong>Ez</strong> <strong>diçûm</strong> dibistanê.</td><td>أنا <strong>كنت أذهب</strong> إلى المدرسة.</td></tr>
            <tr><td><strong>Tu</strong> <strong>dihatî</strong> malê.</td><td>أنت <strong>كنت تأتي</strong> إلى المنزل.</td></tr>
            <tr><td><strong>Ew</strong> <strong>direyî</strong>.</td><td>هو/هي <strong>كان يمشي/كانت تمشي</strong>.</td></tr>
            <tr><td><strong>Em</strong> <strong>dirûniştin</strong>.</td><td>نحن <strong>كنا نجلس</strong>.</td></tr>
            <tr><td><strong>Hûn</strong> <strong>dixebitîn</strong>.</td><td>أنتم <strong>كنتم تعملون</strong>.</td></tr>
            <tr><td><strong>Ew</strong> <strong>dikenîn</strong>.</td><td>هم <strong>كانوا يضحكون</strong>.</td></tr>
        </table>

        <h3>الصيغة المنفية للماضي المستمر:</h3> <p>لتكوين الصيغة المنفية للماضي المستمر، أضف البادئة <strong>ne-</strong> إلى البادئة <strong>di-</strong>:</p> <div class="examples">
            <p><strong>أمثلة:</strong></p> <p><strong>Min</strong> pirtûk <strong>nedixwend</strong>. (أنا <strong>لم أكن أقرأ</strong> كتابًا.)</p>
            <p><strong>Te</strong> name <strong>nedinivîsî</strong>. (أنت <strong>لم تكن تكتب</strong> رسالة.)</p>
            <p><strong>Ez</strong> <strong>nediçûm</strong> dibistanê. (أنا <strong>لم أكن أذهب</strong> إلى المدرسة.)</p>
            <p><strong>Ew</strong> <strong>nedikenîn</strong>. (هم <strong>لم يكونوا يضحكون</strong>.)</p>
        </div>

        <div class="note"><p>ملاحظة: عادة لا تستخدم بادئات مزدوجة في الكرمانجية، ولكنك تفعل ذلك في صيغة الماضي المستمر. على سبيل المثال، في الصيغ الأخرى، ستحل البادئة "ne-" محل البادئة "di-".</p></div> <div class="fill-exercise">
            <h3>تمرين 2: املأ الفراغ بصيغة الماضي المستمر الصحيحة</h3> <div class="fill-item" data-correct="dixwend">
                <div class="exercise-row">
                    <span>Min pirtûk</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(كنت أقرأ كتابًا - متعدٍ)</span> </div>
                <div class="key-container">
                    <button class="key-btn">xwend</button>
                    <button class="key-btn">dixwend</button>
                    <button class="key-btn">xwendim</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="diçûm">
                <div class="exercise-row">
                    <span>Ez dibistanê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(كنت أذهب إلى المدرسة - لازم)</span> </div>
                <div class="key-container">
                    <button class="key-btn">çûm</button>
                    <button class="key-btn">diçûm</button>
                    <button class="key-btn">çûyim</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="didît">
                <div class="exercise-row">
                    <span>Te min</span>
                    <input type="text" class="fill-input" readonly>
                    <span>?</span><span class="verb-hint">(هل كنت تراني؟ - متعدٍ)</span> </div>
                <div class="key-container">
                    <button class="key-btn">dît</button>
                    <button class="key-btn">didît</button>
                    <button class="key-btn">dîtî</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="dirûniştin">
                <div class="exercise-row">
                    <span>Em li malê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(كنا نجلس في المنزل - لازم)</span> </div>
                <div class="key-container">
                    <button class="key-btn">rûniştin</button>
                    <button class="key-btn">dirûniştin</button>
                    <button class="key-btn">rûnişt</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="dixwar">
                <div class="exercise-row">
                    <span>Wî sêv</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(كان يأكل تفاحة - متعدٍ)</span> </div>
                <div class="key-container">
                    <button class="key-btn">xwar</button>
                    <button class="key-btn">dixwar</button>
                    <button class="key-btn">dixwarin</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="nedixwar">
                <div class="exercise-row">
                    <span>Min nan</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(لم أكن آكل خبزًا - نفي متعدٍ)</span> </div>
                <div class="key-container">
                    <button class="key-btn">naxwar</button>
                    <button class="key-btn">nedixwar</button>
                    <button class="key-btn">nexwar</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="nedihatî">
                <div class="exercise-row">
                    <span>Tu malê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(لم تكن تأتي إلى المنزل - نفي لازم)</span> </div>
                <div class="key-container">
                    <button class="key-btn">nehatî</button>
                    <button class="key-btn">nedihatî</button>
                    <button class="key-btn">dihatî</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>

            <div class="fill-item" data-correct="dikenîn">
                <div class="exercise-row">
                    <span>Ew</span>
                    <input type="text" class="fill-input" readonly>
                    <span>dema ku film didîtin.</span><span class="verb-hint">(كانوا يضحكون عندما كانوا يشاهدون الفيلم - لازم)</span> </div>
                <div class="key-container">
                    <button class="key-btn">kenîn</button>
                    <button class="key-btn">dikenîn</button>
                    <button class="key-btn">kenî</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
            </div>
        </div>
    </div>

    <div class="section" id="reflexive-pronoun">
        <h2>3. الضمير الانعكاسي "xwe"</h2> <p>في اللغة الكرمانجية، <strong>xwe</strong> هو ضمير انعكاسي يعني "نفسه"، "نفسي"، "نفسك"، إلخ. يُستخدم عندما يقوم الفاعل بفعل على نفسه.</p> <p>كما هو موضح في المثال أعلاه، <strong>"xwe" ليس له تصريفات!</strong> وهذا جيد، لأنه لا يحتاجها أبدًا. على سبيل المثال، لن تقول أبدًا: "أنا أرى نفسك." "Xwe" في الكرمانجية أشبه بقول "نفس". "أنا أرى نفسي"، "أنت ترى نفسك"، وهكذا.</p> <p>بعض اللغات تستخدم الضمائر الانعكاسية كثيرًا، مثل الفرنسية، وبعضها لا تستخدمها، مثل الإنجليزية. على سبيل المثال، في بعض اللغات قد تقول: "هل ترى نفسك قويًا؟" إذا كنت قادمًا من لغة <i>لا</i> تستخدم الضمائر الانعكاسية كثيرًا، فقد يستغرق الأمر بعض الوقت لتعتاد على "xwe" كضمير انعكاسي.</p> <div class="examples">
            <p><strong>أمثلة:</strong></p> <p>Ez <strong>xwe</strong> dişom. (أنا أغسل <strong>نفسي</strong>.)</p>
            <p>Tu <strong>xwe</strong> dibînî? (هل ترى <strong>نفسك</strong>؟)</p>
            <p>Ew <strong>xwe</strong> amade dike. (هو/هي يجهز/تجهز <strong>نفسه/نفسها</strong>.)</p>
            <p>Min <strong>xwe</strong> şûşt. (أنا غسلت <strong>نفسي</strong>.)</p>
            <p>Te <strong>xwe</strong> dît. (أنت رأيت <strong>نفسك</strong>.)</p>
        </div>

        <h3>"Xwe" للملكية:</h3> <p>يمكن أيضًا استخدام "Xwe" للإشارة إلى الملكية عندما يكون المالك هو نفسه فاعل الجملة. يعمل مثل "ـي"، "ـك"، إلخ.</p> <p>القاعدة في استخدام "xwe" للملكية هي أنه يجب عليك استخدام الضمير أولاً، ثم استخدام "xwe" ثانيًا.</p> <p><strong>استخدام xwe ليس اختياريًا.</strong> لا يمكنك أن تقول: "Ez kitêba min dixwînim." يجب أن تقول: "Ez kitêba xwe dixwînim."</p> <div class="examples">
            <p><strong>أمثلة:</strong></p> <p>Ez kitêba <strong>xwe</strong> dixwînim. (أنا أقرأ كتابـ<strong>ـي</strong>.)</p>
            <p>Tu mala <strong>xwe</strong> dibînî? (هل ترى منزلـ<strong>ـك</strong>؟)</p>
            <p>Ew hevala <strong>xwe</strong> nas dike. (هي تعرف صديقتـ<strong>ـها</strong>.)</p>
            <p>Min kitêba <strong>xwe</strong> xwend. (أنا قرأت كتابـ<strong>ـي</strong>.)</p>
            <p>Te bavê <strong>xwe</strong> dît. (أنت رأيت والد<strong>ك</strong>.)</p>
            <p>Wî zarokên <strong>xwe</strong> dişandin dibistanê. (هو كان يرسل أطفالـ<strong>ـه</strong> إلى المدرسة.)</p>
        </div>

        <div class="exercise">
            <h3>تمرين 3: حدد الاستخدام الصحيح لـ "xwe"</h3> <div class="fill-exercise" style="background-color: #E5F0E3;">
                 <div class="fill-item" data-correct="نفسي"> <div class="exercise-row">
                         <span>Ez xwe dişom.</span>
                         <input type="text" class="fill-input" id="xwe-meaning-1" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">نفسي</button>
                         <button class="key-btn">نفسك</button>
                         <button class="key-btn">نفسه</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-1-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="ـك "> <div class="exercise-row">
                         <span>Tu mala xwe dibînî?</span>
                         <span>منزلـ</span><input type="text" class="fill-input" id="xwe-meaning-2" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">ـي </button>
                         <button class="key-btn">ـك </button>
                         <button class="key-btn">ـه </button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-2-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="ـه "> <div class="exercise-row">
                         <span>Wî xwarina xwe çêkir.</span>
                         <span>طعامـ</span><input type="text" class="fill-input" id="xwe-meaning-3" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">ـي </button>
                         <button class="key-btn">ـك </button>
                         <button class="key-btn">ـه </button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-3-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="أنفسهم"> <div class="exercise-row">
                         <span>Ew xwe dibînin.</span>
                         <input type="text" class="fill-input" id="xwe-meaning-4" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">نفسك</button>
                         <button class="key-btn">نفسه</button>
                         <button class="key-btn">أنفسهم</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-4-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="ـنا "> <div class="exercise-row">
                         <span>Em kitêbên xwe dixwînin.</span>
                         <span>كتبـ</span><input type="text" class="fill-input" id="xwe-meaning-5" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">ـنا </button>
                         <button class="key-btn">ـكم </button>
                         <button class="key-btn">ـهم </button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-5-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="نفسك"> <div class="exercise-row">
                         <span>Te xwe dît?</span>
                         <input type="text" class="fill-input" id="xwe-meaning-6" readonly>
                     </div>
                     <div class="key-container">
                         <button class="key-btn">نفسي</button>
                         <button class="key-btn">نفسك</button>
                         <button class="key-btn">نفسه</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="xwe-meaning-6-feedback"></div>
                 </div>
             </div>
        </div>
    </div>

    <div class="section" id="likes-dislikes">
        <h2>4. التعبير عن الإعجاب وعدم الإعجاب</h2> <p>في اللغة الكرمانجية، الطريقة الأكثر شيوعًا للتعبير عن الإعجاب وعدم الإعجاب هي باستخدام التعبير <strong>ji ... hez kirin</strong> (أن تحب/تعجب بشيء ما).</p> <h3>التعبير عن الإعجاب:</h3> <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr> <tr><td>Ez <strong>ji ... hez dikim</strong>.</td><td>أنا <strong>أحب/يعجبني</strong> ...</td></tr> </table>

        <h3>التعبير عن عدم الإعجاب:</h3> <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr> <tr><td>Ez <strong>ji ... hez nakim</strong>.</td><td>أنا <strong>لا أحب/لا يعجبني</strong> ...</td></tr> </table>

        <div class="examples">
            <p><strong>أمثلة:</strong></p> <p>Ez <strong>ji sêvan hez dikim</strong>. (أنا <strong>أحب</strong> التفاح.)</p>
            <p>Ez <strong>ji sporê hez nakim</strong>. (أنا <strong>لا أحب</strong> الرياضة.)</p>
            <p>Ez <strong>ji birincê hez dikim</strong>. (أنا <strong>أحب</strong> الأرز.)</p>
            <p>Ez <strong>ji xwarinê hez nakim</strong>. (أنا <strong>لا أحب</strong> الطعام.)</p>
            <p>Tu <strong>ji muzîkê hez dikî</strong>? (هل <strong>تحب</strong> الموسيقى؟)</p>
            <p>Ew <strong>ji goştê hez dike</strong>. (هو/هي <strong>يحب/تحب</strong> اللحم.)</p>
            <p>Em <strong>ji çayê hez dikin</strong>. (نحن <strong>نحب</strong> الشاي.)</p>
        </div>

        <div class="fill-exercise">
             <h3>تمرين 4: عبر عن الإعجاب وعدم الإعجاب</h3> <div class="fill-item" data-correct="dikim">
                 <div class="exercise-row">
                     <span>Ez ji sêvan hez</span>
                     <input type="text" class="fill-input" id="like-ex-1" readonly>
                     <span>.</span><span class="verb-hint">(أنا أحب التفاح.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">dikim</button>
                     <button class="key-btn">dikî</button>
                     <button class="key-btn">nakim</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="like-ex-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="dikî">
                 <div class="exercise-row">
                     <span>Tu ji muzîkê hez</span>
                     <input type="text" class="fill-input" id="like-ex-2" readonly>
                     <span>?</span><span class="verb-hint">(هل تحب الموسيقى؟)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">dikim</button>
                     <button class="key-btn">dikî</button>
                     <button class="key-btn">nakî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="like-ex-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="nakim">
                 <div class="exercise-row">
                     <span>Ez ji sporê hez</span>
                     <input type="text" class="fill-input" id="like-ex-3" readonly>
                     <span>.</span><span class="verb-hint">(أنا لا أحب الرياضة.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">dikim</button>
                     <button class="key-btn">nakim</button>
                     <button class="key-btn">nakî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="like-ex-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="dike">
                 <div class="exercise-row">
                     <span>Ew ji goştê hez</span>
                     <input type="text" class="fill-input" id="like-ex-4" readonly>
                     <span>.</span><span class="verb-hint">(هو/هي يحب/تحب اللحم.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">dikin</button>
                     <button class="key-btn">dike</button>
                     <button class="key-btn">nake</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="like-ex-4-feedback"></div>
             </div>

             <div class="fill-item" data-correct="nakin">
                 <div class="exercise-row">
                     <span>Ew ji nanê hez</span>
                     <input type="text" class="fill-input" id="like-ex-5" readonly>
                     <span>.</span><span class="verb-hint">(هم لا يحبون الخبز.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">nakin</button>
                     <button class="key-btn">dikin</button>
                     <button class="key-btn">nake</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="like-ex-5-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="wants">
        <h2>5. التعبير عن الإرادة وعدم الإرادة</h2> <p>للتعبير عن الرغبات أو الأمنيات في اللغة الكرمانجية، نستخدم صيغ الفعل <strong>xwestin</strong> (أن يريد).</p> <div class="examples">
            <p><strong>أمثلة - المضارع:</strong></p> <p>Ez <strong>dixwazim</strong> av vexwim. (أنا <strong>أريد</strong> أن أشرب الماء.)</p>
            <p>Tu <strong>dixwazî</strong> biçî mal? (هل <strong>تريد</strong> أن تذهب إلى المنزل؟)</p>
        </div>

        <div class="examples">
            <p><strong>أمثلة - الصيغة المنفية:</strong></p> <p>Ew <strong>naxwaze</strong> goşt bixwe. (هو/هي <strong>لا يريد/تريد</strong> أن يأكل/تأكل اللحم.)</p>
            <p>Em <strong>naxwazin</strong> dereng biçin. (نحن <strong>لا نريد</strong> أن نذهب متأخرين.)</p>
        </div>

        <div class="examples">
            <p><strong>أمثلة - صيغة الماضي:</strong></p> <p><strong>Wê nedixwest</strong> ew bi me re were. (هي <strong>لم تكن تريد</strong> أن تأتي معنا.)</p>
        </div>

        <div class="exercise">
            <h3>تمرين 5: أكمل بـ "يريد" / "لا يريد"</h3> <div class="fill-exercise" style="background-color: #E5F0E3;">
                 <div class="fill-item" data-correct="dixwazim">
                     <div class="exercise-row">
                         <span>Ez av</span>
                         <input type="text" class="fill-input" id="want-1" readonly>
                         <span>.</span><span class="verb-hint">(أنا أريد ماء.)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">dixwazim</button>
                         <button class="key-btn">naxwazim</button>
                         <button class="key-btn">dixwaze</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-1-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="naxwaze">
                     <div class="exercise-row">
                         <span>Ew goşt</span>
                         <input type="text" class="fill-input" id="want-2" readonly>
                         <span>.</span><span class="verb-hint">(هو/هي لا يريد/تريد لحمًا.)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">dixwaze</button>
                         <button class="key-btn">naxwaze</button>
                         <button class="key-btn">naxwazin</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-2-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="dixwazin">
                     <div class="exercise-row">
                         <span>Hûn çi</span>
                         <input type="text" class="fill-input" id="want-3" readonly>
                         <span>?</span><span class="verb-hint">(ماذا تريدون؟)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">dixwazin</button>
                         <button class="key-btn">dixwazî</button>
                         <button class="key-btn">dixwaze</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-3-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="Min dixwest">
                     <div class="exercise-row">
                         <span></span>
                         <input type="text" class="fill-input" id="want-4" readonly>
                         <span>ez biçim malê.</span><span class="verb-hint">(كنت أريد أن أذهب إلى المنزل.)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">Ez dixwazim</button>
                         <button class="key-btn">Min dixwest</button>
                         <button class="key-btn">Ez dixwest</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-4-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="naxwazî">
                     <div class="exercise-row">
                         <span>Tu çima muzîkê</span>
                         <input type="text" class="fill-input" id="want-5" readonly>
                         <span>?</span><span class="verb-hint">(لماذا لا تريد موسيقى؟)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">dixwazî</button>
                         <button class="key-btn">naxwazî</button>
                         <button class="key-btn">nedixwazî</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-5-feedback"></div>
                 </div>

                 <div class="fill-item" data-correct="Wê nedixwest">
                     <div class="exercise-row">
                         <span></span>
                         <input type="text" class="fill-input" id="want-6" readonly>
                         <span>ew bi me re were.</span><span class="verb-hint">(هي لم تكن تريد أن تأتي معنا.)</span> </div>
                     <div class="key-container">
                         <button class="key-btn">Ew naxwaze</button>
                         <button class="key-btn">Wê nedixwest</button>
                         <button class="key-btn">Ew nedixwest</button>
                     </div>
                     <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback" id="want-6-feedback"></div>
                 </div>
             </div>
        </div>
    </div>

    <div class="section" id="food-vocabulary">
        <h2>6. مفردات الطعام</h2> <p>لنتعلم بعض مفردات الطعام الكردية الشائعة:</p> <div class="vocabulary-section">
            <h3>مواد غذائية أساسية</h3> <div class="vocab-grid">
                <div class="vocab-item"> <div class="kurdish-word">nan</div> <div>خبز</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">goşt</div> <div>لحم</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">penêr</div> <div>جبن</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">şîr</div> <div>حليب</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">hêk</div> <div>بيض</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">mast</div> <div>لبن زبادي</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">av</div> <div>ماء</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">çay</div> <div>شاي</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">qehwe</div> <div>قهوة</div> </div>
            </div>
            <div class="exercise">
                 <h4>تمرين 6أ: طابق المواد الغذائية الأساسية</h4> <div class="matching-game" id="food-matching-basic">
                     <div class="match-progress">المطابقات: <span class="matches-count">0</span>/9</div> <div class="matching-container">
                         <div class="matching-column">
                             <div class="matching-item-container kurdish-container">
                                 <div class="matching-item kurdish" data-id="1">nan</div>
                                 <div class="matching-item kurdish" data-id="2">goşt</div>
                                 <div class="matching-item kurdish" data-id="3">penêr</div>
                                 <div class="matching-item kurdish" data-id="4">şîr</div>
                                 <div class="matching-item kurdish" data-id="5">hêk</div>
                                 <div class="matching-item kurdish" data-id="6">mast</div>
                                 <div class="matching-item kurdish" data-id="7">av</div>
                                 <div class="matching-item kurdish" data-id="8">çay</div>
                                 <div class="matching-item kurdish" data-id="9">qehwe</div>
                             </div>
                         </div>
                         <div class="matching-column">
                             <div class="matching-item-container english-container"> <div class="matching-item english" data-id="1">خبز</div>
                                 <div class="matching-item english" data-id="2">لحم</div>
                                 <div class="matching-item english" data-id="3">جبن</div>
                                 <div class="matching-item english" data-id="4">حليب</div>
                                 <div class="matching-item english" data-id="5">بيض</div>
                                 <div class="matching-item english" data-id="6">لبن زبادي</div>
                                 <div class="matching-item english" data-id="7">ماء</div>
                                 <div class="matching-item english" data-id="8">شاي</div>
                                 <div class="matching-item english" data-id="9">قهوة</div>
                             </div>
                         </div>
                     </div>
                     <div class="matching-feedback"></div>
                 </div>
             </div>

            <h3>فواكه وخضروات</h3> <div class="vocab-grid">
                <div class="vocab-item"> <div class="kurdish-word">sêv</div> <div>تفاح</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">zebeş</div> <div>بطيخ</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">tirî</div> <div>عنب</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">xiyar</div> <div>خيار</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">bacanê sor</div> <div>طماطم</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">îsot</div> <div>فلفل</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">kartol</div> <div>بطاطس</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">pîvaz</div> <div>بصل</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">sîr</div> <div>ثوم</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">hinar</div> <div>رمان</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">porteqal</div> <div>برتقال</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">bexdenûs</div> <div>بقدونس</div> </div>
            </div>
             <div class="exercise">
                 <h4>تمرين 6ب: طابق الفواكه والخضروات</h4> <div class="matching-game" id="food-matching-fruits">
                     <div class="match-progress">المطابقات: <span class="matches-count">0</span>/12</div> <div class="matching-container">
                         <div class="matching-column">
                             <div class="matching-item-container kurdish-container">
                                 <div class="matching-item kurdish" data-id="1">sêv</div>
                                 <div class="matching-item kurdish" data-id="2">zebeş</div>
                                 <div class="matching-item kurdish" data-id="3">tirî</div>
                                 <div class="matching-item kurdish" data-id="4">xiyar</div>
                                 <div class="matching-item kurdish" data-id="5">bacanê sor</div>
                                 <div class="matching-item kurdish" data-id="6">îsot</div>
                                 <div class="matching-item kurdish" data-id="7">kartol</div>
                                 <div class="matching-item kurdish" data-id="8">pîvaz</div>
                                 <div class="matching-item kurdish" data-id="9">sîr</div>
                                 <div class="matching-item kurdish" data-id="10">hinar</div>
                                 <div class="matching-item kurdish" data-id="11">porteqal</div>
                                 <div class="matching-item kurdish" data-id="12">bexdenûs</div>
                             </div>
                         </div>
                         <div class="matching-column">
                             <div class="matching-item-container english-container"> <div class="matching-item english" data-id="1">تفاح</div>
                                 <div class="matching-item english" data-id="2">بطيخ</div>
                                 <div class="matching-item english" data-id="3">عنب</div>
                                 <div class="matching-item english" data-id="4">خيار</div>
                                 <div class="matching-item english" data-id="5">طماطم</div>
                                 <div class="matching-item english" data-id="6">فلفل</div>
                                 <div class="matching-item english" data-id="7">بطاطس</div>
                                 <div class="matching-item english" data-id="8">بصل</div>
                                 <div class="matching-item english" data-id="9">ثوم</div>
                                 <div class="matching-item english" data-id="10">رمان</div>
                                 <div class="matching-item english" data-id="11">برتقال</div>
                                 <div class="matching-item english" data-id="12">بقدونس</div>
                             </div>
                         </div>
                     </div>
                     <div class="matching-feedback"></div>
                 </div>
             </div>


            <h3>أطباق كردية تقليدية</h3> <div class="vocab-grid">
                <div class="vocab-item"> <div class="kurdish-word">dolme</div> <div>محشي</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">birinc</div> <div>أرز</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">kutilk</div> <div>كبة</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">şorbe</div> <div>شوربة</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">xwarinên tûj</div> <div>طعام حار</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">kebab</div> <div>كباب</div> </div>
            </div>
            <div class="exercise">
                 <h4>تمرين 6ج: طابق الأطباق التقليدية</h4> <div class="matching-game" id="food-matching-dishes">
                     <div class="match-progress">المطابقات: <span class="matches-count">0</span>/6</div> <div class="matching-container">
                         <div class="matching-column">
                             <div class="matching-item-container kurdish-container">
                                 <div class="matching-item kurdish" data-id="1">dolme</div>
                                 <div class="matching-item kurdish" data-id="2">birinc</div>
                                 <div class="matching-item kurdish" data-id="3">kutilk</div>
                                 <div class="matching-item kurdish" data-id="4">şorbe</div>
                                 <div class="matching-item kurdish" data-id="5">xwarinên tûj</div>
                                 <div class="matching-item kurdish" data-id="6">kebab</div>
                             </div>
                         </div>
                         <div class="matching-column">
                             <div class="matching-item-container english-container"> <div class="matching-item english" data-id="1">محشي</div>
                                 <div class="matching-item english" data-id="2">أرز</div>
                                 <div class="matching-item english" data-id="3">كبة</div>
                                 <div class="matching-item english" data-id="4">شوربة</div>
                                 <div class="matching-item english" data-id="5">طعام حار</div>
                                 <div class="matching-item english" data-id="6">كباب</div>
                             </div>
                         </div>
                     </div>
                     <div class="matching-feedback"></div>
                 </div>
             </div>

            <h3>أفعال مفيدة متعلقة بالطعام</h3> <div class="vocab-grid">
                <div class="vocab-item"> <div class="kurdish-word">xwarin</div> <div>أكل</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">vexwarin</div> <div>شرب</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">çêkirin</div> <div>صنع، حضّر</div> </div>
            </div>
             <div class="exercise">
                 <h4>تمرين 6د: طابق أفعال الطعام</h4> <div class="matching-game" id="food-matching-verbs">
                     <div class="match-progress">المطابقات: <span class="matches-count">0</span>/3</div> <div class="matching-container">
                         <div class="matching-column">
                             <div class="matching-item-container kurdish-container">
                                 <div class="matching-item kurdish" data-id="1">xwarin</div>
                                 <div class="matching-item kurdish" data-id="2">vexwarin</div>
                                 <div class="matching-item kurdish" data-id="3">çêkirin</div>
                             </div>
                         </div>
                         <div class="matching-column">
                             <div class="matching-item-container english-container"> <div class="matching-item english" data-id="1">أكل</div>
                                 <div class="matching-item english" data-id="2">شرب</div>
                                 <div class="matching-item english" data-id="3">صنع، حضّر</div>
                             </div>
                         </div>
                     </div>
                     <div class="matching-feedback"></div>
                 </div>
             </div>
        </div> <div class="fill-exercise">
             <h3>تمرين 7: املأ الفراغ بكلمة الطعام الصحيحة</h3> <div class="fill-item" data-correct="nan">
                 <div class="exercise-row">
                     <span>Min</span>
                     <input type="text" class="fill-input" readonly>
                     <span>dixwest.</span><span class="verb-hint">(كنت أريد خبزًا.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">nan</button>
                     <button class="key-btn">sêv</button>
                     <button class="key-btn">av</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="goşt">
                 <div class="exercise-row">
                     <span>Ew ji</span>
                     <input type="text" class="fill-input" readonly>
                     <span>hez dike.</span><span class="verb-hint">(هو/هي يحب/تحب اللحم.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">goşt</button>
                     <button class="key-btn">çay</button>
                     <button class="key-btn">hêk</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="sêv">
                 <div class="exercise-row">
                     <span>Min duh</span>
                     <input type="text" class="fill-input" readonly>
                     <span>xwar.</span><span class="verb-hint">(أكلت تفاحة أمس.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">sêv</button>
                     <button class="key-btn">tirî</button>
                     <button class="key-btn">penêr</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="av">
                 <div class="exercise-row">
                     <span>Ez dixwazim</span>
                     <input type="text" class="fill-input" readonly>
                     <span>vexwim.</span><span class="verb-hint">(أريد أن أشرب ماء.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">av</button>
                     <button class="key-btn">çay</button>
                     <button class="key-btn">şîr</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="birinc">
                 <div class="exercise-row">
                     <span>Em</span>
                     <input type="text" class="fill-input" readonly>
                     <span>çêdikin.</span><span class="verb-hint">(نحن نحضر الأرز.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">birinc</button>
                     <button class="key-btn">kartol</button>
                     <button class="key-btn">kebab</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="tirî">
                 <div class="exercise-row">
                     <span>Te</span>
                     <input type="text" class="fill-input" readonly>
                     <span>kirî?</span><span class="verb-hint">(هل اشتريت عنبًا؟)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">tirî</button>
                     <button class="key-btn">zebeş</button>
                     <button class="key-btn">hinar</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>

             <div class="fill-item" data-correct="pîvaz">
                 <div class="exercise-row">
                     <span>Wê</span>
                     <input type="text" class="fill-input" readonly>
                     <span>dibirî.</span><span class="verb-hint">(كانت تقطع البصل.)</span> </div>
                 <div class="key-container">
                     <button class="key-btn">pîvaz</button>
                     <button class="key-btn">sîr</button>
                     <button class="key-btn">xiyar</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button> <div class="fill-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="word-order-game">
        <h2>7. لعبة ترتيب الكلمات</h2> <p>ضع الكلمات بالترتيب الصحيح لتكوين جمل حول تفضيلات الطعام والأنشطة الماضية.</p> <div class="word-order-game">
            <div id="sentences-container"></div>
        </div>
    </div>

    <div class="section" id="dialogue">
        <h2>8. حوار</h2> <p>اقرأ هذا الحوار حول تفضيلات الطعام:</p> <div class="dialogue-box">
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Sêv baş xuya dikin.<button class="trans-btn" onclick="toggleTranslation('trans1')">أظهر الترجمة</button><div id="trans1" class="translation">التفاح يبدو جيدًا.</div></div>
            <div class="dialogue-line"><span class="speaker">Rodî:</span> Ez dixwazim sê kîloyan bikîrim.<button class="trans-btn" onclick="toggleTranslation('trans2')">أظهر الترجمة</button><div id="trans2" class="translation">أريد أن أشتري ثلاثة كيلوغرامات.</div></div>
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Baş e, bikire! Ez jî du kîloyan dikîrim.<button class="trans-btn" onclick="toggleTranslation('trans3')">أظهر الترجمة</button><div id="trans3" class="translation">جيد، اشترها! أنا أيضًا أشتري كيلوغرامين.</div></div>
            <div class="dialogue-line"><span class="speaker">Rodî:</span> Tiriyê reş çawan e?<button class="trans-btn" onclick="toggleTranslation('trans4')">أظهر الترجمة</button><div id="trans4" class="translation">كيف هو العنب الأسود؟</div></div>
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Ew jî ne xirab e.<button class="trans-btn" onclick="toggleTranslation('trans5')">أظهر الترجمة</button><div id="trans5" class="translation">هو أيضًا ليس سيئًا.</div></div>
            <div class="dialogue-line"><span class="speaker">Rodî:</span> Ez ku tirî, tu ku fêkî jî res dikîrim.<button class="trans-btn" onclick="toggleTranslation('trans6')">أظهر الترجمة</button><div id="trans6" class="translation">بينما أشتري العنب، أنت أيضًا تشتري الفاكهة.</div></div>
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Baş e, ji dwazxim kîloyek hinar bikîrim.<button class="trans-btn" onclick="toggleTranslation('trans7')">أظهر الترجمة</button><div id="trans7" class="translation">حسنًا، أريد أن أشتري كيلوغرامًا من الرمان.</div></div>
            <div class="dialogue-line"><span class="speaker">Rodî:</span> Kîloyek hinar? Baqek bexdenûs jî pêwîst in.<button class="trans-btn" onclick="toggleTranslation('trans8')">أظهر الترجمة</button><div id="trans8" class="translation">كيلوغرام من الرمان؟ حزمة بقدونس ضرورية أيضًا.</div></div>
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Pêwîstiya min bi baqek pîvazan ter heye.<button class="trans-btn" onclick="toggleTranslation('trans9')">أظهر الترجمة</button><div id="trans9" class="translation">أحتاج إلى حزمة بصل أخضر.</div></div>
            <div class="dialogue-line"><span class="speaker">Rodî:</span> Çima tu ev qas zêde sebzê û fêkiyan dikirî?<button class="trans-btn" onclick="toggleTranslation('trans10')">أظهر الترجمة</button><div id="trans10" class="translation">لماذا تشتري كل هذه الخضروات والفواكه؟</div></div>
            <div class="dialogue-line"><span class="speaker">Şêrtac:</span> Mêvanên me hene.<button class="trans-btn" onclick="toggleTranslation('trans11')">أظهر الترجمة</button><div id="trans11" class="translation">لدينا ضيوف.</div></div>
        </div>
    </div>
    <div class="section">
        <div class="completion-banner">
            <div class="celebration">🌟 🌟 🌟</div>
            <h2>Pîroz be! Te Waneya 7 qedand!</h2> <p>تهانينا! لقد أكملت الدرس 7!</p> <div class="celebration">🌟 🌟 🌟</div>
        </div>
    </div>

    <div class="nav-buttons-container">
        <a href="../kl_lessons_ar.html" class="nav-button">العودة إلى جميع الدروس</a>
    </div>

    <script>
        // --- Utility Functions (Unchanged) ---
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            return a.every((val, index) => val === b[index]);
        }

        // --- Dialogue Translation Toggle ---
        // Logic remains the same, button text translated
        function toggleTranslation(id) {
            const translation = document.getElementById(id);
            const button = translation.previousElementSibling;
            if (translation && button) {
                if (translation.style.display === 'block') {
                    translation.style.display = 'none';
                    button.textContent = 'أظهر الترجمة'; // Translated button text
                } else {
                    translation.style.display = 'block';
                    button.textContent = 'أخفِ الترجمة'; // Translated button text
                }
            }
        }

        // --- Matching Game Logic ---
        // Logic remains unchanged, feedback strings translated
        function initializeMatchingGame(gameId, totalPairs) {
            const gameElement = document.getElementById(gameId);
            if (!gameElement) { console.error(`Matching game element not found: ${gameId}`); return; }
            const kurdishContainer = gameElement.querySelector('.matching-item-container.kurdish-container');
            const englishContainer = gameElement.querySelector('.matching-item-container.english-container'); // Keep class name for JS
            const feedbackElement = gameElement.querySelector('.matching-feedback');
            const matchesCountElement = gameElement.querySelector('.matches-count');

            if (!kurdishContainer || !englishContainer || !feedbackElement || !matchesCountElement) {
                console.error(`Missing elements within matching game: ${gameId}`); return;
            }

            let selected = { kurdish: null, english: null };
            let matchCount = 0;
            matchesCountElement.textContent = matchCount;

            // Shuffle items
            const kurdishItems = Array.from(kurdishContainer.children);
            shuffleArray(kurdishItems).forEach(item => kurdishContainer.appendChild(item));
            const englishItems = Array.from(englishContainer.children);
            shuffleArray(englishItems).forEach(item => englishContainer.appendChild(item));

            const items = gameElement.querySelectorAll('.matching-item');

            items.forEach(item => {
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);

                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isKurdish = this.classList.contains('kurdish');
                    const side = isKurdish ? 'kurdish' : 'english';
                    if (selected[side]) { selected[side].classList.remove('selected'); }
                    this.classList.add('selected');
                    selected[side] = this;
                    feedbackElement.textContent = '';
                    feedbackElement.className = 'matching-feedback';

                    if (selected.kurdish && selected.english) {
                        if (selected.kurdish.dataset.id === selected.english.dataset.id) {
                            selected.kurdish.classList.remove('selected');
                            selected.english.classList.remove('selected');
                            selected.kurdish.classList.add('matched');
                            selected.english.classList.add('matched');
                            matchCount++;
                            matchesCountElement.textContent = matchCount;
                            feedbackElement.textContent = '✓ صحيح!'; // Translated feedback
                            feedbackElement.classList.add('correct');
                            if (matchCount === totalPairs) { feedbackElement.textContent = ' أحسنت! تمت مطابقة الكل!'; } // Translated feedback
                            selected = { kurdish: null, english: null };
                        } else {
                            feedbackElement.textContent = '✗ خطأ. حاول مرة أخرى!'; // Translated feedback
                            feedbackElement.classList.add('incorrect');
                            const selK = selected.kurdish; const selE = selected.english;
                            setTimeout(() => {
                                if(selK) selK.classList.remove('selected');
                                if(selE) selE.classList.remove('selected');
                            }, 800);
                            selected = { kurdish: null, english: null };
                        }
                    }
                });
                 newItem.addEventListener('touchstart', function() { this.style.opacity = '0.7'; }, {passive: true});
                 newItem.addEventListener('touchend', function() { this.style.opacity = '1'; });
            });
        }


        // --- Fill-in Exercise Logic ---
        // Logic remains unchanged, feedback string translated
        function initializeFillInKeys() {
            document.querySelectorAll('.fill-exercise .key-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const fillItem = this.closest('.fill-item');
                    if (!fillItem) return;
                    const input = fillItem.querySelector('.fill-input');
                    if (input) {
                        input.value = this.textContent;
                        const feedback = fillItem.querySelector('.fill-feedback');
                        if(feedback) {
                            feedback.textContent = '';
                            feedback.className = 'fill-feedback';
                        }
                        input.style.borderColor = "var(--kurdish-yellow)";
                        input.style.backgroundColor = "#f8f8f8";
                    }
                });
            });

            document.querySelectorAll('.fill-exercise .key-container').forEach(container => {
                const keys = Array.from(container.children);
                shuffleArray(keys).forEach(key => container.appendChild(key));
            });
        }

        function checkFillAnswer(buttonElement) {
            const item = buttonElement.closest('.fill-item');
            if (!item) return;
            const input = item.querySelector('.fill-input');
            const feedback = item.querySelector('.fill-feedback');
            const correctAnswer = item.dataset.correct;
            const userAnswer = input ? input.value : null;

            if (!input || !feedback) {
                console.error(`Input or feedback element not found for item.`);
                return;
            }

            const trimmedUserAnswer = userAnswer ? userAnswer.trim() : '';
            const trimmedCorrectAnswer = correctAnswer ? correctAnswer.trim() : '';

            if (trimmedUserAnswer && trimmedUserAnswer === trimmedCorrectAnswer) {
                feedback.textContent = "✓ صحيح!"; // Translated feedback
                feedback.className = "fill-feedback correct";
                input.style.borderColor = "var(--kurdish-green)";
                input.style.backgroundColor = "#e5f0e3";
            } else if (trimmedUserAnswer) {
                // Need to handle potential RTL issues with feedback string concatenation
                feedback.innerHTML = `✗ خطأ. الصحيح هو: <span class="correct-answer-display" dir="ltr">${correctAnswer}</span>`; // Added dir="ltr" for Kurmanji answer
                feedback.className = "fill-feedback incorrect";
                input.style.borderColor = "var(--kurdish-red)";
                input.style.backgroundColor = "#fff0f0";
            } else {
                feedback.textContent = "الرجاء اختيار إجابة بالضغط على زر."; // Translated feedback
                feedback.className = "fill-feedback";
                input.style.borderColor = "var(--kurdish-yellow)";
                input.style.backgroundColor = "#f8f8f8";
            }
        }


        // --- Word Order Game Logic ---
        // Logic remains unchanged, only German sentence translations and feedback strings are translated to Arabic
        function initializeWordOrderGame() {
            const sentencesData = [
                // German translations changed to Arabic
                { kurdish: "Ez ji sêvan hez dikim.", english: "أنا أحب التفاح.", modalVerbs: ["Ez", "hez dikim"] },
                { kurdish: "Min sêv xwarin.", english: "أنا أكلت تفاحًا. (متعدٍ - ماضي بسيط)", modalVerbs: ["Min", "xwarin"] },
                { kurdish: "Ez dixwazim çayê vexwim.", english: "أريد أن أشرب الشاي.", modalVerbs: ["Ez", "dixwazim", "vexwim"] },
                { kurdish: "Min xwarina xwe dixwar.", english: "كنت آكل طعامي. (متعدٍ - ماضي مستمر)", modalVerbs: ["Min", "dixwar"] },
                { kurdish: "Tu ji goştê hez dikî?", english: "هل تحب اللحم؟", modalVerbs: ["Tu", "hez dikî"] },
                { kurdish: "Ew xwe amade dikir.", english: "كان يجهز/كانت تجهز نفسه/نفسها.", modalVerbs: ["Ew", "xwe", "dikir"] },
                { kurdish: "Min dixwest birinc bixwim.", english: "كنت أريد أن آكل الأرز.", modalVerbs: ["Min", "dixwest", "bixwim"] },
                { kurdish: "Ez diçûm bazarê dema ku te min dît.", english: "كنت أذهب إلى السوق عندما رأيتني.", modalVerbs: ["Ez", "diçûm", "te", "dît"] }
            ];

            const sentences = sentencesData.map(item => ({
                original: item.kurdish,
                english: item.english, // Now contains Arabic translation
                modalVerbs: item.modalVerbs || [],
                words: item.kurdish.replace(/[.?]/g, '').split(/\s+/).filter(word => word.length > 0)
            }));

            const gameContainer = document.getElementById('sentences-container');
            if (!gameContainer) { console.error("Word order game container 'sentences-container' not found."); return; }
            gameContainer.innerHTML = '';

            sentences.forEach((sentence, index) => {
                const sentenceElement = document.createElement('div');
                sentenceElement.className = 'game-sentence';
                sentenceElement.id = `sentence-${index}`;

                const translation = document.createElement('div');
                translation.className = 'game-sentence-translation';
                translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`; // Displays Arabic translation
                sentenceElement.appendChild(translation);

                const solutionArea = document.createElement('div');
                solutionArea.className = 'solution-area';
                solutionArea.id = `solution-area-${index}`;
                sentenceElement.appendChild(solutionArea);

                const wordsBank = document.createElement('div');
                wordsBank.className = 'words-bank';
                wordsBank.id = `words-bank-${index}`;
                sentenceElement.appendChild(wordsBank);

                const shuffledWords = shuffleArray(sentence.words);
                shuffledWords.forEach(word => {
                    const wordElement = document.createElement('div');
                    wordElement.className = 'word-box';
                    wordElement.textContent = word;
                    wordElement.setAttribute('dir', 'ltr'); // Ensure Kurmanji words render LTR
                    if (sentence.modalVerbs.includes(word)) {
                        wordElement.classList.add('modal');
                    }
                    wordElement.addEventListener('click', () => {
                        const parent = wordElement.parentElement;
                        const targetBank = parent.classList.contains('words-bank') ? solutionArea : wordsBank;
                        targetBank.appendChild(wordElement);
                        const feedbackElement = document.getElementById(`feedback-${index}`);
                        if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                    });
                    wordsBank.appendChild(wordElement);
                });

                const feedback = document.createElement('div');
                feedback.className = 'game-feedback';
                feedback.id = `feedback-${index}`;
                sentenceElement.appendChild(feedback);

                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'sentence-buttons';

                const checkButton = document.createElement('button');
                checkButton.className = 'check-btn';
                checkButton.textContent = 'تحقق من الإجابة'; // Translated button text
                checkButton.onclick = () => checkSentence(index, sentences);
                buttonContainer.appendChild(checkButton);

                const showAnswerButton = document.createElement('button');
                showAnswerButton.className = 'show-answer-btn';
                showAnswerButton.textContent = 'أظهر الإجابة'; // Translated button text
                showAnswerButton.onclick = () => showAnswer(index, sentences);
                buttonContainer.appendChild(showAnswerButton);

                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'مسح الحقل'; // Translated button text
                deleteBtn.onclick = () => {
                    const currentSolutionArea = document.getElementById(`solution-area-${index}`);
                    const currentWordsBank = document.getElementById(`words-bank-${index}`);
                    while (currentSolutionArea.firstChild) { currentWordsBank.appendChild(currentSolutionArea.firstChild); }
                     const feedbackElement = document.getElementById(`feedback-${index}`);
                     if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                };
                buttonContainer.appendChild(deleteBtn);

                sentenceElement.appendChild(buttonContainer);
                gameContainer.appendChild(sentenceElement);

                 if (index > 0) { sentenceElement.style.display = 'none'; }
            });
        }
        function checkSentence(sentenceId, sentences) {
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
            if (!solutionArea || !feedbackElement || !sentenceElement) return;

            const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
            const correctWords = sentences[sentenceId].words;

            if (currentWords.length !== correctWords.length) {
                feedbackElement.textContent = '✗ الرجاء استخدام كل الكلمات.'; // Translated feedback
                feedbackElement.className = 'game-feedback feedback-incorrect'; return;
            }

            const isCorrect = arraysEqual(currentWords, correctWords);

            if (isCorrect) {
                feedbackElement.textContent = '✓ صحيح! أحسنت!'; // Translated feedback
                feedbackElement.className = 'game-feedback feedback-correct';
                sentenceElement.classList.add('completed');
                if (sentenceId < sentences.length - 1) {
                    setTimeout(() => {
                        const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                        if (nextSentence) {
                            nextSentence.style.display = 'flex';
                            nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }, 800);
                } else {
                    feedbackElement.textContent = '✓ لقد أكملت لعبة ترتيب الكلمات!'; // Translated feedback
                }
            } else {
                feedbackElement.textContent = '✗ ليس صحيحًا تمامًا. حاول مرة أخرى!'; // Translated feedback
                feedbackElement.className = 'game-feedback feedback-incorrect';
            }
        }
        function showAnswer(sentenceId, sentences) {
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
             if (!solutionArea || !wordsBank || !feedbackElement || !sentenceElement) return;

            solutionArea.innerHTML = ''; wordsBank.innerHTML = '';

            sentences[sentenceId].words.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-box'; wordElement.textContent = word;
                wordElement.setAttribute('dir', 'ltr'); // Ensure Kurmanji words render LTR
                 if (sentences[sentenceId].modalVerbs.includes(word)) {
                     wordElement.classList.add('modal');
                 }
                wordElement.style.cursor = 'default';
                solutionArea.appendChild(wordElement);
            });

            feedbackElement.textContent = 'هذا هو الترتيب الصحيح.'; // Translated feedback
            feedbackElement.className = 'game-feedback';
            sentenceElement.classList.add('completed');

             if (sentenceId < sentences.length - 1) {
                 setTimeout(() => {
                     const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                     if (nextSentence) {
                         nextSentence.style.display = 'flex';
                         nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                     }
                 }, 800);
             }
        }

        // --- Initialization on DOM Load ---
        document.addEventListener('DOMContentLoaded', function() {
            initializeFillInKeys();

            // Initialize the four separate matching games
            initializeMatchingGame('food-matching-basic', 9);
            initializeMatchingGame('food-matching-fruits', 12);
            initializeMatchingGame('food-matching-dishes', 6);
            initializeMatchingGame('food-matching-verbs', 3);


            initializeWordOrderGame();
        });

    </script>

</body>
</html>
