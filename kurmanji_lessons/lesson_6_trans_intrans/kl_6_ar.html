<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>الدرس 6: الأفعال المتعدية واللازمة</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --kurdish-red: #9E2A2B;
            --kurdish-yellow: #F5CB5C;
            --background-cream: #FFF7E0;
            --text-color: #333333;
            --kurdish-green: #4F7942;
            --light-green: #E5F0E3;
        }

        body {
            font-family: 'Nunito', Arial, sans-serif;
            line-height: 1.7;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
            background-color: var(--background-cream);
            /* --- RESTORED BACKGROUND IMAGE --- */
            background-image: url('../kurmanji_background.png');
            background-repeat: repeat;
            background-size: 200px 200px;
            box-sizing: border-box;
            color: var(--text-color);
            text-align: right;
        }

        * {
            box-sizing: border-box;
        }

        .title-section {
            background-color: #005E30; /* Darker green for title */
            color: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 12px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .title-section h1 {
            color: white;
            margin: 0;
            text-align: right;
        }

        .title-section hr {
            background-color: var(--kurdish-yellow);
            height: 4px;
            margin-top: 15px;
            margin-bottom: 0;
            border: none;
        }

        h1, h2 {
            color: var(--kurdish-red);
            font-weight: 700;
            line-height: 1.3;
        }

        h1 {
            text-align: right;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        h2 {
            font-size: 1.5rem;
            margin-top: 30px;
            color: var(--kurdish-red);
        }

        h3 {
            color: var(--kurdish-red); /* Keep h3 red */
            font-weight: 700;
            line-height: 1.3;
            font-size: 1.2rem; /* Slightly larger h3 */
            margin-top: 25px;
        }

        hr {
            border: none;
            height: 3px;
            background-color: var(--kurdish-yellow);
            margin-bottom: 25px;
        }

        .section {
            background-color: rgba(255, 255, 255, 0.9); /* Changed to half-transparent white */
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: right;
            border: none;
        }

        th {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: var(--background-cream);
        }
         tr:nth-child(odd) {
            background-color: #FEFDFB; /* Lighter cream for odd rows */
        }

        tr:hover {
            background-color: #FFEEB4; /* Keep hover effect */
        }

        .note {
            background-color: #FFF2C2; /* Light yellow for notes */
            padding: 15px;
            border-right: 4px solid var(--kurdish-yellow);
            margin: 20px 0;
            border-radius: 8px 0 0 8px;
        }

        .highlight {
            font-weight: 700;
            color: var(--kurdish-red);
        }

        .examples {
            background-color: var(--background-cream);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .examples p:not(:first-of-type) {
            margin: 10px 0;
            padding: 10px;
            border-radius: 6px;
        }

        /* Alternating background colors for example sentences */
        .examples p:nth-of-type(even) {
            background-color: #FFF2C2;
        }

        .examples p:nth-of-type(odd):not(:first-of-type) {
            background-color: #FBEAA6;
        }

        .exercise { /* General container for any exercise block */
            background-color: #E5F0E3; /* Light green for exercise sections */
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .check-btn { /* General check button style */
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-family: inherit;
            font-weight: 600;
            margin-top: 10px; /* Added margin for spacing */
        }

        .check-btn:hover {
            background-color: #DBA53A; /* Darker yellow on hover */
        }

        .feedback { /* General feedback style */
            margin-top: 8px;
            margin-right: 5px;
            font-weight: bold;
            min-height: 1.5em; /* Reserve space */
        }

        .correct {
            color: #4F7942; /* Green for correct */
        }

        .incorrect {
            color: var(--kurdish-red); /* Red for incorrect */
        }
         .correct-answer-display { /* Style for showing the correct answer in feedback */
             display: inline-block;
             margin-right: 5px;
             font-weight: normal;
             font-style: italic;
             color: #555; /* Greyish color */
        }


        /* Matching Game Styles */
        .matching-game {
            background-color: #FFF7E0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .matching-container {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
        }
        .matching-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
         /* REMOVED matching-column h4 style */
         .matching-item-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
         }
        .matching-item {
            padding: 12px 15px;
            background-color: white;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            font-weight: 500;
        }
        .matching-item:hover { background-color: #FFF2C2; }
        .matching-item.selected {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border-color: #DBA53A;
        }
        .matching-item.matched {
            background-color: #4F7942;
            color: white;
            border-color: #3B5A31;
            cursor: default;
            opacity: 0.7;
        }
        .matching-result { text-align: center; margin-top: 15px; }
        .matching-feedback {
            font-weight: bold;
            margin-bottom: 12px;
            min-height: 1.5em;
        }
        .matching-feedback.correct { color: var(--kurdish-green); }
        .matching-feedback.incorrect { color: var(--kurdish-red); }
        .match-progress {
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--text-color);
        }
         .match-progress .matches-count { font-weight: 700; }


        /* Fill-in Exercise (Subjunctive - Style EXACTLY like Ukrainian Ex 3) */
        .fill-exercise { /* Container for the whole fill-in exercise section */
             background-color: var(--light-green); /* Match general exercise background */
             padding: 20px;
             border-radius: 8px;
             margin: 25px 0;
        }
        .fill-item { /* Container for each question/input pair */
            background-color: white; /* White background for each item */
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .exercise-row { /* Row containing sentence parts and input */
            display: flex;
            align-items: baseline; /* Align text and input nicely */
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            color: var(--text-color);
            font-weight: 500;
            line-height: 1.8; /* Improve spacing with input */
        }
        .fill-input { /* Input field style */
            width: 150px; /* Adjust width as needed */
            padding: 8px 12px;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 6px;
            font-size: 16px;
            font-family: inherit;
            margin: 0 5px; /* Add some horizontal margin */
            background-color: #f8f8f8; /* Slightly greyed out for readonly */
            text-align: center; /* Center text in input */
        }
        .fill-input:focus { outline: none; } /* Remove focus outline for readonly */
        .verb-hint { /* Style for the hint like (çûn - to go) */
             font-size: 0.9em;
             color: #555;
             margin-right: 5px;
         }
        .key-container { /* Container for clickable key buttons */
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 12px;
            margin-top: 8px; /* Add space above keys */
        }
        .key-btn { /* Style for individual key buttons */
            padding: 5px 12px;
            background-color: var(--background-cream);
            border: 1px solid var(--kurdish-yellow);
            border-radius: 6px;
            cursor: pointer;
            color: var(--text-color);
            font-size: 0.9em;
            font-family: inherit;
            text-align: center;
        }
        .key-btn:hover { background-color: var(--kurdish-yellow); }
        .fill-check { /* Check button specific to fill-in exercises */
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: background-color 0.2s ease;
            display: block; /* Make button block level */
            margin-top: 10px; /* Add margin */
        }
        .fill-check:hover { background-color: #DBA53A; }
        .fill-feedback { /* Feedback specific to fill-in exercises */
            margin-top: 10px;
            font-weight: bold;
            min-height: 1.5em; /* Reserve space */
        }
        .fill-feedback.correct { color: var(--kurdish-green); }
        .fill-feedback.incorrect { color: var(--kurdish-red); }


        /* Dialogue box styles */
        .dialogue-box {
            background-color: #f5f5f5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .dialogue-line { margin-bottom: 10px; }
        .speaker { font-weight: bold; color: var(--kurdish-red); margin-left: 10px; }

        /* Activity card styles */
        .activities-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0; }
        .activity-card { background-color: var(--light-green); border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; }
        .activity-phrase { font-weight: bold; margin-bottom: 5px; color: #4F7942; }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: center; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--kurdish-red); color: white; border: none; border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: #7e2223; }

        /* Vocabulary section styles */
        .vocabulary-section { background-color: var(--background-cream); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .vocab-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0; }
        .vocab-item { background-color: white; border-radius: 8px; padding: 12px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .kurdish-word { font-weight: bold; color: var(--kurdish-red); margin-bottom: 5px; }

        /* Word Order Game Styles */
         .word-order-game { background-color: var(--background-cream); padding: 15px; border-radius: 8px; margin: 20px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
         .game-sentence { background-color: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
         .game-sentence.completed { background-color: var(--light-green); border-right: 4px solid var(--kurdish-green); }
         .game-sentence-translation { font-weight: 600; margin-bottom: 15px; color: var(--text-color); }
         .sentence-number { display: inline-block; min-width: 45px; font-weight: 700; color: var(--kurdish-red); }
         .solution-area { min-height: 60px; padding: 10px; background-color: #f1f8e9; border-radius: 8px; display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; border: 2px dashed var(--kurdish-green); }
         .words-bank { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; background-color: #FFF7E0; border-radius: 6px; margin-bottom: 10px; }
         .word-box { display: inline-block; padding: 8px 12px; background-color: var(--kurdish-yellow); color: var(--text-color); border-radius: 5px; cursor: pointer; user-select: none; margin: 0; font-weight: 500; border: 2px solid transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease; }
         .solution-area .word-box { background-color: #beddb0; border-color: var(--kurdish-green); }
         .word-box:active { transform: scale(0.95); }
         .word-box.modal { background-color: var(--kurdish-red); color: white; }
         .solution-area .word-box.modal { background-color: #c35758; color: white; }
         .game-feedback { margin-top: 10px; font-weight: 600; min-height: 1.5em; }
         .feedback-correct { color: var(--kurdish-green); }
         .feedback-incorrect { color: var(--kurdish-red); }
         .sentence-buttons { display: flex; gap: 10px; margin-top: 10px; }
         .word-order-game .check-btn,
         .word-order-game .show-answer-btn,
         .word-order-game .delete-btn { flex: 1; padding: 8px 15px; margin-top: 0; }
         .word-order-game .show-answer-btn { background-color: #E5F0E3; }
         .word-order-game .show-answer-btn:hover { background-color: #D5E0D3; }
         .word-order-game .delete-btn { background-color: #ef9a9a; color: var(--text-color); }
         .word-order-game .delete-btn:hover { background-color: #ef5350; color: white; }

        /* Translation button */
        .trans-btn { background-color: var(--kurdish-yellow); border: none; border-radius: 4px; padding: 3px 8px; margin-right: 10px; font-size: 0.8em; cursor: pointer; transition: background-color 0.2s; }
        .trans-btn:hover { background-color: #EAB72C; }
        .translation { display: none; font-style: italic; color: #666; margin-top: 5px; padding-right: 60px; }

        /* Completion Banner */
         .completion-banner { background-color: var(--kurdish-green); padding: 25px; border-radius: 12px; text-align: center; margin: 30px 0; color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
         .completion-banner h2 { color: white; font-size: 1.7rem; margin-top: 0; }
         .celebration { font-size: 2.5rem; margin: 10px 0; }

        /* Media Queries */
        @media (max-width: 600px) {
            .section, .title-section, .exercise, .fill-exercise, .matching-game, .word-order-game { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            body { padding: 10px; }
            .check-btn { margin-top: 10px; width: 100%; max-width: 300px; padding: 12px; }
            .feedback { display: block; margin-top: 8px; }
            .matching-container { flex-direction: column; gap: 15px; }
            .matching-item { font-size: 1em; padding: 10px 12px; }
            /* Fill-in exercise mobile */
            .exercise-row { flex-direction: column; align-items: flex-start; gap: 5px;}
            .fill-input { width: 100%; max-width: none; margin: 5px 0; }
            .key-container { justify-content: flex-start; }
            .fill-check { width: auto; margin-top: 10px; }
            .activities-grid, .vocab-grid { grid-template-columns: 1fr; }
            .nav-buttons-container { flex-direction: column; gap: 15px; }
            .nav-button { width: 100%; margin: 0; font-size: 1rem; }
            /* Word order game mobile */
             .sentence-buttons { flex-direction: column; }
             .word-order-game .check-btn,
             .word-order-game .show-answer-btn,
             .word-order-game .delete-btn { width: 100%; }
             .translation { padding-right: 10px; }
        }
        @media (max-width: 450px) {
            .matching-item { padding: 10px 8px; font-size: 0.9em; }
            .matching-column { gap: 8px; }
            .matching-container { gap: 8px; }
            .key-btn { font-size: 0.8em; padding: 4px 8px;}
            .nav-button { padding: 12px 15px; }
            .word-box { padding: 6px 10px; font-size: 0.9em;}
        }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>الدرس 6: <br>الأفعال المتعدية واللازمة</h1>
        <hr>
    </div>

    <div class="section">
        <h3>أهداف الدرس</h3>
        <ul>
             <li><a href="#prepositions-review" style="color: inherit; text-decoration: none;">مراجعة: صيغة الفعل المضارع المنصوب</a></li>
             <li><a href="#oblique-pronouns" style="color: inherit; text-decoration: none;">الضمائر المنصوبة</a></li>
             
             <li><a href="#modal-verbs" style="color: inherit; text-decoration: none;">الأفعال المتعدية واللازمة</a></li>
             <li><a href="#subjunctive" style="color: inherit; text-decoration: none;">زمن الماضي البسيط</a></li>
             
             <li><a href="#word-order-game" style="color: inherit; text-decoration: none;">ترتيب الكلمات</a></li>
             <li><a href="#dialogue" style="color: inherit; text-decoration: none;">حوار</a></li>
        </ul>
    </div>

    <div class="section" id="prepositions-review">
        <h2>1. مراجعة: صيغة الفعل المضارع المنصوب</h2>
        <p>دعونا نراجع صيغة الفعل المضارع المنصوب التي تعلمناها في الدرس السابق:</p>
        <p><b>تُستخدم صيغة المضارع المنصوب بعد الأفعال المساعدة</b> للتعبير عن الفعل الرئيسي. في اللغة الكردية الكرمانجية، يتم تشكيل المضارع المنصوب من خلال:</p>
        <ol><li>استبدال السابقة <strong>di-</strong> بالسابقة <strong>bi-</strong> (عادةً)</li><li>إضافة نفس مجموعة النهايات الشخصية كما في زمن المضارع</li></ol>
        
        <table>
            <tr><th>الفعل المساعد + المضارع المنصوب</th><th>الترجمة بالعربية</th></tr>
            <tr><td><strong>Ez dikarim</strong> Kurdî <strong>biaxivim</strong>.</td><td><strong>أستطيع أن أتحدث</strong> اللغة الكردية.</td></tr>
            <tr><td><strong>Ew divê</strong> sibê <strong>bê</strong>.</td><td>يجب عليه/عليها <strong>أن يأتي/تأتي</strong> غداً.</td></tr>
            <tr><td><strong>Em dixwazin</strong> <strong>biçin</strong> mal.</td><td><strong>نريد أن نذهب</strong> إلى المنزل.</td></tr>
            <tr><td>Ez dixwazim deriyî <strong>vekim</strong>.</td><td>أريد أن <strong>أفتح</strong> الباب.</td></tr>
            <tr><td>Em dixwazin <strong>derkevin</strong>.</td><td>نريد أن <strong>نخرج</strong>.</td></tr>
            <tr><td>Ew dixwaze pirtûkê <strong>wergire</strong>.</td><td>هو/هي يريد/تريد أن <strong>يأخذ/تأخذ</strong> الكتاب.</td></tr>
            <tr><td>Ez dixwazim <strong>neçim</strong>.</td><td>أريد <strong>ألا أذهب</strong>.</td></tr>
            <tr><td>Ew divê <strong>nexwe</strong>.</td><td>يجب عليه/عليها <strong>ألا يأكل/تأكل</strong>.</td></tr>
            <tr><td>Tu dikarî <strong>neaxivî</strong>.</td><td>يمكنك <strong>ألا تتحدث</strong>.</td></tr>
        </table>
        
        <p><strong>ملاحظة:</strong> في الأفعال المركبة مثل <strong>vekirin</strong> (فتح)، <strong>derkirin</strong> (خروج)، أو <strong>werkirin</strong> (أخذ)، غالبًا ما يتم حذف السابقة <strong>bi-</strong>. للنفي، يستخدم المضارع المنصوب <strong>ne-</strong> بدلاً من السابقة <strong>bi-</strong>.</p>
        
        <div class="fill-exercise">
             <h3>تمرين 1: املأ صيغة المضارع المنصوب</h3>

             <div class="fill-item" data-correct="biçim">
                 <div class="exercise-row">
                     <span>Ez dixwazim malê</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-1" readonly>
                     <span>.</span><span class="verb-hint">(çûn - ذهاب)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">biçim</button>
                     <button class="key-btn">diçim</button>
                     <button class="key-btn">çûm</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="bixwî">
                 <div class="exercise-row">
                     <span>Tu dikarî pirtûkê</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-2" readonly>
                     <span>?</span><span class="verb-hint">(xwendin - قراءة)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dixwînî</button>
                     <button class="key-btn">bixwî</button>
                     <button class="key-btn">xwendî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="bê">
                 <div class="exercise-row">
                     <span>Divê ew sibê</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-3" readonly>
                     <span>.</span><span class="verb-hint">(hatin - مجيء)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">tê</button>
                     <button class="key-btn">bê</button>
                     <button class="key-btn">dihat</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="vekin">
                 <div class="exercise-row">
                     <span>Em dixwazin derî</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-4" readonly>
                     <span>.</span><span class="verb-hint">(vekirin - فتح)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">divekin</button>
                     <button class="key-btn">bivekin</button>
                     <button class="key-btn">vekin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-4-feedback"></div>
             </div>

             <div class="fill-item" data-correct="nexwim">
                 <div class="exercise-row">
                     <span>Ez dixwazim</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-5" readonly>
                     <span>.</span><span class="verb-hint">(xwarin - ألا آكل)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">nexwim</button>
                     <button class="key-btn">naxwim</button>
                     <button class="key-btn">bixwim</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-5-feedback"></div>
             </div>

              <div class="fill-item" data-correct="wergirin">
                 <div class="exercise-row">
                     <span>Hûn dikarin pirtûkê</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-6" readonly>
                     <span>.</span><span class="verb-hint">(wergirtin - أخذ/استلام)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">werdigirin</button>
                     <button class="key-btn">biwergirin</button>
                     <button class="key-btn">wergirin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-6-feedback"></div>
             </div>

             <div class="fill-item" data-correct="nebêjim">
                 <div class="exercise-row">
                     <span>Divê ez</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-7" readonly>
                     <span>.</span><span class="verb-hint">(gotin - ألا أقول)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">nabêjim</button>
                     <button class="key-btn">bibêjim</button>
                     <button class="key-btn">nebêjim</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-7-feedback"></div>
             </div>

             <div class="fill-item" data-correct="bixebitin">
                 <div class="exercise-row">
                     <span>Divê hûn</span>
                     <input type="text" class="fill-input" id="fill-subjunctive-ex1-8" readonly>
                     <span>.</span><span class="verb-hint">(xebitîn - عمل)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dixebitin</button>
                     <button class="key-btn">bixebitin</button>
                     <button class="key-btn">xebitin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive-ex1-8-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="oblique-pronouns">
        <h2>2. الضمائر المنصوبة</h2>
        <p>تحتوي اللغة الكردية الكرمانجية على حالتين للضمائر: <strong>الحالة المباشرة</strong> (مثل "ez") و<strong>الحالة المنصوبة</strong> (مثل "min"). تُستخدم الحالة المنصوبة في عدة حالات، ولكن هنا الحالتان الرئيسيتان لهذا الدرس:</p>
        <ul>
            <li>لإظهار الملكية (مثل "ي"، "ك"، "ه/ها"، إلخ)</li>
            <li>لزمن الماضي، والذي ستراه لاحقًا في الدرس.</li>
        </ul>
        
        <h3>الضمائر المباشرة والمنصوبة</h3>
        <table>
            <tr>

                <th>الحالة المباشرة</th>
                <th>الحالة المنصوبة</th>
                <th>بالعربية</th>
            </tr>
            <tr>

                <td><strong>Ez</strong></td>
                <td><strong>Min</strong></td>
                <td>أنا | لي، خاصتي</td>
            </tr>
            <tr>

                <td><strong>Tu</strong></td>
                <td><strong>Te</strong></td>
                <td>أنت | لك، خاصتك</td>
            </tr>
            <tr>

                <td><strong>Ew</strong></td>
                <td><strong>Wî</strong></td>
                <td>هو | له، خاصته</td>
            </tr>
            <tr>

                <td><strong>Ew</strong></td>
                <td><strong>Wê</strong></td>
                <td>هي | لها، خاصتها</td>
            </tr>
            <tr>

                <td><strong>Em</strong></td>
                <td><strong>Me</strong></td>
                <td>نحن | لنا، خاصتنا</td>
            </tr>
            <tr>

                <td><strong>Hûn</strong></td>
                <td><strong>We</strong></td>
                <td>أنتم | لكم، خاصتكم</td>
            </tr>
            <tr>

                <td><strong>Ew</strong></td>
                <td><strong>Wan</strong></td>
                <td>هم/هن | لهم/لهن، خاصتهم/خاصتهن</td>
            </tr>
        </table>

        <div class="note">
            <p>ملاحظة: <b>Ew</b> لها ثلاثة معانٍ محتملة في الحالة المباشرة، ولكن في الحالة المنصوبة، تختلف كل من الصيغة المذكرة والمؤنثة والجمع.</p>
        </div>
        
        <h3>استخدام الضمائر المنصوبة للملكية</h3>
        <p>للتعبير عن الملكية في الكرمانجية، نستخدم الشكل المنصوب للضمير متبوعًا بأداة الربط <strong>a / ê / ên</strong> (مؤنث / مذكر / جمع) ثم الاسم:</p>
        
        <div class="examples">
            <p><strong>أمثلة:</strong></p>
            <p><strong>Mala min</strong> - منزلي (م)</p>
            <p><strong>Pirtûka te</strong> - كتابك (م)</p>
            <p><strong>Bavê wî</strong> - والده (ذ)</p>
            <p><strong>Dayika wê</strong> - والدتها (م)</p>
            <p><strong>Hevalên me</strong> - أصدقاؤنا (ج)</p>
            <p><strong>Zarokên we</strong> - أطفالكم (ج)</p>
            <p><strong>Malbata wan</strong> - عائلتهم (م)</p>
        </div>
        
        
        <div class="fill-exercise">
            <h3>تمرين 2: أكمل بالضمير المنصوب الصحيح</h3>
    
            <div class="fill-item" data-correct="min">
                <div class="exercise-row">
                    <span>Ev mala</span>
                    <input type="text" class="fill-input" readonly>
                    <span>e.</span><span class="verb-hint">(هذا منزلي.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">min</button>
                    <button class="key-btn">te</button>
                    <button class="key-btn">wî</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="te">
                <div class="exercise-row">
                    <span>Ev pirtûka</span>
                    <input type="text" class="fill-input" readonly>
                    <span>ye.</span><span class="verb-hint">(هذا كتابك (المفرد).)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">min</button>
                    <button class="key-btn">te</button>
                    <button class="key-btn">wê</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="wî">
                <div class="exercise-row">
                    <span>Ev bavê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>ye.</span><span class="verb-hint">(هذا والده.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">wî</button>
                    <button class="key-btn">wê</button>
                    <button class="key-btn">wan</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="me">
                <div class="exercise-row">
                    <span>Ev hevalên</span>
                    <input type="text" class="fill-input" readonly>
                    <span>ne.</span><span class="verb-hint">(هؤلاء أصدقاؤنا.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">me</button>
                    <button class="key-btn">we</button>
                    <button class="key-btn">wan</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="wan">
                <div class="exercise-row">
                    <span>Ev malbata</span>
                    <input type="text" class="fill-input" readonly>
                    <span>e.</span><span class="verb-hint">(هذه عائلتهم.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">me</button>
                    <button class="key-btn">we</button>
                    <button class="key-btn">wan</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                <div class="fill-feedback"></div>
            </div>
        </div>
    </div>

    <div class="section" id="modal-verbs">
        <h2>3. الأفعال المتعدية واللازمة</h2>
        <p>الآن سنتحدث عن الأفعال. ستلاحظ قريبًا كيف يرتبط هذا بالضمائر المنصوبة.</p>
        <p><b>الفعل المتعدي</b> هو فعل يفعل شيئًا باسم. على سبيل المثال، أنا <b>آكل</b> التفاحة. (التفاحة يتم أكلها) أو، يمكن أن يكون أيضًا: أنا <b>أرى</b> التفاحة. (التفاحة يتم رؤيتها)</p>
        <p><b>الأفعال اللازمة</b> هي العكس. أنا <b>أذهب</b> إلى المنزل. الأطفال <b>يلعبون</b> في الشارع. هي <b>تستيقظ</b> متأخرة كل يوم.</p>
        <p> في زمن المضارع، تحتوي الجمل مع الأفعال المتعدية واللازمة على نفس الصيغة، والتي تعلمت كيفية تكوينها في الدرس الماضي. السبب الذي يجعلك بحاجة إلى معرفة كيفية التمييز بين الأفعال المتعدية واللازمة يتعلق بتعلم <b>الماضي البسيط</b>. </p>
        
        <h3>أمثلة على الأفعال المتعدية:</h3>
        <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr>
            <tr><td>Ez sêvê <b>dixwim</b>.</td><td>أنا <b>آكل</b> التفاحة.</td></tr>
            <tr><td>Tu pirtûkê <b>dibînî</b>.</td><td>أنت <b>ترى</b> الكتاب.</td></tr>
            <tr><td>Ew nameyan <b>dinivîse</b>.</td><td>هو/هي <b>يكتب/تكتب</b> رسائل.</td></tr>
        </table>
        
        <h3>أمثلة على الأفعال اللازمة:</h3>
        <table>
            <tr><th>الكرمانجية</th><th>العربية</th></tr>
            <tr><td>Ez <b>diçim</b> malê.</td><td>أنا <b>أذهب</b> إلى المنزل.</td></tr>
            <tr><td>Zarok <b>dilîzin</b>.</td><td>الأطفال <b>يلعبون</b>.</td></tr>
            <tr><td>Ew <b>radikeve</b>.</td><td>هو/هي <b>ينام/تنام</b>.</td></tr>
        </table>
        
        <div class="exercise">
            <h3>تمرين 3: حدد نوع الفعل</h3>
            <div class="fill-exercise" style="background-color: #E5F0E3;">
                <div class="fill-item" data-correct="Transitive">
                    <div class="exercise-row">
                        <span><strong>xwarin</strong> (أكل) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-1" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-1-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Intransitive">
                    <div class="exercise-row">
                        <span><strong>çûn</strong> (ذهاب) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-2" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-2-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Transitive">
                    <div class="exercise-row">
                        <span><strong>nivîsîn</strong> (كتابة) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-3" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-3-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Intransitive">
                    <div class="exercise-row">
                        <span><strong>hatin</strong> (مجيء) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-4" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-4-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Transitive">
                    <div class="exercise-row">
                        <span><strong>kirîn</strong> (شراء) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-5" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-5-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Intransitive">
                    <div class="exercise-row">
                        <span><strong>meşîn</strong> (مشي) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-6" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-6-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Transitive">
                    <div class="exercise-row">
                        <span><strong>dîtin</strong> (رؤية) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-7" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-7-feedback"></div>
                </div>

                <div class="fill-item" data-correct="Intransitive">
                    <div class="exercise-row">
                        <span><strong>kenîn</strong> (ضحك) هو فعل</span>
                        <input type="text" class="fill-input" id="verb-type-8" readonly>
                        <span>.</span>
                    </div>
                    <div class="key-container">
                        <button class="key-btn">Transitive</button>
                        <button class="key-btn">Intransitive</button>
                    </div>
                    <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                    <div class="fill-feedback" id="verb-type-8-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="section" id="subjunctive">
        <h2>4. زمن الماضي البسيط</h2>
        <p>هنا يصبح الأمر مثيرًا! إليك كيفية تكوين زمن الماضي البسيط لـ:</p>

        <h3>الأفعال المتعدية:</h3>
        <ul>
            <li>يتغير الفاعل إلى الحالة المنصوبة ("ez" يتغير إلى <b>min</b>).</li>
            <li>الفعل يكون فقط في <b>صيغة جذر الماضي</b> (ليس نفس جذر المضارع!)، دون أي سوابق تصريف قبله أو بعده.</li>
        </ul>
        <div class="examples">
            <p><strong>أمثلة:</strong></p>
            <p><strong>Min</strong> pirtûk <strong>xwend</strong>. (قرأت الكتاب.)</p>
            <p><strong>Te</strong> name <strong>nivîsî</strong>. (كتبت رسالة.)</p>
            <p><strong>Wî</strong> mala xwe <strong>paqij kir</strong>. (نظّف منزله.)</p>
            <p><strong>Wê</strong> nan <strong>xwar</strong>. (أكلت الخبز.)</p>
            <p><strong>Me</strong> dikan <strong>vekir</strong>. (فتحنا المتجر.)</p>
            <p><strong>We</strong> mêvan <strong>vexwendin</strong>. (دعوتم الضيوف.)</p>
            <p><strong>Wan</strong> malper <strong>çêkir</strong>. (أنشؤوا موقع ويب.)</p>
            <p><strong>Min</strong> derî <strong>girt</strong>. (أغلقت الباب.)</p>
            <p><strong>Te</strong> hevalê xwe <strong>dît</strong>. (رأيت صديقك.)</p>
            <p><strong>Wî</strong> fêkî <strong>kirî</strong>. (اشترى الفاكهة.)</p>
        </div>
        
        <h3>الأفعال اللازمة:</h3>
        <p>الماضي البسيط مع الأفعال اللازمة يكون في صيغة مختلفة تمامًا على الرغم من أنه نفس الزمن. إنه قريب جدًا من الشكل المضارع البسيط. <b>كل ما ينقص هو السابقة di- قبل الفعل.</b></p>
        <ul>
            <li>يبقى الفاعل في الحالة المباشرة. على سبيل المثال <b>ez</b> وليس "min".</li>
            <li>تظهر <b>نهاية الفعل المصرَّفة</b>، ولكن بدون السابقة "di-" للمضارع.</li>
        </ul>
        <p>طريقة سهلة للتفكير في الأمر هي أنه إذا استخدمت ضمير الفاعل المباشر (<b>ez</b> وليس "min")، فستحتاج إلى تصريف نهاية الفعل مهما كان.</p>

        <div class="examples">
            <p><strong>أمثلة:</strong></p>
            <p><strong>Ez</strong> <strong>ketim</strong>. (سقطتُ.)</p>
            <p><strong>Tu</strong> <strong>çûyî</strong>. (ذهبتَ.)</p>
            <p><strong>Ew</strong> <strong>hat</strong>. (جاء/جاءت.)</p>
            <p><strong>Em</strong> <strong>kenîn</strong>. (ضحكنا.)</p>
            <p><strong>Hûn</strong> <strong>girîn</strong>. (بكيتم.)</p>
            <p><strong>Ew</strong> <strong>razîn</strong>. (ناموا.)</p>
            <p><strong>Ez</strong> <strong>meşîyam</strong>. (مشيتُ.)</p>
            <p><strong>Tu</strong> <strong>sekinî</strong>. (توقفتَ.)</p>
            <p><strong>Ew</strong> <strong>rûnişt</strong>. (جلس/جلست.)</p>
            <p><strong>Em</strong> <strong>xebitîn</strong>. (عملنا.)</p>
        </div>
        
        
        
         <div class="fill-exercise">
             <h3>تمرين 4: أكمل بالصيغة الصحيحة</h3>


             <div class="fill-item" data-correct="Ez">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive1" readonly>
                     <span>duh li mala xwe razam.</span><span class="verb-hint">(نمت في منزلي أمس - لازم)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Min</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Min">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive2" readonly>
                     <span>pirtûk xwend.</span><span class="verb-hint">(قرأت كتابًا - متعدٍ)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Min</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Tu">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive3" readonly>
                     <span>çûyî bazarê.</span><span class="verb-hint">(ذهبت إلى السوق - لازم)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Tu</button>
                     <button class="key-btn">Te</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Te">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive4" readonly>
                     <span>name nivîsî.</span><span class="verb-hint">(كتبت رسالة - متعدٍ)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Tu</button>
                     <button class="key-btn">Te</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive4-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Ew">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive5" readonly>
                     <span>hat malê.</span><span class="verb-hint">(جاء/جاءت إلى المنزل - لازم)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ew</button>
                     <button class="key-btn">Wî/Wê</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive5-feedback"></div>
             </div>

              <div class="fill-item" data-correct="Wî">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive6" readonly>
                     <span>xwarin çêkir.</span><span class="verb-hint">(أعدّ الطعام - متعدٍ)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ew</button>
                     <button class="key-btn">Wî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive6-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Em">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive7" readonly>
                     <span>li parkê rûniştin.</span><span class="verb-hint">(جلسنا في الحديقة - لازم)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Em</button>
                     <button class="key-btn">Me</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive7-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Me">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive8" readonly>
                     <span>pirtûk xwendin.</span><span class="verb-hint">(قرأنا كتبًا - متعدٍ)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Em</button>
                     <button class="key-btn">Me</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive8-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Ez">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive9" readonly>
                     <span>li vir raketim.</span><span class="verb-hint">(نمت هنا - لازم)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Min</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive9-feedback"></div>
             </div>

             <div class="fill-item" data-correct="Min">
                 <div class="exercise-row">
                     <span></span>
                     <input type="text" class="fill-input" id="fill-subjunctive10" readonly>
                     <span>av vexwar.</span><span class="verb-hint">(شربت الماء - متعدٍ)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">Ez</button>
                     <button class="key-btn">Min</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">تحقق</button>
                 <div class="fill-feedback" id="fill-subjunctive10-feedback"></div>
             </div>

         </div>
         </div>
         </div>

    <div class="section" id="standard-verbs">
        <h2>ملاحظة: زمن الماضي المستمر</h2>
        <p>الآن، سيزداد الأمر تعقيدًا. عند التحدث بزمن الماضي في اللغة الكردية الكرمانجية، يُستخدم أحيانًا زمن الماضي البسيط، ولكن زمن الماضي المستمر يُستخدم أكثر. يمكنك ملاحظة ذلك عندما يتحدث متحدثو الكرمانجية الأصليون عن الماضي باللغة العربية وعادة ما يقولون أشياء بهذا الأسلوب، "في منزلنا كنا دائمًا نشاهد الأفلام ليالي الجمعة." بدلاً من "في منزلنا كنا نشاهد الأفلام دائمًا ليالي الجمعة." إذا كنت ترغب في التحدث بالكرمانجية بشكل مثالي، فيجب عليك التحول إلى استخدام الماضي المستمر بشكل أكثر تكرارًا. في الدرس القادم سنتعلم كيفية تكوين زمن الماضي المستمر.</p>
        </div>

    <div class="section" id="word-order-game">
        <h2>5. لعبة ترتيب الكلمات</h2> <p>ضع الكلمات بالترتيب الصحيح لتكوين جمل بأفعال متعدية ولازمة في زمني الماضي والماضي المستمر. انقر على كلمة لوضعها في منطقة الحل. انقر على كلمة في منطقة الحل لإعادتها.</p>
        <div class="word-order-game">
            <div id="sentences-container"></div>
        </div>
    </div>

    <div class="section" id="dialogue">
        <h2>6. حوار</h2> <p>اقرأ هذا الحوار الذي يستخدم أفعالاً متعدية ولازمة في أزمنة المضارع والماضي والماضي المستمر:</p>
        <div class="dialogue-box">
            <div class="dialogue-line"><span class="speaker">آزاد:</span> Duh tu li ku bûyî? Min gelek caran telefon kir.<button class="trans-btn" onclick="toggleTranslation('trans1')">إظهار الترجمة</button><div id="trans1" class="translation">أين كنت أمس؟ اتصلت بك عدة مرات.</div></div>
            <div class="dialogue-line"><span class="speaker">زيلان:</span> Bibexşîne. Ez li mala hevalê xwe bûm. Me dersa Kurdî dixwend.<button class="trans-btn" onclick="toggleTranslation('trans2')">إظهار الترجمة</button><div id="trans2" class="translation">آسفة. كنت في منزل صديقي. كنا ندرس الكردية.</div></div>
            <div class="dialogue-line"><span class="speaker">آزاد:</span> We çi li wir dikir?<button class="trans-btn" onclick="toggleTranslation('trans3')">إظهار الترجمة</button><div id="trans3" class="translation">ماذا كنتم تفعلون هناك؟</div></div>
            <div class="dialogue-line"><span class="speaker">زيلان:</span> Wê alîkariya min kir. Min pirtûka nû kirî lê ez tênagiheştim.<button class="trans-btn" onclick="toggleTranslation('trans4')">إظهار الترجمة</button><div id="trans4" class="translation">ساعدتني. اشتريت كتابًا جديدًا لكنني لم أفهمه.</div></div>
            <div class="dialogue-line"><span class="speaker">آزاد:</span> Çima te ji min nepirsî? Ez her dem diçim dibistana Kurdî.<button class="trans-btn" onclick="toggleTranslation('trans5')">إظهار الترجمة</button><div id="trans5" class="translation">لماذا لم تسألني؟ أنا أذهب دائمًا إلى مدرسة الكردية.</div></div>
            <div class="dialogue-line"><span class="speaker">زيلان:</span> Rast e. Te çend sal Kurdî xwend?<button class="trans-btn" onclick="toggleTranslation('trans6')">إظهار الترجمة</button><div id="trans6" class="translation">هذا صحيح. كم سنة درست الكردية؟</div></div>
            <div class="dialogue-line"><span class="speaker">آزاد:</span> Min sê sal xwend. Dema ez biçûk bûm, em diçûn gund û min bi zarokên gundî re diaxivî.<button class="trans-btn" onclick="toggleTranslation('trans7')">إظهار الترجمة</button><div id="trans7" class="translation">درستُ ثلاث سنوات. عندما كنت صغيرًا، كنا نذهب إلى القرية وكنت أتحدث مع أطفال القرية.</div></div>
            <div class="dialogue-line"><span class="speaker">زيلان:</span> Baş e! Tu dikarî îro min hîn bikî?<button class="trans-btn" onclick="toggleTranslation('trans8')">إظهار الترجمة</button><div id="trans8" class="translation">جيد! هل يمكنك أن تعلمني اليوم؟</div></div>
            <div class="dialogue-line"><span class="speaker">آزاد:</span> Erê, ez dikarim. Lê divê em pirtûka te bînin. Te li ku danî?<button class="trans-btn" onclick="toggleTranslation('trans9')">إظهار الترجمة</button><div id="trans9" class="translation">نعم، أستطيع. لكن يجب أن نُحضر كتابك. أين وضعته؟</div></div>
            <div class="dialogue-line"><span class="speaker">زيلان:</span> Min li ser maseyê hişt. Em dikarin niha biçin û bistînin.<button class="trans-btn" onclick="toggleTranslation('trans10')">إظهار الترجمة</button><div id="trans10" class="translation">تركته على الطاولة. يمكننا الذهاب الآن وإحضاره.</div></div>
        </div>
    </div>
    <div class="section">
        <div class="completion-banner">
            <div class="celebration">🌟 🌟 🌟</div>
            <h2>مبروك! لقد أكملت الدرس 6!</h2>
            <p>تهانينا! لقد أكملت الدرس 6!</p>
            <div class="celebration">🌟 🌟 🌟</div>
        </div>
    </div>

    <div class="nav-buttons-container">
        <a href="../kl_lessons_ar.html" class="nav-button">العودة إلى جميع الدروس</a>
    </div>

    <script>
        // --- Utility Functions ---
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            return a.every((val, index) => val === b[index]);
        }

        // --- Matching Game Logic ---
        function initializeMatchingGame(gameId, totalPairs) {
            const gameElement = document.getElementById(gameId);
            if (!gameElement) { console.error(`Matching game element not found: ${gameId}`); return; }
            const kurdishContainer = gameElement.querySelector('.matching-item-container.kurdish-container');
            const englishContainer = gameElement.querySelector('.matching-item-container.english-container');
            const feedbackElement = gameElement.querySelector('.matching-feedback');
            const matchesCountElement = gameElement.querySelector('.matches-count');

            if (!kurdishContainer || !englishContainer || !feedbackElement || !matchesCountElement) {
                 console.error(`Missing elements within matching game: ${gameId}`); return;
            }

            let selected = { kurdish: null, english: null };
            let matchCount = 0;
            matchesCountElement.textContent = matchCount; // Initialize count display

            // --- SHUFFLING ---
            // Shuffle items within each column to ensure randomization
            const kurdishItems = Array.from(kurdishContainer.children);
            shuffleArray(kurdishItems).forEach(item => kurdishContainer.appendChild(item));

            const englishItems = Array.from(englishContainer.children);
            shuffleArray(englishItems).forEach(item => englishContainer.appendChild(item));
            // --- END SHUFFLING ---

            const items = gameElement.querySelectorAll('.matching-item');

            items.forEach(item => {
                const newItem = item.cloneNode(true); // Clone to remove old listeners
                item.parentNode.replaceChild(newItem, item);

                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isKurdish = this.classList.contains('kurdish');
                    const side = isKurdish ? 'kurdish' : 'english';

                    if (selected[side]) { selected[side].classList.remove('selected'); }
                    this.classList.add('selected');
                    selected[side] = this;

                    feedbackElement.textContent = '';
                    feedbackElement.className = 'matching-feedback';

                    if (selected.kurdish && selected.english) {
                        if (selected.kurdish.dataset.id === selected.english.dataset.id) {
                            selected.kurdish.classList.remove('selected');
                            selected.english.classList.remove('selected');
                            selected.kurdish.classList.add('matched');
                            selected.english.classList.add('matched');
                            matchCount++;
                            matchesCountElement.textContent = matchCount;
                            feedbackElement.textContent = '✓ صحيح!';
                            feedbackElement.classList.add('correct');
                            if (matchCount === totalPairs) { feedbackElement.textContent = 'أحسنت! كل الكلمات متطابقة!'; }
                            selected = { kurdish: null, english: null };
                        } else {
                            feedbackElement.textContent = '✗ غير صحيح. حاول مرة أخرى!';
                            feedbackElement.classList.add('incorrect');
                            const selK = selected.kurdish; const selE = selected.english;
                            setTimeout(() => {
                                if(selK) selK.classList.remove('selected');
                                if(selE) selE.classList.remove('selected');
                            }, 800);
                            selected = { kurdish: null, english: null };
                        }
                    }
                });
                 newItem.addEventListener('touchstart', function() { this.style.opacity = '0.7'; });
                 newItem.addEventListener('touchend', function() { this.style.opacity = '1'; });
            });
        }


        // --- Fill-in Exercise Logic (Subjunctive - EXACTLY like Ukrainian Ex 3) ---
        function initializeFillInKeys() {
             // Add click listener to all key buttons within .fill-exercise
             document.querySelectorAll('.fill-exercise .key-btn').forEach(button => {
                 button.addEventListener('click', function() {
                     const fillItem = this.closest('.fill-item'); // Find the parent exercise item
                     if (!fillItem) return;
                     const input = fillItem.querySelector('.fill-input'); // Find the input within that item
                     if (input) {
                         input.value = this.textContent; // Set input value to button text
                         // Clear feedback
                         const feedback = fillItem.querySelector('.fill-feedback');
                         if(feedback) {
                             feedback.textContent = '';
                             feedback.className = 'fill-feedback';
                         }
                         input.style.borderColor = "var(--kurdish-yellow)"; // Reset border
                         input.style.backgroundColor = "#f8f8f8"; // Reset background
                     }
                 });
             });

             // Shuffle keys within each key container
             document.querySelectorAll('.fill-exercise .key-container').forEach(container => {
                const keys = Array.from(container.children);
                shuffleArray(keys).forEach(key => container.appendChild(key));
             });
        }

        function checkFillAnswer(buttonElement) { // Triggered by the check button
            const item = buttonElement.closest('.fill-item');
            if (!item) return;

            const input = item.querySelector('.fill-input');
            const feedback = item.querySelector('.fill-feedback');
            const correctAnswer = item.dataset.correct;
            const userAnswer = input ? input.value : null; // Get value from input

            if (!input || !feedback) {
                 console.error(`Input or feedback element not found for item.`);
                 return;
            }

            // Trim answers for comparison
            const trimmedUserAnswer = userAnswer ? userAnswer.trim() : '';
            const trimmedCorrectAnswer = correctAnswer ? correctAnswer.trim() : '';


            if (trimmedUserAnswer && trimmedUserAnswer === trimmedCorrectAnswer) {
                feedback.textContent = "✓ صحيح!";
                feedback.className = "fill-feedback correct";
                input.style.borderColor = "var(--kurdish-green)";
                input.style.backgroundColor = "#e5f0e3"; // Light green background
            } else if (trimmedUserAnswer) {
                feedback.innerHTML = `✗ غير صحيح. الإجابة الصحيحة هي: <span class="correct-answer-display">${correctAnswer}</span>`;
                feedback.className = "fill-feedback incorrect";
                input.style.borderColor = "var(--kurdish-red)";
                input.style.backgroundColor = "#fff0f0"; // Light red background
            } else {
                feedback.textContent = "الرجاء اختيار إجابة بالنقر على أحد الأزرار.";
                feedback.className = "fill-feedback"; // Neutral feedback
                input.style.borderColor = "var(--kurdish-yellow)";
                input.style.backgroundColor = "#f8f8f8";
            }
        }


        // --- Word Order Game Logic ---
        function initializeWordOrderGame() {
            // --- UPDATED sentencesData with user's corrections ---
            const sentencesData = [
                 { kurdish: "Ez duh çûm dibistanê.", english: "ذهبت إلى المدرسة أمس. (لازم)", modalVerbs: ["Ez", "çûm"] },
                 { kurdish: "Min pirtûk xwend.", english: "قرأت كتابًا. (متعدٍ)", modalVerbs: ["Min", "xwend"] },
                 { kurdish: "Te sêv xwar.", english: "أكلت تفاحة. (متعدٍ)", modalVerbs: ["Te", "xwar"] },
                 { kurdish: "Ew derket.", english: "خرج/خرجت. (لازم)", modalVerbs: ["Ew", "derket"] },
                 { kurdish: "Wî name nivîsî.", english: "كتب رسالة. (متعدٍ)", modalVerbs: ["Wî", "nivîsî"] },
                 { kurdish: "Ez diçûm dibistanê.", english: "كنت أذهب إلى المدرسة. (ماضي مستمر - لازم)", modalVerbs: ["Ez", "diçûm"] },
                 { kurdish: "Min pirtûk dixwend.", english: "كنت أقرأ كتابًا. (ماضي مستمر - متعدٍ)", modalVerbs: ["Min", "dixwend"] },
                 { kurdish: "Te didît ez dikeniyam.", english: "كنت ترى أنني كنت أضحك. (ماضي مستمر)", modalVerbs: ["Te", "didît", "dikeniyam"] }
            ];
            // --- END UPDATED sentencesData ---

            const sentences = sentencesData.map(item => ({
                original: item.kurdish,
                english: item.english,
                modalVerbs: item.modalVerbs || [],
                // Generate words array from the (potentially updated) kurdish string
                words: item.kurdish.replace(/[.?]/g, '').split(/\s+/).filter(word => word.length > 0) // Ensure no empty strings
            }));

            const gameContainer = document.getElementById('sentences-container');
            if (!gameContainer) { console.error("Word order game container 'sentences-container' not found."); return; }
            gameContainer.innerHTML = ''; // Clear previous content

            sentences.forEach((sentence, index) => {
                const sentenceElement = document.createElement('div');
                sentenceElement.className = 'game-sentence';
                sentenceElement.id = `sentence-${index}`;
                const translation = document.createElement('div');
                translation.className = 'game-sentence-translation';
                translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`;
                sentenceElement.appendChild(translation);
                const solutionArea = document.createElement('div');
                solutionArea.className = 'solution-area';
                solutionArea.id = `solution-area-${index}`;
                sentenceElement.appendChild(solutionArea);
                const wordsBank = document.createElement('div');
                wordsBank.className = 'words-bank';
                wordsBank.id = `words-bank-${index}`;
                sentenceElement.appendChild(wordsBank);
                const shuffledWords = shuffleArray(sentence.words); // Shuffle the correct words
                shuffledWords.forEach(word => {
                    const wordElement = document.createElement('div');
                    wordElement.className = 'word-box';
                    wordElement.textContent = word;
                    // Check against the modalVerbs array defined in sentencesData
                    if (sentence.modalVerbs.includes(word)) {
                        wordElement.classList.add('modal');
                    }
                    wordElement.addEventListener('click', () => {
                        const parent = wordElement.parentElement;
                        const targetBank = parent.classList.contains('words-bank') ? solutionArea : wordsBank;
                        targetBank.appendChild(wordElement);
                        const feedbackElement = document.getElementById(`feedback-${index}`);
                        if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                    });
                    wordsBank.appendChild(wordElement);
                });
                const feedback = document.createElement('div');
                feedback.className = 'game-feedback';
                feedback.id = `feedback-${index}`;
                sentenceElement.appendChild(feedback);
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'sentence-buttons';
                const checkButton = document.createElement('button');
                checkButton.className = 'check-btn'; // Use general check-btn style
                checkButton.textContent = 'تحقق من الإجابة';
                checkButton.onclick = () => checkSentence(index, sentences); // Pass sentences array
                buttonContainer.appendChild(checkButton);
                const showAnswerButton = document.createElement('button');
                showAnswerButton.className = 'show-answer-btn'; // Use specific class if needed, or general
                showAnswerButton.textContent = 'إظهار الإجابة';
                showAnswerButton.onclick = () => showAnswer(index, sentences); // Pass sentences array
                buttonContainer.appendChild(showAnswerButton);
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn'; // Use specific class if needed, or general
                deleteBtn.textContent = 'مسح الإجابة';
                deleteBtn.onclick = () => {
                    const currentSolutionArea = document.getElementById(`solution-area-${index}`);
                    const currentWordsBank = document.getElementById(`words-bank-${index}`);
                    while (currentSolutionArea.firstChild) { currentWordsBank.appendChild(currentSolutionArea.firstChild); }
                     const feedbackElement = document.getElementById(`feedback-${index}`);
                     if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                };
                buttonContainer.appendChild(deleteBtn);
                sentenceElement.appendChild(buttonContainer);
                gameContainer.appendChild(sentenceElement);
                 if (index > 0) { sentenceElement.style.display = 'none'; }
            });
        }
        function checkSentence(sentenceId, sentences) { // Receive sentences array
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
            if (!solutionArea || !feedbackElement || !sentenceElement) return;
            const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
            const correctWords = sentences[sentenceId].words; // Get correct words from passed array
            if (currentWords.length !== correctWords.length) {
                feedbackElement.textContent = '✗ الرجاء استخدام جميع الكلمات.';
                feedbackElement.className = 'game-feedback feedback-incorrect'; return;
            }
            const isCorrect = arraysEqual(currentWords, correctWords);
            if (isCorrect) {
                feedbackElement.textContent = '✓ صحيح! أحسنت!';
                feedbackElement.className = 'game-feedback feedback-correct';
                sentenceElement.classList.add('completed');
                if (sentenceId < sentences.length - 1) {
                    setTimeout(() => {
                        const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                        if (nextSentence) { nextSentence.style.display = 'flex'; nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
                    }, 800);
                } else { feedbackElement.textContent = 'لقد أكملت لعبة ترتيب الكلمات!'; }
            } else {
                feedbackElement.textContent = '✗ ليس صحيحاً تماماً. حاول مرة أخرى!';
                feedbackElement.className = 'game-feedback feedback-incorrect';
            }
        }
        function showAnswer(sentenceId, sentences) { // Receive sentences array
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
             if (!solutionArea || !wordsBank || !feedbackElement || !sentenceElement) return;
            solutionArea.innerHTML = ''; wordsBank.innerHTML = '';
            sentences[sentenceId].words.forEach(word => { // Use correct words from passed array
                const wordElement = document.createElement('div');
                wordElement.className = 'word-box'; wordElement.textContent = word;
                 // Check against the modalVerbs array defined in sentencesData
                 if (sentences[sentenceId].modalVerbs.includes(word)) {
                     wordElement.classList.add('modal');
                 }
                wordElement.style.cursor = 'default'; solutionArea.appendChild(wordElement);
            });
            feedbackElement.textContent = 'هذا هو الترتيب الصحيح.';
            feedbackElement.className = 'game-feedback';
            sentenceElement.classList.add('completed');
             if (sentenceId < sentences.length - 1) {
                 setTimeout(() => {
                     const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                     if (nextSentence) { nextSentence.style.display = 'flex'; nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
                 }, 800);
             }
        }

        // --- Dialogue Translation Toggle ---
        function toggleTranslation(id) {
            const translation = document.getElementById(id);
            const button = translation.previousElementSibling;
            if (translation && button) {
                if (translation.style.display === 'block') {
                    translation.style.display = 'none'; button.textContent = 'إظهار الترجمة';
                } else {
                    translation.style.display = 'block'; button.textContent = 'إخفاء الترجمة';
                }
            }
        }

        // --- Initialization on DOM Load ---
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all matching games with correct pair counts
            initializeMatchingGame('prepositions-matching-game', 6);
            initializeMatchingGame('modal-verbs-matching-game', 8);
            initializeMatchingGame('standard-verbs-matching-game', 6);

            // Initialize fill-in exercise functionality (keys + Enter) for Ex 3
            initializeFillInKeys();

            // Initialize word order game
            initializeWordOrderGame();
        });

    </script>

</body>
</html>