<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lesson 6: The Izaf√©t</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Ottoman-inspired color scheme (Matches Lesson 1) */
        :root {
            --ottoman-blue: #0081C9; --ottoman-red: #C70039; --ottoman-gold: #FFB100;
            --ottoman-teal: #00B8A9; --ottoman-navy: #023E7D; --ottoman-cream: #FFF8E1;
            --ottoman-light-blue: #E0F7FF; --ottoman-pink: #FFCCDF; --ottoman-light-teal: #CCFCF6;
            --body-background: #1D2F6F; --text-color: #1A3A5A; --text-light: #FFFFFF;
        }
        body { font-family: 'Nunito', Arial, sans-serif; line-height: 1.7; max-width: 800px; margin: 0 auto; padding: 15px; background-color: var(--body-background); background-image: url('../ottoman_background.png'); background-repeat: repeat; background-size: 300px auto; box-sizing: border-box; color: var(--text-color); }
        [lang="ar"], td:first-child, .ottoman-text, .matching-item.ottoman-text, .fill-input.ottoman-input, .key-btn, .correct-answer-display { font-family: 'Noto Naskh Arabic', serif; font-size: 1.4em; line-height: 1.5; font-weight: 500; direction: rtl; text-align: right; }
        /* Latin text styling - Increased base font size */
        .latin-text { font-family: 'Nunito', Arial, sans-serif !important; font-size: 0.9em !important; /* Increased from 0.7em */ font-weight: normal !important; direction: ltr !important; }

        /* Increased font size for Ottoman/Latin text in paragraphs (Kept as original) */
        p .ottoman-text { font-size: 1.4em; display: inline-block; /* Keep inline-block for spacing */ vertical-align: middle; }
        p .latin-text { font-size: 1.0em; display: inline-block; vertical-align: middle; margin: 0 2px; /* Add slight margin */ }

        .matching-item.ottoman-text, .key-btn { text-align: center; }
        .fill-input.ottoman-input { text-align: right; font-size: 1.6em; }
        /* Adjusted table cell alignment for better readability */
        td:first-child, td[lang="ar"] { text-align: right !important; /* Changed from left */ padding-top: 18px; padding-bottom: 18px; }
        td:nth-child(2), td:nth-child(3) { text-align: left !important; /* Ensure Latin text columns align left */ }
        * { box-sizing: border-box; }
        h1, h2, h3 { color: var(--ottoman-navy); font-weight: 700; line-height: 1.3; }
        h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 25px; font-size: 1.8rem; color: var(--text-light); }
        h2 { font-size: 1.5rem; margin-top: 30px; }
        h3 { font-size: 1.2rem; margin-top: 25px; color: var(--ottoman-blue); }
        .section { background-color: var(--ottoman-light-blue); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); background-color: #C0E0F0; }
        .title-section { background-color: var(--ottoman-navy); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); }
        .title-section h1 { text-align: left; border-bottom: 3px solid var(--ottoman-gold); padding-bottom: 15px; margin-bottom: 0; margin-top: 0; font-size: 1.8rem; color: var(--text-light); }
        th, td { padding: 12px 15px; text-align: left; border: none; }
        th { background-color: var(--ottoman-blue); color: var(--text-light); font-weight: 600; }
        tr:nth-child(even) { background-color: var(--ottoman-light-blue); }
        tr:hover { background-color: #B9E7FE; }
        .note { background-color: var(--ottoman-pink); padding: 15px; border-left: 4px solid var(--ottoman-red); margin: 20px 0; border-radius: 0 8px 8px 0; }

        /* Feedback Styles (Match Lesson 1) */
        .feedback, .fill-feedback { margin-top: 8px; margin-left: 5px; font-weight: bold; }
        /* Correct/Incorrect feedback text colors AND STYLE - MATCH L1 Ex2 */
        .fill-feedback.correct { color: var(--ottoman-teal); /* L1 uses teal for .correct */ }
        .fill-feedback.incorrect { color: var(--ottoman-red); /* L1 uses red for .incorrect */ }
        /* Specific style for matching game 'Correct' feedback to match L1 */
        .matching-feedback.correct { color: black !important; font-size: 1.5rem !important; }
        /* Style for sentence building feedback */
        .fill-feedback.correct.sentence-building {
            color: black !important;
            font-size: 1.5rem !important;
            font-weight: bold !important;
            font-family: 'Nunito', Arial, sans-serif !important;
            background-color: var(--ottoman-gold);
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        /* Display for showing correct answer on incorrect attempt */
        .correct-answer-display { display: inline-block; margin-left: 5px; }

        /* Matching Game Styles (Match Lesson 1) */
        .matching-game { background-color: var(--ottoman-gold); padding: 20px; border-radius: 8px; margin-top: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .matching-columns-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .matching-column { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .matching-column h4 { text-align: center; margin-bottom: 10px; }
        .matching-item-container { display: flex; flex-direction: column; gap: 10px; }
        .matching-item { padding: 12px 15px; background-color: white; border: 2px solid var(--ottoman-blue); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; text-align: center; -webkit-tap-highlight-color: transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .matching-item:hover { background-color: var(--ottoman-light-blue); }
        .matching-item.selected { background-color: var(--ottoman-blue); color: var(--text-light); }
        .matching-item.matched { background-color: var(--ottoman-gold); color: black; border-color: var(--ottoman-gold); cursor: default; }
        .matching-result { text-align: center; }
        .matching-result div { font-size: 1.2rem; font-weight: bold; color: black; margin-top: 15px; }


        /* Fill-in / Sentence Building Styles (Match Lesson 1 Ex2 & Ex5) */
        .fill-exercise { margin-top: 30px; }
        /* Container for each exercise item - MATCH L1 Ex2 */
        .fill-item { background-color: var(--ottoman-gold); /* #FFB100 */ margin-bottom: 20px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        /* General row for inputs/text - MATCH L1 Ex2 */
        .exercise-row { display: flex; align-items: center; gap: 12px; /* MATCH L1 Ex2 gap */ margin-bottom: 10px; flex-wrap: wrap; color: var(--text-color); font-weight: 500; }
        /* Translation text style - MATCH L1 Ex2 placement (inside flex row) */
        .translation { color: black; font-size: 1.1em; /* Adjusted slightly from L1's 1.2em for better fit in this context */ }
        /* Input field - MATCH L1 Ex2 styles */
        .fill-input { background-color: var(--ottoman-gold); /* #FFB100 - Match L1 Ex2 internal color */ width: 120px; /* Default width like L1 Ex2 */ padding: 8px 12px; border: 2px solid #997000; /* Match L1 Ex2 border */ border-radius: 6px; font-size: 16px; font-family: inherit; }
        /* Wider input for sentence building like L1 Ex5 */
        .fill-input.long-input { width: 100%; max-width: 400px; }
        /* Ottoman Input specific font override (already present, ensure consistency) */
        .fill-input.ottoman-input { font-family: 'Noto Naskh Arabic', serif; font-size: 1.6em; direction: rtl; text-align: right; }
        /* Container for key buttons - MATCH L1 Ex2 */
        .key-container { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
        /* Key buttons (Match L1 Ex2/Ex5) */
        .key-btn { padding: 5px 12px; background-color: #FFECB3; border: 1px solid #E6A800; border-radius: 6px; cursor: pointer; color: #333; font-size: 1.6em; font-family: 'Noto Naskh Arabic', serif; /* Explicitly set font */ text-align: center; /* Ensure centering */ }
        .key-btn:hover { background-color: #FFE082; color: black; }
        /* Check button (Match L1 Ex2/Ex5) */
        .fill-check { padding: 8px 15px; background-color: #FFECB3; color: black; border: none; border-radius: 6px; cursor: pointer; font-family: inherit; font-weight: 600; transition: background-color 0.2s ease; }
        .fill-check:hover { background-color: #FFE082; }


        /* Congratulations (Match Lesson 1 Structure/Style) */
                /* Using standard .section */
                .congrats-ottoman { font-family: 'Amiri', serif; font-size: 30px; /* Match L1 inline style */ line-height: 1.4; }
                .congrats-english { font-size: 1.2em; margin-top: 10px; }

        /* Word Order Game Styles - For Duolingo-style exercise */
        .word-order-game {
            background-color: var(--ottoman-light-blue);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .game-sentence {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
        }

        .game-sentence.completed {
            background-color: var(--ottoman-light-teal);
            border-left: 4px solid var(--ottoman-teal);
        }

        .game-sentence-translation {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .sentence-number {
            display: inline-block;
            min-width: 45px;
            font-weight: 700;
            color: var(--ottoman-red);
        }

        .solution-area {
            min-height: 60px;
            padding: 10px;
            background-color: #e0f7ff;
            border-radius: 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
            border: 2px dashed var(--ottoman-blue);
            direction: rtl; /* Fix for RTL language */
            justify-content: flex-start; /* Right justify content for RTL */
        }

        .words-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 10px;
            background-color: var(--ottoman-cream);
            border-radius: 6px;
            margin-bottom: 10px;
            direction: rtl; /* Fix for RTL language */
        }

        .word-box {
            display: inline-block;
            padding: 8px 12px;
            background-color: var(--ottoman-blue); /* Changed to match website blue */
            color: white; /* Better contrast for blue background */
            border-radius: 5px;
            cursor: pointer;
            user-select: none;
            margin: 0;
            font-weight: 500;
            border: 2px solid transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .solution-area .word-box {
            background-color: #c0e0f0;
            color: var(--text-color); /* Reset color for solution box */
            border-color: var(--ottoman-blue);
        }

        .word-box:active {
            transform: scale(0.95);
        }

        .game-feedback {
            margin-top: 10px;
            font-weight: 600;
        }

        .feedback-correct {
            color: var(--ottoman-teal);
        }

        .feedback-incorrect {
            color: var(--ottoman-red);
        }

        .sentence-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .check-btn, .show-answer-btn, .delete-btn {
            flex: 1;
            background-color: var(--ottoman-blue);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .check-btn:hover, .show-answer-btn:hover, .delete-btn:hover {
            background-color: #006aa3; /* Darker blue on hover */
        }

        .check-btn:active, .show-answer-btn:active, .delete-btn:active {
            transform: scale(0.98);
        }

        .show-answer-btn {
            background-color: var(--ottoman-light-blue);
            color: var(--text-color);
        }

        .show-answer-btn:hover {
            background-color: #c0e0f0;
        }

        .delete-btn {
            background-color: #ffccdf;
            color: var(--text-color);
        }

        .delete-btn:hover {
            background-color: #ffb3c6;
        }

        /* Navigation (Match Lesson 1) */
        .nav-buttons-container { display: flex; justify-content: space-between; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--ottoman-navy); color: var(--text-light); border: 3px solid var(--ottoman-blue); border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; /* Match L1 size */ cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: var(--ottoman-blue); border-color: var(--ottoman-navy); }
        .prev-button { margin-right: auto; }
        .next-button, .exercises-button { margin-left: 10px; }
        .nav-button.next-button {
            padding-top: 27px;  /* Add padding to the top to push text down */
        }

                /* Small Latin text (Adjusted to match .latin-text increase) */
                .small-latin { font-size: 0.7em !important; /* Increased from 0.6em */ font-family: 'Nunito', Arial, sans-serif !important; font-weight: normal !important; display: inline-block; vertical-align: middle; direction: ltr; text-align: left; }

        /* Media queries (Copied from Lesson 1 for consistency) */
        @media (max-width: 600px) {
            .section, .title-section { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; padding-bottom: 10px; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            .exercise { padding: 15px; }
            .matching-columns-container { flex-direction: column; gap: 15px; } .matching-item { font-size: 1em; padding: 10px 12px; } .matching-item.ottoman-text { font-size: 1.2em; }
            /* Fill-in exercises - Adjust layout like L1 Ex2 on mobile */
            .exercise-row { flex-direction: row; align-items: center; gap: 8px; flex-wrap: wrap;} /* Keep row, allow wrap, smaller gap */
            .exercise-row .ottoman-text { flex-shrink: 0; /* Prevent shrinking */ margin-right: 5px;}
            .exercise-row .fill-input { flex-grow: 1; width: auto; min-width: 80px; margin-right: 5px;} /* Allow input to grow */
            .exercise-row .translation { flex-basis: auto; /* Don't force full width */}

            .fill-input { width: 100%; max-width: none; margin-top: 5px; } /* Override default width */
            .key-container { justify-content: center; }
            .fill-check { width: 100%; max-width: 300px; margin-top: 10px; }
            /* Specific adjustments for Ex2 layout on mobile (Already present, review) */
                    .fill-item .exercise-row-ex2 { flex-direction: row; flex-wrap: wrap;} /* Allow wrap */
                    .fill-item .exercise-row-ex2 .ottoman-text { margin-left: 10px; } /* Space between name and input */
            /* Navigation */
            .nav-buttons-container { flex-direction: column; gap: 15px; } .nav-button { width: 100%; margin: 0; font-size: 1rem;}
            body { padding: 10px; }

            /* Word order game mobile adjustments */
            .sentence-buttons {
                flex-direction: column;
            }

            .check-btn, .show-answer-btn, .delete-btn {
                width: 100%;
            }
        }
                @media (max-width: 450px) {
                    .matching-item { padding: 10px 8px; font-size: 0.9em; } .matching-item.ottoman-text { font-size: 1.1em; }
                    .key-btn { font-size: 1.4em; padding: 4px 10px;} .nav-button { padding: 12px 15px; }
                    .exercise-row {gap: 5px;} /* Further reduce gap on very small screens */
                }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>Lesson 6<br>The Izaf√©t</h1>
    </div>

    <div class="section">
        <h3>Lesson Objectives</h3>
        <ul>
             <li><a href="#izafet-intro" style="color: inherit; text-decoration: none;">Introduction to Izaf√©t</a></li>
             <li><a href="#izafet-types" style="color: inherit; text-decoration: none;">The Three Types of Izaf√©t</a></li>
             <li><a href="#constructions" style="color: inherit; text-decoration: none;">Special Constructions</a></li>
             <li><a href="#vocabulary" style="color: inherit; text-decoration: none;">Family Vocabulary</a></li>
        </ul>
    </div>

    <div class="section">
        <h2 id="izafet-intro">1. Introduction to Izaf√©t</h2>
        <p>The possession or connexion of one thing or person with another is called in Ottoman,<span class="ottoman-text">ÿßÿ∂ÿßŸÅÿ™</span><span class="latin-text">Izaf√©t</span>, which means 'addition or annexation'.</p>
        <p>One substantive is governed by another in three different ways:</p>
    </div>

    <div class="section">
        <h2 id="izafet-types">2. The Three Types of Izaf√©t</h2>

        <h3>I. By juxtaposition, without change</h3>
        <p>This is used to show the relation between a material and the thing composed of it. The name of the material is simply put, like an adjective, before the other substantive.</p>

        <h3>Examples:</h3>
        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÑÿ™ŸàŸÜ ŸÇŸàÿ∑Ÿà</td>
                <td>altoun qoutou</td>
                <td>a golden box</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸäŸæŸÉ ŸÖŸÜÿØŸäŸÑ</td>
                <td>ip√©k m√©ndil</td>
                <td>a silk handkerchief</td>
            </tr>
            <tr>
                <td lang="ar">⁄ØŸàŸÖÿ¥ ÿ≥ÿßÿπÿ™</td>
                <td>g√º-m√ºsh sa'at</td>
                <td>a silver watch</td>
            </tr>
        </table>

        <p>Or the noun expressing the material is put in the ablative case; as:</p>

        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÑÿ™ŸàŸÜÿØŸÜ ŸÉŸàÿ≥ÿ™ŸÉ</td>
                <td>altoundan k√∂st√©k</td>
                <td>a chain of gold</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÑŸÖÿßÿ≥ÿØŸÜ ÿ®ŸäŸÑÿ≤ŸäŸÉ</td>
                <td>√©lmasdan bil√©z'ik</td>
                <td>a bracelet of diamond</td>
            </tr>
            <tr>
                <td lang="ar">ŸäŸàŸÉÿØŸÜ ⁄ÜŸàÿ±ÿßÿ®</td>
                <td>youndan chorab</td>
                <td>woollen stockings</td>
            </tr>
        </table>

        <h3>II. By placing the first substantive in nominative or unaltered form</h3>
        <p>By placing the first substantive in nominative or unaltered form, and adding to the second the pronominal affix of the third person (<span class="ottoman-text">€å</span><span class="latin-text">-i</span> or <span class="ottoman-text">ÿ≥€å</span><span class="latin-text">-si</span>). This is used to indicate not only possession but also genus and species, the name of the species coming first.</p>

        <h3>Examples:</h3>
        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿßŸà ŸÇŸæŸàÿ≥€å</td>
                <td>√©v qapousou</td>
                <td>a house-door (indefinite)</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇŸàŸäŸà ÿµŸàŸä€å</td>
                <td>qouyou souyou</td>
                <td>well water</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ÿ±ŸÖŸàÿØ ÿ¢ÿ∫ÿßÿ¨€å</td>
                <td>armoud a-ghaji</td>
                <td>pear tree</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÖÿßÿ≥ŸäŸá ÿßŸÑŸÖÿßÿ≥€å</td>
                <td>Amasiya √©lmasi</td>
                <td>Amasia apple</td>
            </tr>
        </table>

        <div class="note">
             <p>The names of countries, rivers, mountains, cities etc. are formed in this way; the first of the two nouns remaining unchanged:</p>
        </div>

        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿπÿ´ŸÖÿßŸÜŸÑ€å ÿØŸàŸÑÿ™€å</td>
                <td>Osmanlƒ± d√©vl√©ti</td>
                <td>The Ottoman government</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÜ⁄ØŸÑÿ™ÿ±Ÿá ŸÇÿ±ÿßŸÑŸä⁄ÜŸá‚Äåÿ≥€å</td>
                <td>ƒ∞n-gil-tiz qrali√ßh√©si</td>
                <td>The queen of England</td>
            </tr>
            <tr>
                <td lang="ar">ÿ≥ŸäŸàÿßÿ≥ ÿ¥Ÿáÿ±€å</td>
                <td>Sivas sh√©hri</td>
                <td>The city of Sivas</td>
            </tr>
            <tr>
                <td lang="ar">ÿßÿ±ŸÖŸÜ€å ŸÖŸÑÿ™€å</td>
                <td>√ârm√©ni mill√©ti</td>
                <td>The Armenian nation</td>
            </tr>
            <tr>
                <td lang="ar">ÿßÿ±ÿ¨Ÿäÿßÿ≥ ÿ∑ÿßÿ∫€å</td>
                <td>√âr-ji-yas da-ghi</td>
                <td>Mount Arg√¶as</td>
            </tr>
            <tr>
                <td lang="ar">ÿ∑ŸàŸÜŸá ŸÜŸáÿ±€å</td>
                <td>Touna n√©hri</td>
                <td>The river Danube</td>
            </tr>
            <tr>
                <td lang="ar">ŸÖÿßŸäÿ≥ ÿ¢Ÿä€å</td>
                <td>Mayis a-yi</td>
                <td>The month of May</td>
            </tr>
        </table>

        <h3>III. By placing the first in the Genitive</h3>
        <p>By placing the first in the Genitive, and adding to the second the pronominal affix of the third person (<span class="ottoman-text">€å</span><span class="latin-text">-i</span> or <span class="ottoman-text">ÿ≥€å</span><span class="latin-text">-si</span>). This indicates the relation of possession and is essentially definite, and is generally used when the article 'the' would be put before the first noun in English.</p>

        <p>The name of the possessor is placed first, as when the possessive case is used in English.</p>

        <h3>Examples:</h3>
        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å</td>
                <td>√©vin qapousou</td>
                <td>The door of the house (definite)</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÑŸÖÿßÿ≥ŸÉ ÿ¢ÿ∫ÿßÿ¨€å</td>
                <td>√©lmanin a-ghaji</td>
                <td>The tree of the apple</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇŸàŸäŸàŸÜŸÉ ÿµŸàŸä€å</td>
                <td>qou-younoun souyou</td>
                <td>The water of the well</td>
            </tr>
        </table>

        <div class="fill-exercise">
            <h3>Exercise 1: Matching</h3>
            <p>Match the Ottoman Izaf√©t forms with their correct translations.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ottoman:</h4>
                        <div class="matching-item-container" id="first-form-ottoman-container">
                            </div>
                    </div>
                    <div class="matching-column">
                        <h4>Translation:</h4>
                        <div class="matching-item-container" id="first-form-case-container">
                             </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="first-form-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2 id="constructions">3. Special Constructions</h2>

        <h3>Quantity Expressions</h3>
        <p>When the two nouns come together in English, with the word <i>of</i> between them, the first expressing the quantity of the second, it is translated into Ottoman by simply putting the name of the quantity before the other noun and omitting 'of' as German they say 'Eine Flasche Wein', 'a bottle of wine'.</p>

        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿ®ÿ± ŸÅŸÜÿ¨ÿßŸÜ ⁄Üÿß€å</td>
                <td>bir finjan chay</td>
                <td>a cup of tea</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸà⁄Ü ÿßŸàŸÇŸäŸá ÿ¥ŸÉÿ±</td>
                <td>√ºch oqiy√© sh√©k√©r</td>
                <td>three okes of sugar</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸàŸÜ ÿ¢ÿ±ÿ¥ŸäŸÜ ÿ®ÿ≤</td>
                <td>on arshin b√©z</td>
                <td>ten yards of cloth</td>
            </tr>
            <tr>
                <td lang="ar">ŸäŸàÿ≤ ÿßŸàŸÑ⁄ÜŸÉ ÿ®Ÿàÿ∫ÿØÿßŸâ</td>
                <td>y√ºz √∂lch√©k boughday</td>
                <td>a hundred bushels of wheat</td>
            </tr>
            <tr>
                <td lang="ar">ÿ®ÿ± ÿ≥Ÿàÿ±Ÿà ŸÇŸàŸäŸàŸÜ</td>
                <td>bir s√ºr√º qoyoun</td>
                <td>a flock of sheep</td>
            </tr>
        </table>

        <h3>Construction with Cardinal Numbers</h3>
        <p>The following construction is frequent between a noun and a cardinal number.</p>

        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ŸÉÿ™ÿßÿ®ŸÉ ÿØŸàÿ±ÿØ€å</td>
                <td>kitabin d√∂rdi</td>
                <td>four of the books</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸàÿ∑Ÿá‚ÄåŸÜŸÉ ÿßŸäŸÉŸäÿ≥€å</td>
                <td>o-da-nin ikisi</td>
                <td>two of the rooms</td>
            </tr>
        </table>

        <h3>Declension of Constructions</h3>
        <p>These constructions are declined:<span class="ottoman-text">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å‚ÄåŸÜŸÉ</span><span class="latin-text">√©vin qapousou-noun</span>,<span class="ottoman-text">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å‚ÄåŸÜŸá</span><span class="latin-text">√©vin qapousou-na</span>,<span class="ottoman-text">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å‚ÄåŸÜ€å</span><span class="latin-text">√©vin qapousou-nou</span>,<span class="ottoman-text">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å‚ÄåŸÜÿØŸá</span><span class="latin-text">√©vin qapousou-nda</span>,<span class="ottoman-text">ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å‚ÄåŸÜÿØŸÜ</span><span class="latin-text">√©vin qapousou-ndan</span>.</p>

        <h3>The suffix -d√©</h3>
        <p>There are two words<span class="ottoman-text">ÿØŸá</span><span class="latin-text">-d√©</span> in Ottoman; one is used with the nouns in the Locative case, and is always accented:<span class="ottoman-text">ÿßŸàÿØŸá</span><span class="latin-text">√©v'd√©</span>,<span class="ottoman-text">ÿ®ÿßÿ∫ÿØŸá</span><span class="latin-text">baghd√°</span> 'in the house, in the vineyard'.</p>

        <p>The other<span class="ottoman-text">ÿØŸá</span><span class="latin-text">-d√©</span> is a conjunction, meaning 'also, and': it is never connected with the noun, nor is it accented; that is, the accent is at the end of the preceding word; as:<span class="ottoman-text">ÿßŸà ÿØŸá</span><span class="latin-text">√©v' d√©'</span>,<span class="ottoman-text">ÿ®ÿßÿ∫ ÿØŸá</span><span class="latin-text">bagh' da'</span>,<span class="ottoman-text">ŸæÿØÿ± ÿØŸá</span><span class="latin-text">p√©d√©r' d√©'</span>,<span class="ottoman-text">ÿ®ŸÜŸÖ ÿØŸá</span><span class="latin-text">b√©nim' d√©'</span>, meaning 'The house also, the vineyard too, my father also, mine also'.</p>

        <h3>The suffix Da-kh√≠</h3>
        <p><span class="ottoman-text">ÿØÿÆ€å</span><span class="latin-text">Da-kh√≠</span> is also used with the same meaning ('also, too'); as:<span class="ottoman-text">ÿ®ŸÜÿØŸá ÿØÿÆ€å</span><span class="latin-text">b√©nd√© dakh√≠</span>,<span class="ottoman-text">ÿ≥ŸÜÿØŸá ÿØÿÆ€å</span><span class="latin-text">s√©nd√© dakh√≠</span> 'in me also, in thee too'.</p>

        <div class="fill-exercise">
            <h3>Exercise 2: Matching</h3>
            <p>Match the Ottoman quantity expressions with their correct translations.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ottoman:</h4>
                        <div class="matching-item-container" id="second-form-ottoman-container">
                           </div>
                    </div>
                    <div class="matching-column">
                        <h4>Translation:</h4>
                        <div class="matching-item-container" id="second-form-case-container">
                           </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="second-form-matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2 id="vocabulary">4. Family Vocabulary</h2>
        <h3>Familya ŸÅÿßŸÖŸäŸÑŸäÿß The Family</h3>

        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÜÿß ÿ®ÿßÿ®ÿß</td>
                <td>a-na baba</td>
                <td>parents</td>
            </tr>
            <tr>
                <td lang="ar">ŸàÿßŸÑÿØŸäŸÜ</td>
                <td>valid√©yin</td>
                <td>parents</td>
            </tr>
            <tr>
                <td lang="ar">ÿ®ÿßÿ®ÿß</td>
                <td>baba</td>
                <td>father</td>
            </tr>
            <tr>
                <td lang="ar">ŸæÿØÿ±</td>
                <td>p√©d√©r</td>
                <td>father</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÜÿß</td>
                <td>a-na</td>
                <td>mother</td>
            </tr>
            <tr>
                <td lang="ar">ŸàÿßŸÑÿØŸá</td>
                <td>valid√©</td>
                <td>mother</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ŸÜŸÜŸá</td>
                <td>an'-n√©</td>
                <td>mamma</td>
            </tr>
            <tr>
                <td lang="ar">ÿ®ŸàŸäŸàŸÉ ÿ®ÿßÿ®ÿß</td>
                <td>b√ºy√ºk baba</td>
                <td>grandfather</td>
            </tr>
            <tr>
                <td lang="ar">ÿØÿØŸá</td>
                <td>d√©d√©</td>
                <td>grandfather</td>
            </tr>
            <tr>
                <td lang="ar">ŸÜŸÜŸá</td>
                <td>n√©n√©</td>
                <td>grandmother</td>
            </tr>
            <tr>
                <td lang="ar">ÿßÿ®Ÿá</td>
                <td>√©-b√©</td>
                <td>grandmother</td>
            </tr>
            <tr>
                <td lang="ar">ÿ®ŸàŸäŸàŸÉ ÿ¢ŸÜÿß</td>
                <td>b√ºy√ºk ana</td>
                <td>grandmother</td>
            </tr>
            <tr>
                <td lang="ar">ÿ∑Ÿàÿ±ŸàŸÜ</td>
                <td>toroun</td>
                <td>grandchild</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßÿ±ÿØÿßÿ¥</td>
                <td>qardash</td>
                <td>brother</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿ±ŸÜÿØÿßÿ¥</td>
                <td>qa-rindash</td>
                <td>brother</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿ≤ ŸÇÿßÿ±ÿØÿßÿ¥</td>
                <td>qiz qardash</td>
                <td>sister</td>
            </tr>
            <tr>
                <td lang="ar">ŸáŸÖÿ¥Ÿäÿ±Ÿá</td>
                <td>h√©mshir√©</td>
                <td>sister</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸàÿ∫ŸàŸÑ</td>
                <td>oghoul</td>
                <td>son</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸàÿ∫ŸÑÿßŸÜ</td>
                <td>oghlan</td>
                <td>boy</td>
            </tr>
            <tr>
                <td lang="ar">⁄ÜŸàÿ¨ŸàŸÇ</td>
                <td>chojouq</td>
                <td>child</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿ≤</td>
                <td>qiz</td>
                <td>girl, daughter</td>
            </tr>
            <tr>
                <td lang="ar">ŸÉÿ±ŸäŸÖŸá</td>
                <td>k√©rim√©</td>
                <td>daughter</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßÿ±€å</td>
                <td>qari</td>
                <td>wife, woman</td>
            </tr>
            <tr>
                <td lang="ar">ÿπŸÖ€å</td>
                <td>√©m'mi</td>
                <td>uncle (father's brother)</td>
            </tr>
            <tr>
                <td lang="ar">ÿπŸÖŸàÿ¨Ÿá</td>
                <td>a-mou-ja</td>
                <td>uncle (father's brother)</td>
            </tr>
            <tr>
                <td lang="ar">ÿ™Ÿäÿ≤Ÿá</td>
                <td>t√©y'z√©</td>
                <td>aunt (mother's sister)</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿßŸÑŸá</td>
                <td>khala</td>
                <td>aunt (mother's sister)</td>
            </tr>
            <tr>
                <td lang="ar">ÿπŸÖŸá</td>
                <td>√©m-m√©</td>
                <td>aunt (father's sister)</td>
            </tr>
            <tr>
                <td lang="ar">ÿØÿßŸä€å</td>
                <td>da-yi</td>
                <td>uncle (mother's brother)</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßŸäŸÜ</td>
                <td>qa-yin</td>
                <td>brother-in-law</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßŸäŸÜ ÿ®ÿ±ÿßÿØÿ±</td>
                <td>qa-yin birad√©r</td>
                <td>brother-in-law</td>
            </tr>
        </table>
        <div class="fill-exercise">
            <h3>Exercise 3: Matching (Family Vocabulary 1)</h3>
            <p>Match the Ottoman family terms with their correct translations.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ottoman:</h4>
                        <div class="matching-item-container" id="family1-ottoman-container">
                             </div>
                    </div>
                    <div class="matching-column">
                        <h4>Translation:</h4>
                        <div class="matching-item-container" id="family1-english-container">
                             </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="family1-matching-feedback"></div>
                </div>
            </div>
        </div>

        <h3>More Family Terms</h3>
        <table>
            <tr>
                <th>Ottoman</th>
                <th>Transliteration</th>
                <th>Translation</th>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßŸäŸÜ ÿ¢ÿ™ÿß</td>
                <td>qa-yin ata</td>
                <td>father-in-law</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇÿßŸäŸÜ ÿ¢ŸÜÿß</td>
                <td>qa-yin ana</td>
                <td>mother-in-law</td>
            </tr>
            <tr>
                <td lang="ar">⁄ØŸÑŸäŸÜ</td>
                <td>g√©lin</td>
                <td>the bride, the daughter-in-law</td>
            </tr>
            <tr>
                <td lang="ar">⁄ØŸàŸá‚Äå⁄Ø€å</td>
                <td>g√ºv√©-yi</td>
                <td>the groom</td>
            </tr>
            <tr>
                <td lang="ar">ÿØÿßŸÖÿßÿØ</td>
                <td>damad</td>
                <td>the son-in-law</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÜŸäÿ¥ÿ™Ÿá</td>
                <td>√©nisht√©</td>
                <td>sister's husband</td>
            </tr>
            <tr>
                <td lang="ar">ÿ®ÿßÿ¨ŸÜÿßŸÇ</td>
                <td>bajanaq</td>
                <td>brother-in-law (wife's sister's husband)</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇŸàÿ¨Ÿá</td>
                <td>qoja</td>
                <td>husband</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¢ÿ®ŸÑŸá</td>
                <td>abla</td>
                <td>elder sister</td>
            </tr>
            <tr>
                <td lang="ar">ÿπÿ®ÿØŸá</td>
                <td>abd√©</td>
                <td>elder sister</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿ∞ŸÖÿ™ŸÉÿßÿ±</td>
                <td>khizm√©tk√¢r</td>
                <td>servant</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿ∞ŸÖÿ™ÿ¨€å</td>
                <td>khizm√©tji</td>
                <td>servant</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿßŸÜŸÖ</td>
                <td>khanim</td>
                <td>Lady, Miss, Mrs.</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÑÿß€å</td>
                <td>alti</td> <td>husband's brother's wife</td>
            </tr>
            <tr>
                <td lang="ar">⁄ØŸàÿ±ŸÖŸäÿ¨Ÿá</td>
                <td>g√∂r√ºmj√©</td>
                <td>husband's sister</td>
            </tr>
            <tr>
                <td lang="ar">ÿØŸàŸÜŸàÿ±</td>
                <td>d√ºn√ºr</td>
                <td>relative (by intermarriage)</td>
            </tr>
            <tr>
                <td lang="ar">ŸäŸÉŸÜ</td>
                <td>y√©g√©n, yiy√©n</td>
                <td>a nephew; a niece</td>
            </tr>
            <tr>
                <td lang="ar">ÿπŸÖÿ¨Ÿá ÿ≤ÿßÿØŸá</td>
                <td>amja zad√©</td>
                <td>cousin</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿßŸÑŸá ÿ≤ÿßÿØŸá</td>
                <td>khala zad√©</td>
                <td>cousin</td>
            </tr>
            <tr>
                <td lang="ar">ÿØÿßŸä€å ÿ≤ÿßÿØŸá</td>
                <td>dayi zad√©</td>
                <td>cousin</td>
            </tr>
            <tr>
                <td lang="ar">ÿµÿßŸä€å</td>
                <td>sa-yi</td>
                <td>number</td>
            </tr>
            <tr>
                <td lang="ar">ÿÆÿßŸÑÿßÿµŸÇ</td>
                <td>khala-jiq</td> <td>maid</td>
            </tr>
            <tr>
                <td lang="ar">ÿ¨ÿßÿ±ŸäŸá</td>
                <td>jariy√©</td>
                <td>servant</td>
            </tr>
            <tr>
                <td lang="ar">ÿßŸÅŸÜÿØ€å</td>
                <td>√©f√©ndi</td>
                <td>gentleman, Sir</td>
            </tr>
            <tr>
                <td lang="ar">ŸÖÿ≥ÿßŸÅÿ±</td>
                <td>misafir</td>
                <td>guest</td>
            </tr>
            <tr>
                <td lang="ar">ŸÇŸÅÿ≥</td>
                <td>qaf√©s</td>
                <td>cage</td>
            </tr>
        </table>
        <div class="fill-exercise">
            <h3>Exercise 4: Matching (Family Vocabulary 2)</h3>
            <p>Match the Ottoman family terms with their correct translations.</p>
            <div class="matching-game">
                <div class="matching-columns-container">
                    <div class="matching-column">
                        <h4>Ottoman:</h4>
                        <div class="matching-item-container" id="family2-ottoman-container">
                             </div>
                    </div>
                    <div class="matching-column">
                        <h4>Translation:</h4>
                        <div class="matching-item-container" id="family2-english-container">
                             </div>
                    </div>
                </div>
                <div class="matching-result">
                    <div class="matching-feedback" id="family2-matching-feedback"></div>
                </div>
            </div>
        </div>

        <div class="fill-exercise">
            <h3>Exercise 5: Sentence Building</h3>
            <p>Form complete Ottoman sentences by arranging the words in the correct order.</p>

            <div class="word-order-game">
                <div id="sentences-container"></div>
            </div>

            <script>
                // Ensure this script runs after the DOM is loaded
                document.addEventListener('DOMContentLoaded', function() {
                    // Sentences data with translations (Updated English)
                    // *** ADDED 2 NEW SENTENCES ***
                    const sentencesData = [
                        {
                            ottoman: "ÿ®Ÿà ÿ¢ŸÑÿ™ŸàŸÜ ŸÇŸàÿ∑Ÿà ÿØÿ±",
                            english: "This is a golden box."
                        },
                        {
                            ottoman: "ŸÇŸàŸäŸàŸÜŸÉ ÿµŸàŸä€å ÿ™ŸÖŸäÿ≤ ÿØÿ±",
                            english: "The water of the well is clean."
                        },
                        {
                            ottoman: "ÿßŸà ÿ¢ÿ±ŸÖŸàÿØ ÿ¢ÿ∫ÿßÿ¨€å ÿßŸàÿ≤ŸàŸÜ ÿØÿ±",
                            english: "That pear tree is tall."
                        },
                        {
                            ottoman: "ÿ®ÿ± ŸÅŸÜÿ¨ÿßŸÜ ⁄Üÿß€å ÿßŸäÿ≥ÿ™ÿ± ŸÖŸäÿ≥ŸÉ",
                            english: "Would you like a cup of tea?"
                        },
                        {
                            ottoman: "ÿ®ÿßÿ®ÿß ÿØŸá ÿ¢ŸÜÿß ÿØŸá ÿßŸàÿØŸá ÿØÿ±ŸÑÿ±",
                            english: "Both father and mother are at home."
                        },
                        {
                            ottoman: "ÿ®ŸÜŸÖ ⁄ØŸÑŸäŸÜŸÖ ŸÇÿßÿ±ÿØÿßÿ¥ŸÖŸÉ ŸÇÿ≤€å ÿØÿ±",
                            english: "My daughter-in-law is my brother's daughter."
                        },
                        {
                            ottoman: "ŸÇÿßŸäŸÜ ÿ¢ÿ™ÿß Ÿà ŸÇÿßŸäŸÜ ÿ¢ŸÜÿß ⁄ØŸÑÿØŸäŸÑÿ±",
                            english: "Father-in-law and mother-in-law came."
                        },
                        {
                            ottoman: "ÿßŸà ÿ≥ŸäŸàÿßÿ≥ ÿ¥Ÿáÿ±ŸäŸÜŸá ⁄ØŸäÿ™ÿØ€å",
                            english: "He went to the city of Sivas."
                        },
                        { // New Sentence 9
                            ottoman: "ÿ®ŸàŸäŸàŸÉ ÿ®ÿßÿ®ÿßŸÖŸÉ ÿßŸà€å ÿ®ŸàŸäŸàŸÉ ÿØÿ±",
                            english: "My grandfather's house is big."
                        },
                        { // New Sentence 10
                            ottoman: "ÿπŸÖŸÉŸÉ ŸÇÿ≤€å ÿ®Ÿàÿ±ÿßÿØŸá ŸÖ€åÿØÿ±",
                            english: "Is your uncle's daughter here?"
                        }
                    ];
                    // *** END ADDED SENTENCES ***

                    // Process the sentences
                    const sentences = sentencesData.map(item => {
                        return {
                            original: item.ottoman,
                            english: item.english,
                            words: item.ottoman.split(/\s+/) // Don't reverse here - display in logical order
                        };
                    });

                    // Initialize the game
                    const gameContainer = document.getElementById('sentences-container');
                    if (!gameContainer) {
                        console.error("Sentence game container not found!");
                        return;
                    }

                    // Shuffle function for words
                    function shuffleArray(array) {
                        const newArray = [...array];
                        for (let i = newArray.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                        }
                        return newArray;
                    }

                    // Create all sentence elements
                    sentences.forEach((sentence, index) => {
                        // Create game sentence element
                        const sentenceElement = document.createElement('div');
                        sentenceElement.className = 'game-sentence';
                        sentenceElement.id = `sentence-${index}`;

                        // Create numbered translation
                        const translation = document.createElement('div');
                        translation.className = 'game-sentence-translation';
                        translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`;
                        sentenceElement.appendChild(translation);

                        // Create solution area (where selected words will go)
                        const solutionArea = document.createElement('div');
                        solutionArea.className = 'solution-area';
                        solutionArea.id = `solution-area-${index}`;
                        sentenceElement.appendChild(solutionArea);

                        // Create words bank (where unselected words are)
                        const wordsBank = document.createElement('div');
                        wordsBank.className = 'words-bank';
                        wordsBank.id = `words-bank-${index}`;
                        sentenceElement.appendChild(wordsBank);

                        // Add shuffled words to the words bank
                        const shuffledWords = shuffleArray(sentence.words);
                        shuffledWords.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ottoman-text';
                            wordElement.textContent = word;

                            // Add click event to move words between banks
                            wordElement.addEventListener('click', () => {
                                const parent = wordElement.parentElement;

                                if (parent.classList.contains('words-bank')) {
                                    // Move from words bank to solution area
                                    const currentSolutionArea = document.getElementById(`solution-area-${index}`);
                                    currentSolutionArea.appendChild(wordElement);
                                } else {
                                    // Move from solution area to words bank
                                    const currentWordsBank = document.getElementById(`words-bank-${index}`);
                                    currentWordsBank.appendChild(wordElement);
                                }

                                // Clear feedback when words are changed
                                const feedbackElement = document.getElementById(`feedback-${index}`);
                                if (feedbackElement) {
                                    feedbackElement.textContent = '';
                                    feedbackElement.className = 'game-feedback';
                                }
                            });

                            wordsBank.appendChild(wordElement);
                        });

                        // Add feedback area
                        const feedback = document.createElement('div');
                        feedback.className = 'game-feedback';
                        feedback.id = `feedback-${index}`;
                        sentenceElement.appendChild(feedback);

                        // Add buttons
                        const buttonContainer = document.createElement('div');
                        buttonContainer.className = 'sentence-buttons';

                        const checkButton = document.createElement('button');
                        checkButton.className = 'check-btn';
                        checkButton.textContent = 'Check Answer';
                        checkButton.addEventListener('click', () => checkAnswer(index));
                        buttonContainer.appendChild(checkButton);

                        const showAnswerButton = document.createElement('button');
                        showAnswerButton.className = 'show-answer-btn';
                        showAnswerButton.textContent = 'Show Answer';
                        showAnswerButton.addEventListener('click', () => showAnswer(index));
                        buttonContainer.appendChild(showAnswerButton);

                        const deleteBtn = document.createElement('button');
                        deleteBtn.className = 'delete-btn';
                        deleteBtn.textContent = 'Clear Box';
                        deleteBtn.addEventListener('click', () => {
                            const currentSolutionArea = document.getElementById(`solution-area-${index}`);
                            const currentWordsBank = document.getElementById(`words-bank-${index}`);

                            // Move all words from solution area back to words bank
                            while (currentSolutionArea.firstChild) {
                                currentWordsBank.appendChild(currentSolutionArea.firstChild);
                            }

                            // Clear feedback when words are changed
                            const feedbackElement = document.getElementById(`feedback-${index}`);
                            if (feedbackElement) {
                                feedbackElement.textContent = '';
                                feedbackElement.className = 'game-feedback';
                            }
                        });
                        buttonContainer.appendChild(deleteBtn);

                        sentenceElement.appendChild(buttonContainer);

                        // Add to game container
                        gameContainer.appendChild(sentenceElement);

                        // Initially hide all sentences except the first one
                        if (index > 0) {
                            sentenceElement.style.display = 'none';
                        }
                    });

                    // Check answer function
                    function checkAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);

                        if (!solutionArea || !feedbackElement || !sentenceElement) return; // Safety check

                        // Get current word order in solution area
                        const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
                        const correctWords = sentences[sentenceId].words;

                        // Check if all words are in the solution area
                        if (currentWords.length !== correctWords.length) {
                            feedbackElement.textContent = '‚úó Please use all the words.';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                            return;
                        }

                        // Check if the order is correct - words are already in correct order
                        const isCorrect = arraysEqual(currentWords, correctWords);

                        if (isCorrect) {
                            feedbackElement.textContent = '‚úì Correct! Well done!';
                            feedbackElement.className = 'game-feedback feedback-correct';
                            sentenceElement.classList.add('completed');

                            // Show next sentence if there is one
                            if (sentenceId < sentences.length - 1) {
                                setTimeout(() => {
                                    const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                    if (nextSentence) {
                                        nextSentence.style.display = 'block';
                                        // Scroll to next sentence
                                        nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    }
                                }, 800);
                            }
                        } else {
                            feedbackElement.textContent = '‚úó Not quite right. Try again!';
                            feedbackElement.className = 'game-feedback feedback-incorrect';
                        }
                    }

                    // Show answer function
                    function showAnswer(sentenceId) {
                        const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
                        const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
                        const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
                        const sentenceElement = document.getElementById(`sentence-${sentenceId}`);

                        if (!solutionArea || !wordsBank || !feedbackElement || !sentenceElement) return; // Safety check

                        // Clear both areas
                        solutionArea.innerHTML = '';
                        wordsBank.innerHTML = '';

                        // Add words in correct order to solution area
                        // Words are already in correct order in the sentences array
                        sentences[sentenceId].words.forEach(word => {
                            const wordElement = document.createElement('div');
                            wordElement.className = 'word-box ottoman-text';
                            wordElement.textContent = word;
                            solutionArea.appendChild(wordElement);
                        });

                        // Update feedback
                        feedbackElement.textContent = 'This is the correct order.';
                        feedbackElement.className = 'game-feedback';

                        // Mark as completed
                        sentenceElement.classList.add('completed');

                        // Show next sentence if there is one
                        if (sentenceId < sentences.length - 1) {
                            setTimeout(() => {
                                const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                                if (nextSentence) {
                                    nextSentence.style.display = 'block';
                                    // Scroll to next sentence
                                    nextSentence.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                }
                            }, 800);
                        }
                    }

                    // Helper function to compare arrays
                    function arraysEqual(a, b) {
                        if (a.length !== b.length) return false;
                        return a.every((val, index) => val === b[index]);
                    }
                }); // End DOMContentLoaded for sentence builder
            </script>
        </div>
    </div>

    <div class="section">
        <h2 style="text-align: center;">
            <span class="congrats-ottoman">ÿ™ÿ®ÿ±ŸäŸÉÿßÿ™<br>ÿØÿ±ÿ≥ ÿ¢ŸÑÿ™ŸÜÿ¨€å ÿßŸÉŸÖÿßŸÑ ÿßŸäÿ™ÿØŸÉÿ≤</span><br><br>
            <span class="congrats-english" style="display: block; font-size: inherit;">Congratulations<br>You finished Lesson 6</span>
        </h2>
    </div>

    <div class="nav-buttons-container">
        <a href="../../landing_pages/ottoman_lessons_en.html" class="nav-button prev-button">Back to all lessons</a>
    </div>

    <script>
        // --- Generic Matching Game Logic ---
        function initializeMatchingGame(ottomanContainerId, englishContainerId, feedbackId, itemsData) {
            let selected = { ottoman: null, english: null };
            let matchCount = 0;
            const totalPairs = itemsData.length; // Get total pairs from data length

            const ottomanContainer = document.getElementById(ottomanContainerId);
            const englishContainer = document.getElementById(englishContainerId);
            const feedbackElement = document.getElementById(feedbackId);

            if (!ottomanContainer || !englishContainer || !feedbackElement) {
                console.warn(`Matching game initialization skipped: Could not find elements for ${ottomanContainerId}, ${englishContainerId}, or ${feedbackId}`);
                return; // Exit if essential elements are missing
            }

            // Clear existing items before adding new ones
            ottomanContainer.innerHTML = '';
            englishContainer.innerHTML = '';

            // Populate containers with items from data
            itemsData.forEach((item, index) => {
                const ottomanItem = document.createElement('div');
                ottomanItem.className = 'matching-item ottoman-text';
                ottomanItem.textContent = item.ottoman;
                ottomanItem.dataset.id = index; // Use index as ID
                ottomanContainer.appendChild(ottomanItem);

                const englishItem = document.createElement('div');
                englishItem.className = 'matching-item';
                englishItem.textContent = item.english;
                englishItem.dataset.id = index; // Use index as ID
                englishContainer.appendChild(englishItem);
            });


            const shuffle = c => Array.from(c.children).sort(() => .5-Math.random()).forEach(i=>c.appendChild(i));
            // Check if containers have children before shuffling
            if (ottomanContainer.children.length > 0) shuffle(ottomanContainer);
            if (englishContainer.children.length > 0) shuffle(englishContainer);

            const items = document.querySelectorAll(`#${ottomanContainerId} .matching-item, #${englishContainerId} .matching-item`);
            items.forEach(item => {
                // Remove old listeners if re-initializing (though clearing innerHTML should handle this)
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);

                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    const isOttoman = this.closest(`#${ottomanContainerId}`) !== null;
                    const side = isOttoman ? 'ottoman' : 'english';

                    // Deselect previous selection on the same side
                    if (selected[side]) {
                        selected[side].classList.remove('selected');
                    }

                    // Select the new item
                    this.classList.add('selected');
                    selected[side] = this;

                    feedbackElement.textContent = ''; // Clear feedback on selection

                    // Check for match if both sides have a selection
                    if (selected.ottoman && selected.english) {
                        if (selected.ottoman.dataset.id === selected.english.dataset.id) {
                            // Correct Match
                            ['ottoman', 'english'].forEach(s => {
                                selected[s].classList.remove('selected');
                                selected[s].classList.add('matched');
                            });
                            matchCount++;
                            if (matchCount === totalPairs) {
                                feedbackElement.textContent = 'Correct'; // Match L1 final feedback TEXT
                                feedbackElement.className = 'matching-feedback correct'; // Use specific class with L1 styles
                            }
                            selected = { ottoman: null, english: null }; // Reset selection
                        } else {
                            // Incorrect Match
                            feedbackElement.textContent = ''; // L1 doesn't show 'Incorrect Match' text
                            const selO = selected.ottoman, selE = selected.english;
                            // Flash selection off
                            setTimeout(() => {
                                if(selO) selO.classList.remove('selected');
                                if(selE) selE.classList.remove('selected');
                            }, 800); // Match L1 timeout behavior
                            selected = { ottoman: null, english: null }; // Reset selection
                        }
                    }
                });
            });
        }

        // --- Data for Matching Games ---
        const izafet1Data = [
            { ottoman: "⁄ØŸàŸÖÿ¥ ÿ≥ÿßÿπÿ™", english: "a silver watch" },
            { ottoman: "ÿßŸà ŸÇŸæŸàÿ≥€å", english: "a house-door (indefinite)" },
            { ottoman: "ÿßŸàŸÉ ŸÇŸæŸàÿ≥€å", english: "the door of the house (definite)" },
            { ottoman: "ÿ¢ŸÑÿ™ŸàŸÜÿØŸÜ ŸÉŸàÿ≥ÿ™ŸÉ", english: "a chain of gold" },
            { ottoman: "ÿ¢ÿ±ŸÖŸàÿØ ÿ¢ÿ∫ÿßÿ¨€å", english: "pear tree" },
            { ottoman: "ÿßŸÑŸÖÿßÿ≥ŸÉ ÿ¢ÿ∫ÿßÿ¨€å", english: "the tree of the apple" }
        ];

        const izafet2Data = [
            { ottoman: "ÿ®ÿ± ŸÅŸÜÿ¨ÿßŸÜ ⁄Üÿß€å", english: "a cup of tea" },
            { ottoman: "ÿßŸà⁄Ü ÿßŸàŸÇŸäŸá ÿ¥ŸÉÿ±", english: "three okes of sugar" },
            { ottoman: "ÿ®ÿ± ÿ≥Ÿàÿ±Ÿà ŸÇŸàŸäŸàŸÜ", english: "a flock of sheep" },
            { ottoman: "ŸÉÿ™ÿßÿ®ŸÉ ÿØŸàÿ±ÿØ€å", english: "four of the books" },
            { ottoman: "ÿßŸà ÿØŸá", english: "the house also" },
            { ottoman: "ÿ®ŸÜÿØŸá ÿØÿÆ€å", english: "in me also" }
        ];

        const family1Data = [
             { ottoman: "ÿ¢ŸÜÿß ÿ®ÿßÿ®ÿß", english: "parents" },
             { ottoman: "ŸàÿßŸÑÿØŸäŸÜ", english: "parents" }, // Duplicate meaning, keep both
             { ottoman: "ÿ®ÿßÿ®ÿß", english: "father" },
             { ottoman: "ŸæÿØÿ±", english: "father" }, // Duplicate meaning
             { ottoman: "ÿ¢ŸÜÿß", english: "mother" },
             { ottoman: "ŸàÿßŸÑÿØŸá", english: "mother" }, // Duplicate meaning
             { ottoman: "ÿ¢ŸÜŸÜŸá", english: "mamma" },
             { ottoman: "ÿ®ŸàŸäŸàŸÉ ÿ®ÿßÿ®ÿß", english: "grandfather" },
             { ottoman: "ÿØÿØŸá", english: "grandfather" }, // Duplicate meaning
             { ottoman: "ŸÜŸÜŸá", english: "grandmother" },
             { ottoman: "ÿßÿ®Ÿá", english: "grandmother" }, // Duplicate meaning
             { ottoman: "ÿ®ŸàŸäŸàŸÉ ÿ¢ŸÜÿß", english: "grandmother" }, // Duplicate meaning
             { ottoman: "ÿ∑Ÿàÿ±ŸàŸÜ", english: "grandchild" },
             { ottoman: "ŸÇÿßÿ±ÿØÿßÿ¥", english: "brother" },
             { ottoman: "ŸÇÿ±ŸÜÿØÿßÿ¥", english: "brother" }, // Duplicate meaning
             { ottoman: "ŸÇÿ≤ ŸÇÿßÿ±ÿØÿßÿ¥", english: "sister" },
             { ottoman: "ŸáŸÖÿ¥Ÿäÿ±Ÿá", english: "sister" }, // Duplicate meaning
             { ottoman: "ÿßŸàÿ∫ŸàŸÑ", english: "son" },
             { ottoman: "ÿßŸàÿ∫ŸÑÿßŸÜ", english: "boy" },
             { ottoman: "⁄ÜŸàÿ¨ŸàŸÇ", english: "child" },
             { ottoman: "ŸÇÿ≤", english: "girl, daughter" },
             { ottoman: "ŸÉÿ±ŸäŸÖŸá", english: "daughter" },
             { ottoman: "ŸÇÿßÿ±€å", english: "wife, woman" },
             { ottoman: "ÿπŸÖ€å", english: "uncle (father's brother)" },
             { ottoman: "ÿπŸÖŸàÿ¨Ÿá", english: "uncle (father's brother)" }, // Duplicate meaning
             { ottoman: "ÿ™Ÿäÿ≤Ÿá", english: "aunt (mother's sister)" },
             { ottoman: "ÿÆÿßŸÑŸá", english: "aunt (mother's sister)" }, // Duplicate meaning
             { ottoman: "ÿπŸÖŸá", english: "aunt (father's sister)" },
             { ottoman: "ÿØÿßŸä€å", english: "uncle (mother's brother)" },
             { ottoman: "ŸÇÿßŸäŸÜ", english: "brother-in-law" },
             { ottoman: "ŸÇÿßŸäŸÜ ÿ®ÿ±ÿßÿØÿ±", english: "brother-in-law" } // Duplicate meaning
        ];

        const family2Data = [
            { ottoman: "ŸÇÿßŸäŸÜ ÿ¢ÿ™ÿß", english: "father-in-law" },
            { ottoman: "ŸÇÿßŸäŸÜ ÿ¢ŸÜÿß", english: "mother-in-law" },
            { ottoman: "⁄ØŸÑŸäŸÜ", english: "the bride, the daughter-in-law" },
            { ottoman: "⁄ØŸàŸá‚Äå⁄Ø€å", english: "the groom" },
            { ottoman: "ÿØÿßŸÖÿßÿØ", english: "the son-in-law" },
            { ottoman: "ÿßŸÜŸäÿ¥ÿ™Ÿá", english: "sister's husband" },
            { ottoman: "ÿ®ÿßÿ¨ŸÜÿßŸÇ", english: "brother-in-law (wife's sister's husband)" },
            { ottoman: "ŸÇŸàÿ¨Ÿá", english: "husband" },
            { ottoman: "ÿ¢ÿ®ŸÑŸá", english: "elder sister" },
            { ottoman: "ÿπÿ®ÿØŸá", english: "elder sister" }, // Duplicate meaning
            { ottoman: "ÿÆÿ∞ŸÖÿ™ŸÉÿßÿ±", english: "servant" },
            { ottoman: "ÿÆÿ∞ŸÖÿ™ÿ¨€å", english: "servant" }, // Duplicate meaning
            { ottoman: "ÿÆÿßŸÜŸÖ", english: "Lady, Miss, Mrs." },
            { ottoman: "ÿßŸÑÿß€å", english: "husband's brother's wife" },
            { ottoman: "⁄ØŸàÿ±ŸÖŸäÿ¨Ÿá", english: "husband's sister" },
            { ottoman: "ÿØŸàŸÜŸàÿ±", english: "relative (by intermarriage)" },
            { ottoman: "ŸäŸÉŸÜ", english: "a nephew; a niece" },
            { ottoman: "ÿπŸÖÿ¨Ÿá ÿ≤ÿßÿØŸá", english: "cousin" },
            { ottoman: "ÿÆÿßŸÑŸá ÿ≤ÿßÿØŸá", english: "cousin" }, // Duplicate meaning
            { ottoman: "ÿØÿßŸä€å ÿ≤ÿßÿØŸá", english: "cousin" }, // Duplicate meaning
            { ottoman: "ÿµÿßŸä€å", english: "number" },
            { ottoman: "ÿÆÿßŸÑÿßÿµŸÇ", english: "maid" },
            { ottoman: "ÿ¨ÿßÿ±ŸäŸá", english: "servant" }, // Duplicate meaning
            { ottoman: "ÿßŸÅŸÜÿØ€å", english: "gentleman, Sir" },
            { ottoman: "ŸÖÿ≥ÿßŸÅÿ±", english: "guest" },
            { ottoman: "ŸÇŸÅÿ≥", english: "cage" }
        ];


        // --- Initialize All Matching Games on DOM Load ---
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize original matching games
            initializeMatchingGame('first-form-ottoman-container', 'first-form-case-container', 'first-form-matching-feedback', izafet1Data);
            initializeMatchingGame('second-form-ottoman-container', 'second-form-case-container', 'second-form-matching-feedback', izafet2Data);

            // Initialize NEW family vocabulary matching games
            initializeMatchingGame('family1-ottoman-container', 'family1-english-container', 'family1-matching-feedback', family1Data);
            initializeMatchingGame('family2-ottoman-container', 'family2-english-container', 'family2-matching-feedback', family2Data);

            // Note: The sentence builder script is already inside its own DOMContentLoaded listener
        });
    </script>

</body>
</html>
