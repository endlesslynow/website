<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lektion 8: Futur, Komparativ und Konditionalsätze</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --kurdish-red: #9E2A2B;
            --kurdish-yellow: #F5CB5C;
            --background-cream: #FFF7E0;
            --text-color: #333333;
            --kurdish-green: #4F7942;
            --light-green: #E5F0E3;
        }

        body {
            font-family: 'Nunito', Arial, sans-serif;
            line-height: 1.7;
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
            background-color: var(--background-cream);
            /* --- RESTORED BACKGROUND IMAGE --- */
            background-image: url('../kurmanji_background.png'); /* Assuming this path is correct */
            background-repeat: repeat;
            background-size: 200px 200px;
            box-sizing: border-box;
            color: var(--text-color);
        }

        * {
            box-sizing: border-box;
        }

        .title-section {
            background-color: #005E30; /* Darker green for title */
            color: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 12px;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .title-section h1 {
            color: white;
            margin: 0;
            text-align: left;
        }

        .title-section hr {
            background-color: var(--kurdish-yellow);
            height: 4px;
            margin-top: 15px;
            margin-bottom: 0;
            border: none;
        }

        h1, h2 {
            color: var(--kurdish-red);
            font-weight: 700;
            line-height: 1.3;
        }

        h1 {
            text-align: left;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        h2 {
            font-size: 1.5rem;
            margin-top: 30px;
            color: var(--kurdish-red);
        }

        h3 {
            color: var(--kurdish-red); /* Keep h3 red */
            font-weight: 700;
            line-height: 1.3;
            font-size: 1.2rem; /* Slightly larger h3 */
            margin-top: 25px;
        }

        hr {
            border: none;
            height: 3px;
            background-color: var(--kurdish-yellow);
            margin-bottom: 25px;
        }

        .section {
            background-color: rgba(255, 255, 255, 0.9); /* Changed to half-transparent white */
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border: none;
        }

        th {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: var(--background-cream);
        }
         tr:nth-child(odd) {
            background-color: #FEFDFB; /* Lighter cream for odd rows */
        }

        tr:hover {
            background-color: #FFEEB4; /* Keep hover effect */
        }

        .note {
            background-color: #FFF2C2; /* Light yellow for notes */
            padding: 15px;
            border-left: 4px solid var(--kurdish-yellow);
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .highlight {
            font-weight: 700;
            color: var(--kurdish-red);
        }

        .examples {
            background-color: var(--background-cream);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .examples p:not(:first-of-type) {
            margin: 10px 0;
            padding: 10px;
            border-radius: 6px;
        }

        /* Alternating background colors for example sentences */
        .examples p:nth-of-type(even) {
            background-color: #FFF2C2;
        }

        .examples p:nth-of-type(odd):not(:first-of-type) {
            background-color: #FBEAA6;
        }

        .exercise { /* General container for any exercise block */
            background-color: #E5F0E3; /* Light green for exercise sections */
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .check-btn { /* General check button style */
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            font-family: inherit;
            font-weight: 600;
            margin-top: 10px; /* Added margin for spacing */
        }

        .check-btn:hover {
            background-color: #DBA53A; /* Darker yellow on hover */
        }

        .feedback { /* General feedback style */
            margin-top: 8px;
            margin-left: 5px;
            font-weight: bold;
            min-height: 1.5em; /* Reserve space */
        }

        .correct {
            color: #4F7942; /* Green for correct */
        }

        .incorrect {
            color: var(--kurdish-red); /* Red for incorrect */
        }
         .correct-answer-display { /* Style for showing the correct answer in feedback */
             display: inline-block;
             margin-left: 5px;
             font-weight: normal;
             font-style: italic;
             color: #555; /* Greyish color */
         }


        /* Matching Game Styles */
        .matching-game {
            background-color: #FFF7E0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px; /* Spacing between game and content above */
            margin-bottom: 25px; /* Spacing between games */
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .matching-container {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 20px;
        }
        .matching-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
         /* REMOVED matching-column h4 style */
         .matching-item-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
         }
        .matching-item {
            padding: 12px 15px;
            background-color: white;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            font-weight: 500;
        }
        .matching-item:hover { background-color: #FFF2C2; }
        .matching-item.selected {
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border-color: #DBA53A;
        }
        .matching-item.matched {
            background-color: #4F7942;
            color: white;
            border-color: #3B5A31;
            cursor: default;
            opacity: 0.7;
        }
        .matching-result { text-align: center; margin-top: 15px; }
        .matching-feedback {
            font-weight: bold;
            margin-bottom: 12px;
            min-height: 1.5em;
        }
        .matching-feedback.correct { color: var(--kurdish-green); }
        .matching-feedback.incorrect { color: var(--kurdish-red); }
        .match-progress {
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--text-color);
        }
         .match-progress .matches-count { font-weight: 700; }


        /* Fill-in Exercise (Subjunctive - Style EXACTLY like Ukrainian Ex 3) */
        .fill-exercise { /* Container for the whole fill-in exercise section */
             background-color: var(--light-green); /* Match general exercise background */
             padding: 20px;
             border-radius: 8px;
             margin: 25px 0;
        }
        .fill-item { /* Container for each question/input pair */
            background-color: white; /* White background for each item */
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .exercise-row { /* Row containing sentence parts and input */
            display: flex;
            align-items: baseline; /* Align text and input nicely */
            gap: 8px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            color: var(--text-color);
            font-weight: 500;
            line-height: 1.8; /* Improve spacing with input */
        }
        .fill-input { /* Input field style */
            width: 150px; /* Adjust width as needed */
            padding: 8px 12px;
            border: 2px solid var(--kurdish-yellow);
            border-radius: 6px;
            font-size: 16px;
            font-family: inherit;
            margin: 0 5px; /* Add some horizontal margin */
            background-color: #f8f8f8; /* Slightly greyed out for readonly */
            text-align: center; /* Center text in input */
        }
        .fill-input:focus { outline: none; } /* Remove focus outline for readonly */
        .verb-hint { /* Style for the hint like (çûn - to go) */
             font-size: 0.9em;
             color: #555;
             margin-left: 5px;
         }
        .key-container { /* Container for clickable key buttons */
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 12px;
            margin-top: 8px; /* Add space above keys */
        }
        .key-btn { /* Style for individual key buttons */
            padding: 5px 12px;
            background-color: var(--background-cream);
            border: 1px solid var(--kurdish-yellow);
            border-radius: 6px;
            cursor: pointer;
            color: var(--text-color);
            font-size: 0.9em;
            font-family: inherit;
            text-align: center;
        }
        .key-btn:hover { background-color: var(--kurdish-yellow); }
        .fill-check { /* Check button specific to fill-in exercises */
            background-color: var(--kurdish-yellow);
            color: var(--text-color);
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: background-color 0.2s ease;
            display: block; /* Make button block level */
            margin-top: 10px; /* Add margin */
        }
        .fill-check:hover { background-color: #DBA53A; }
        .fill-feedback { /* Feedback specific to fill-in exercises */
            margin-top: 10px;
            font-weight: bold;
            min-height: 1.5em; /* Reserve space */
        }
        .fill-feedback.correct { color: var(--kurdish-green); }
        .fill-feedback.incorrect { color: var(--kurdish-red); }


        /* Dialogue box styles */
        .dialogue-box {
            background-color: #f5f5f5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .dialogue-line { margin-bottom: 10px; }
        .speaker { font-weight: bold; color: var(--kurdish-red); margin-right: 10px; }

        /* Activity card styles */
        .activities-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0; }
        .activity-card { background-color: var(--light-green); border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; }
        .activity-phrase { font-weight: bold; margin-bottom: 5px; color: #4F7942; }

        /* Navigation */
        .nav-buttons-container { display: flex; justify-content: center; margin-top: 30px; margin-bottom: 40px; padding: 0 10px; }
        .nav-button { background-color: var(--kurdish-red); color: white; border: none; border-radius: 12px; padding: 15px 20px; font-family: 'Nunito', Arial, sans-serif; font-weight: 600; font-size: 1.3rem; cursor: pointer; box-shadow: 0 3px 10px rgba(0,0,0,0.1); transition: all 0.3s ease; text-decoration: none; text-align: center; display: inline-block; line-height: 1.4; }
        .nav-button:hover { background-color: #7e2223; }

        /* Vocabulary section styles */
        .vocabulary-section { background-color: var(--background-cream); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .vocab-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0; }
        .vocab-item { background-color: white; border-radius: 8px; padding: 12px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .kurdish-word { font-weight: bold; color: var(--kurdish-red); margin-bottom: 5px; }
        /* Added style for sub-exercise headings */
        .vocabulary-section h4 {
            color: var(--text-color); /* Match body text */
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 20px; /* Add space above sub-exercise */
            margin-bottom: 5px; /* Space below heading */
        }


        /* Word Order Game Styles */
         .word-order-game { background-color: var(--background-cream); padding: 15px; border-radius: 8px; margin: 20px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
         .game-sentence { background-color: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
         .game-sentence.completed { background-color: var(--light-green); border-left: 4px solid var(--kurdish-green); }
         .game-sentence-translation { font-weight: 600; margin-bottom: 15px; color: var(--text-color); }
         .sentence-number { display: inline-block; min-width: 45px; font-weight: 700; color: var(--kurdish-red); }
         .solution-area { min-height: 60px; padding: 10px; background-color: #f1f8e9; border-radius: 8px; display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; border: 2px dashed var(--kurdish-green); }
         .words-bank { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; background-color: #FFF7E0; border-radius: 6px; margin-bottom: 10px; }
         .word-box { display: inline-block; padding: 8px 12px; background-color: var(--kurdish-yellow); color: var(--text-color); border-radius: 5px; cursor: pointer; user-select: none; margin: 0; font-weight: 500; border: 2px solid transparent; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease; }
         .solution-area .word-box { background-color: #beddb0; border-color: var(--kurdish-green); }
         .word-box:active { transform: scale(0.95); }
         .word-box.modal { background-color: var(--kurdish-red); color: white; }
         .solution-area .word-box.modal { background-color: #c35758; color: white; }
         .game-feedback { margin-top: 10px; font-weight: 600; min-height: 1.5em; }
         .feedback-correct { color: var(--kurdish-green); }
         .feedback-incorrect { color: var(--kurdish-red); }
         .sentence-buttons { display: flex; gap: 10px; margin-top: 10px; }
         .word-order-game .check-btn,
         .word-order-game .show-answer-btn,
         .word-order-game .delete-btn { flex: 1; padding: 8px 15px; margin-top: 0; }
         .word-order-game .show-answer-btn { background-color: #E5F0E3; }
         .word-order-game .show-answer-btn:hover { background-color: #D5E0D3; }
         .word-order-game .delete-btn { background-color: #ef9a9a; color: var(--text-color); }
         .word-order-game .delete-btn:hover { background-color: #ef5350; color: white; }

        /* Translation button */
        .trans-btn { background-color: var(--kurdish-yellow); border: none; border-radius: 4px; padding: 3px 8px; margin-left: 10px; font-size: 0.8em; cursor: pointer; transition: background-color 0.2s; }
        .trans-btn:hover { background-color: #EAB72C; }
        .translation { display: none; font-style: italic; color: #666; margin-top: 5px; padding-left: 60px; }

        /* Completion Banner */
         .completion-banner { background-color: var(--kurdish-green); padding: 25px; border-radius: 12px; text-align: center; margin: 30px 0; color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
         .completion-banner h2 { color: white; font-size: 1.7rem; margin-top: 0; }
         .celebration { font-size: 2.5rem; margin: 10px 0; }

        /* Media Queries */
        @media (max-width: 600px) {
            .section, .title-section, .exercise, .fill-exercise, .matching-game, .word-order-game { padding: 20px 15px; border-radius: 10px; }
            h1 { font-size: 1.6rem; } h2 { font-size: 1.3rem; } h3 { font-size: 1.1rem; }
            table { display: block; overflow-x: auto; white-space: nowrap; } th, td { padding: 10px 12px; } th { font-size: 0.9rem; padding: 10px 8px; }
            body { padding: 10px; }
            .check-btn { margin-top: 10px; width: 100%; max-width: 300px; padding: 12px; }
            .feedback { display: block; margin-top: 8px; }
            .matching-container { flex-direction: column; gap: 15px; }
            .matching-item { font-size: 1em; padding: 10px 12px; }
            /* Fill-in exercise mobile */
            .exercise-row { flex-direction: column; align-items: flex-start; gap: 5px;}
            .fill-input { width: 100%; max-width: none; margin: 5px 0; }
            .key-container { justify-content: flex-start; }
            .fill-check { width: auto; margin-top: 10px; }
            .activities-grid, .vocab-grid { grid-template-columns: 1fr; } /* Changed from 3 to 1 for vocab grid */
            .nav-buttons-container { flex-direction: column; gap: 15px; }
            .nav-button { width: 100%; margin: 0; font-size: 1rem; }
            /* Word order game mobile */
             .sentence-buttons { flex-direction: column; }
             .word-order-game .check-btn,
             .word-order-game .show-answer-btn,
             .word-order-game .delete-btn { width: 100%; }
             .translation { padding-left: 10px; }
        }
        @media (max-width: 450px) {
            .matching-item { padding: 10px 8px; font-size: 0.9em; }
            .matching-column { gap: 8px; }
            .matching-container { gap: 8px; }
            .key-btn { font-size: 0.8em; padding: 4px 8px;}
            .nav-button { padding: 12px 15px; }
            .word-box { padding: 6px 10px; font-size: 0.9em;}
            .vocab-grid { grid-template-columns: repeat(2, 1fr); } /* 2 columns for very small screens */
        }
        @media (min-width: 451px) and (max-width: 600px) {
             .vocab-grid { grid-template-columns: repeat(2, 1fr); } /* 2 columns for small screens */
        }
    </style>
</head>
<body>
    <div class="title-section">
        <h1>Lektion 8: <br>Futur, Komparativ und Konditionalsätze</h1>
        <hr>
    </div>

    <div class="section">
        <h3>Lernziele</h3>
        <ul>
             <li><a href="#continuous-past-review" style="color: inherit; text-decoration: none;">Wiederholung: Verlaufsform der Vergangenheit</a></li>
             <li><a href="#future-tense" style="color: inherit; text-decoration: none;">Futur</a></li>
             <li><a href="#negative-future" style="color: inherit; text-decoration: none;">Negatives Futur</a></li>
             <li><a href="#future-tense-usage" style="color: inherit; text-decoration: none;">Verwendung des Futurs</a></li>
             <li><a href="#comparative-forms" style="color: inherit; text-decoration: none;">Komparativformen</a></li>
             <li><a href="#expressing-preferences" style="color: inherit; text-decoration: none;">Präferenzen ausdrücken</a></li>
             <li><a href="#conditionals" style="color: inherit; text-decoration: none;">Konditionalsätze</a></li>
             <li><a href="#word-order-game" style="color: inherit; text-decoration: none;">Wortstellung</a></li>
             <li><a href="#dialogue" style="color: inherit; text-decoration: none;">Dialog</a></li>
        </ul>
    </div>

    <div class="section" id="continuous-past-review">
        <h2>1. Wiederholung: Verlaufsform der Vergangenheit</h2>
        <p>Lassen Sie uns die Verlaufsform der Vergangenheit wiederholen, die wir in der letzten Lektion gelernt haben:</p>
        
        <h3>Transitive Verben in der Verlaufsform der Vergangenheit:</h3>
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
             <tr><td><strong>Me</strong> mal <strong>dipaqij dikir</strong>.</td><td>Wir <strong>reinigten</strong> das Haus.</td></tr>
            <tr><td><strong>We</strong> xwarin <strong>diçêkir</strong>.</td><td>Ihr <strong>bereitetet</strong> Essen <strong>zu</strong>.</td></tr>
            <tr><td><strong>Wan</strong> nan <strong>dikirin</strong>.</td><td>Sie <strong>kauften</strong> Brot.</td></tr>
        </table>
        
        <h3>Intransitive Verben in der Verlaufsform der Vergangenheit:</h3>
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
            <tr><td><strong>Ez</strong> <strong>diçûm</strong> dibistanê.</td><td>Ich <strong>ging</strong> zur Schule.</td></tr>
            <tr><td><strong>Tu</strong> <strong>dihatî</strong> malê.</td><td>Du <strong>kamst</strong> nach Hause.</td></tr>
            <tr><td><strong>Ew</strong> <strong>direyî</strong>.</td><td>Er/Sie <strong>lief</strong>.</td></tr>
            </table>
        

        
        <div class="fill-exercise">
            <h3>Übung 1: Ergänzen Sie die korrekte Form der Verlaufsform der Vergangenheit</h3>
    
            <div class="fill-item" data-correct="diçûm">
                <div class="exercise-row">
                    <span>Ez dibistanê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>dema ku Azad hat.</span><span class="verb-hint">(Ich ging zur Schule, als Azad kam.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">çûm</button>
                    <button class="key-btn">diçûm</button>
                    <button class="key-btn">biçim</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="dixwend">
                <div class="exercise-row">
                    <span>Wî pirtûk</span>
                    <input type="text" class="fill-input" readonly>
                    <span>li malê.</span><span class="verb-hint">(Er las ein Buch zu Hause.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">xwend</button>
                    <button class="key-btn">dixwend</button>
                    <button class="key-btn">xwendin</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            
    
            <div class="fill-item" data-correct="dipeyivî">
                <div class="exercise-row">
                    <span>Dema ku ez hatim, ew</span>
                    <input type="text" class="fill-input" readonly>
                    <span>bi telefonê.</span><span class="verb-hint">(Als ich kam, telefonierte sie.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">dipeyivî</button>
                    <button class="key-btn">peyivî</button>
                    <button class="key-btn">peyivîbû</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
        </div>
    </div>

    <div class="section" id="future-tense">
        <h2>2. Futur</h2>
        <p>Wir bilden das einfache Futur, indem wir den Futurmarker <strong>ê</strong> nach dem Subjekt und vor dem Verb verwenden und das Verb mit dem Konjunktiv <strong>bi-</strong> konjugieren.</p>
        
<div class="note">
            <p>Hinweis: Denken Sie an das Präfix "bi-" als etwas, das in der Realität noch nicht vollständig existiert. Es zeigt oft Verben, die möglicherweise geschehen oder in Zukunft geschehen werden. Aber sie sind noch nicht real!</p>
        </div>

        <div class="note">
            <p>Hinweis II: Nicht nur <strong>ê</strong> wird als Futurmarker verwendet. Auch <strong>dê</strong>, <strong>kê</strong> und <strong>wê</strong> können je nach Dialekt verwendet werden. Interessanterweise werden viele Kurden außerhalb von Afrin nicht glauben, dass <strong>kê</strong> im Afrin-Dialekt als Futurmarker verwendet wird.</p>
        </div>
        
        <h3>Struktur des Futurs:</h3>
        <table>
            <tr><th>Struktur</th><th>Beispiel</th><th>Übersetzung</th></tr>
            <tr><td>Subjekt + ê + Verb (mit bi-)</td><td>Ez ê biçim.</td><td>Ich werde gehen.</td></tr>
        </table>
        
        <h3>Konjugation des Futurs:</h3>
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
            <tr><td>Ez <strong>ê biçim</strong>.</td><td>Ich <strong>werde gehen</strong>.</td></tr>
            <tr><td>Tu <strong>ê biçî</strong>.</td><td>Du <strong>wirst gehen</strong>.</td></tr>
            <tr><td>Ew <strong>ê biçe</strong>.</td><td>Er/Sie <strong>wird gehen</strong>.</td></tr>
            <tr><td>Em <strong>ê biçin</strong>.</td><td>Wir <strong>werden gehen</strong>.</td></tr>
            <tr><td>Hûn <strong>ê biçin</strong>.</td><td>Ihr <strong>werdet gehen</strong>.</td></tr>
            <tr><td>Ew <strong>ê biçin</strong>.</td><td>Sie <strong>werden gehen</strong>.</td></tr>
        </table>
        
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ez <strong>ê sibehê biçim</strong> nexweşxaneyê. (Ich <strong>werde morgen</strong> ins Krankenhaus <strong>gehen</strong>.)</p>
            <p>Tu <strong>ê kengî bêyî</strong> mala me? (<strong>Wann wirst du</strong> zu uns nach Hause <strong>kommen</strong>?)</p>
            <p>Ew <strong>ê çawa we nas bikin</strong>? (Wie <strong>werden sie</strong> euch <strong>kennenlernen</strong>?)</p>
        </div>
        
        <div class="fill-exercise">
             <h3>Übung 1: Ergänzen Sie die richtige Form des Futurs</h3>

             <div class="fill-item" data-correct="ê biçim">
                 <div class="exercise-row">
                     <span>Ez sibehê</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-1" readonly>
                     <span>dibistanê.</span><span class="verb-hint">(Ich werde morgen zur Schule gehen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">ê biçim</button>
                     <button class="key-btn">diçim</button>
                     <button class="key-btn">ê diçim</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="ê bixwî">
                 <div class="exercise-row">
                     <span>Tu çi</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-2" readonly>
                     <span>?</span><span class="verb-hint">(Was wirst du essen?)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dixwî</button>
                     <button class="key-btn">ê bixwî</button>
                     <button class="key-btn">ê xwarî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="ê bikirin">
                 <div class="exercise-row">
                     <span>Ew çi</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-3" readonly>
                     <span>?</span><span class="verb-hint">(Was werden sie kaufen?)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dikirin</button>
                     <button class="key-btn">ê bikire</button>
                     <button class="key-btn">ê bikirin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="ê bibin">
                 <div class="exercise-row">
                     <span>Hûn kengî</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-4" readonly>
                     <span>mamoste?</span><span class="verb-hint">(Wann werdet ihr Lehrer werden?)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dibin</button>
                     <button class="key-btn">ê bibin</button>
                     <button class="key-btn">ê bin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-4-feedback"></div>
             </div>

             <div class="fill-item" data-correct="ê bibe">
                 <div class="exercise-row">
                     <span>Ew</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-5" readonly>
                     <span>doktor.</span><span class="verb-hint">(Er/Sie wird Arzt/Ärztin werden.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dibe</button>
                     <button class="key-btn">ê dibe</button>
                     <button class="key-btn">ê bibe</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-5-feedback"></div>
             </div>

              <div class="fill-item" data-correct="ê bixwînin">
                 <div class="exercise-row">
                     <span>Em pirtûkê</span>
                     <input type="text" class="fill-input" id="fill-future-ex1-6" readonly>
                     <span>.</span><span class="verb-hint">(Wir werden das Buch lesen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dixwînin</button>
                     <button class="key-btn">ê bixwînin</button>
                     <button class="key-btn">ê xwendin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="fill-future-ex1-6-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="negative-future">
        <h2>3. Negatives Futur</h2>
        <p>Um das negative Futur im Kurmanji zu bilden, wird der Futurmarker <strong>ê</strong> weggelassen und <strong>na</strong> ersetzt den Konjunktiv <strong>bi-</strong>.</p>
        
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
            <tr><td>Ez <strong>naçim</strong>.</td><td>Ich <strong>werde nicht gehen</strong>.</td></tr>
            <tr><td>Tu <strong>naçî</strong>.</td><td>Du <strong>wirst nicht gehen</strong>.</td></tr>
            <tr><td>Ew <strong>naçe</strong>.</td><td>Er/Sie <strong>wird nicht gehen</strong>.</td></tr>
            <tr><td>Em <strong>naçin</strong>.</td><td>Wir <strong>werden nicht gehen</strong>.</td></tr>
            <tr><td>Hûn <strong>naçin</strong>.</td><td>Ihr <strong>werdet nicht gehen</strong>.</td></tr>
            <tr><td>Ew <strong>naçin</strong>.</td><td>Sie <strong>werden nicht gehen</strong>.</td></tr>
        </table>
        
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ez <strong>ê sibehê biçim</strong> nexweşxaneyê. (Ich <strong>werde</strong> morgen ins Krankenhaus <strong>gehen</strong>.)</p>
            <p>Tu <strong>ê kengî bêyî</strong> mala me? (Wann <strong>wirst du</strong> zu uns nach Hause <strong>kommen</strong>?)</p>
            <p>Em <strong>naçin</strong> dibistanê. (Wir <strong>werden nicht</strong> zur Schule <strong>gehen</strong>.)</p>
            <p>Ew <strong>naxwin</strong> goşt. (Sie <strong>werden</strong> kein Fleisch <strong>essen</strong>.)</p>
        </div>

        <div class="fill-exercise">
            <h3>Übung 2: Ergänzen Sie die korrekte negative Form des Futurs</h3>
    
            <div class="fill-item" data-correct="naçim">
                <div class="exercise-row">
                    <span>Ez sibehê dibistanê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(Ich werde morgen nicht zur Schule gehen.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">naçim</button>
                    <button class="key-btn">diçim</button>
                    <button class="key-btn">neçim</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="naxwin">
                <div class="exercise-row">
                    <span>Ew goşt</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(Sie werden kein Fleisch essen.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">naxwe</button>
                    <button class="key-btn">naxwin</button>
                    <button class="key-btn">nexwin</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="nakirin">
                <div class="exercise-row">
                    <span>Hûn tiştekî</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(Ihr werdet nichts kaufen.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">nakirin</button>
                    <button class="key-btn">nekirin</button>
                    <button class="key-btn">bikirin</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="nabînin">
                <div class="exercise-row">
                    <span>Em êdî tu car wê</span>
                    <input type="text" class="fill-input" readonly>
                    <span>.</span><span class="verb-hint">(Wir werden sie nie wieder sehen.)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">nabînin</button>
                    <button class="key-btn">nebînin</button>
                    <button class="key-btn">dibînin</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
    
            <div class="fill-item" data-correct="naxebitî">
                <div class="exercise-row">
                    <span>Tu sibe</span>
                    <input type="text" class="fill-input" readonly>
                    <span>?</span><span class="verb-hint">(Wirst du morgen nicht arbeiten?)</span>
                </div>
                <div class="key-container">
                    <button class="key-btn">naxebitî</button>
                    <button class="key-btn">nexebitî</button>
                    <button class="key-btn">dixebitî</button>
                </div>
                <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                <div class="fill-feedback"></div>
            </div>
        </div>
    </div>

    <div class="section" id="future-tense-usage">
        <h2>4. Verwendung des Futurs</h2>
        <p>Das Futur im Kurmanji wird in ähnlichen Situationen wie im Deutschen verwendet, zum Beispiel:</p>
        
        <h3>Vorhersagen machen:</h3>
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ew <strong>ê bibe</strong> doktor. (Er/Sie <strong>wird</strong> Arzt/Ärztin <strong>werden</strong>.)</p>
            <p>Hûn <strong>ê bibînin</strong>, hemû tişt <strong>ê baş bibin</strong>. (Ihr <strong>werdet sehen</strong>, alles <strong>wird</strong> gut <strong>sein</strong>.)</p>
        </div>
        
        <h3>Pläne machen:</h3>
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ez <strong>ê sibehê herim</strong> Amedê. (Ich <strong>werde</strong> morgen nach Amed <strong>gehen</strong>.)</p>
            <p>Em <strong>ê îşev fîlmekî bibînin</strong>. (Wir <strong>werden</strong> heute Abend einen Film <strong>schauen</strong>.)</p>
        </div>
        
        <h3>Versprechen machen:</h3>
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ez <strong>ê alîkariya te bikim</strong>. (Ich <strong>werde dir helfen</strong>.)</p>
            <p>Ew <strong>ê bi te re werin</strong>. (Sie <strong>werden</strong> mit dir <strong>kommen</strong>.)</p>
        </div>
        
        <div class="exercise">
            <h3>Übung 3: Ordnen Sie die Futursätze ihren deutschen Übersetzungen zu</h3>
            <div class="matching-game" id="future-matching">
                <div class="match-progress">Übereinstimmungen: <span class="matches-count">0</span>/6</div>
                <div class="matching-container">
                    <div class="matching-column">
                        <div class="matching-item-container kurdish-container">
                            <div class="matching-item kurdish" data-id="1">Ez ê nan û penêr bikîrim.</div>
                            <div class="matching-item kurdish" data-id="2">Tu ê kengî karekî bibînî?</div>
                            <div class="matching-item kurdish" data-id="3">Ew ê çi bixwin?</div>
                            <div class="matching-item kurdish" data-id="4">Hûn ê çi bikin?</div>
                            <div class="matching-item kurdish" data-id="5">Em ê îro bi hev re werin.</div>
                            <div class="matching-item kurdish" data-id="6">Ew naçe mektebê.</div>
                        </div>
                    </div>
                    <div class="matching-column">
                        <div class="matching-item-container english-container">
                            <div class="matching-item english" data-id="1">Ich werde Brot und Käse kaufen.</div>
                            <div class="matching-item english" data-id="2">Wann wirst du einen Job finden?</div>
                            <div class="matching-item english" data-id="3">Was werden sie essen?</div>
                            <div class="matching-item english" data-id="4">Was werdet ihr tun?</div>
                            <div class="matching-item english" data-id="5">Wir werden heute zusammen kommen.</div>
                            <div class="matching-item english" data-id="6">Er/Sie wird nicht zur Schule gehen.</div>
                        </div>
                    </div>
                </div>
                <div class="matching-feedback"></div>
            </div>
        </div>
    </div>

    <div class="section" id="comparative-forms">
        <h2>5. Komparativformen</h2>
        <p>Um die Komparativform von Adjektiven zu bilden:</p>
        <ol>
            <li>fügen wir das Suffix <strong>–tir</strong> zur Grundform (der ersten Form) des Adjektivs hinzu</li>
            <li>verwenden wir die Präposition <strong>ji</strong> 'von' vor dem verglichenen Substantiv</li>
        </ol>
        <p>Wenn der letzte Buchstabe des Adjektivs bereits ein <strong>t</strong> ist, lassen wir das <strong>t</strong> des Komparativsuffixes weg.</p>
        
        <h3>Regelmäßige Komparative:</h3>
        <table>
            <tr><th>Grundform</th><th>Komparativform</th><th>Deutsch</th></tr>
            <tr><td>mezin (groß)</td><td>mezintir</td><td>größer</td></tr>
            <tr><td>baş (gut)</td><td>baştir</td><td>besser</td></tr>
            <tr><td>biha (teuer)</td><td>bihatir</td><td>teurer</td></tr>
            <tr><td>dirêj (lang)</td><td>dirêjtir</td><td>länger</td></tr>
            <tr><td>lez (schnell)</td><td>leztir</td><td>schneller</td></tr>
        </table>
        
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Meyrem <strong>ji birayê xwe mezintir e.</strong> (Meyrem ist <strong>älter als</strong> ihr Bruder.)</p>
            <p>Ev cil û berg <strong>ji yên modern bihatir in.</strong> (Diese Kleidung ist <strong>teurer als</strong> die moderne.)</p>
            <p>Hevokên min <strong>ji yên te dirêjtir in.</strong> (Meine Sätze sind <strong>länger als</strong> deine.)</p>
            <p>Tu <strong>ji min baştir</strong> dixebitî. (Du arbeitest <strong>besser als</strong> ich.)</p>
            <p>Ew <strong>ji me hemiyan leztir</strong> dibezin. (Sie laufen <strong>schneller als</strong> wir alle.)</p>
        </div>
        
        <h3>Weitere Komparative:</h3>

        <table>
            <tr><th>Grundform</th><th>Komparativform</th><th>Deutsch</th></tr>
            <tr><td>pir (viel)</td><td>pirtir oder bêtir</td><td>mehr</td></tr>
            <tr><td>baş (gut)</td><td>baştir oder çêtir</td><td>besser</td></tr>
            <tr><td>mezin (groß)</td><td>mezintir oder meztir</td><td>größer</td></tr>
        </table>
        
        <div class="note">
            <p>Hinweis: Obwohl es im Kurmanji eine Möglichkeit gibt, einen Superlativ (der meiste, der größte) auszudrücken, scheint dieses Konzept außerhalb von Lehrbüchern nicht zu existieren oder ist in den kurdischen Kulturen, mit denen ich vertraut bin, sehr unwichtig. Stattdessen stellt man einfach ein Wort für "sehr" vor das, worüber man spricht.</p>
            <p>Beispiel: <strong>Ev pir xweş e.</strong> (Das ist sehr schön.) anstatt "Das ist das Schönste."</p>
            <p>Ebenso wird kein Wert auf Dinge gelegt, die "am höchsten" eingestuft werden. Man würde zum Beispiel nicht sagen, dass etwas "mein Lieblings-" ist. Man würde einfach sagen: "Ich mag es sehr."</p>
            <p>Beispiel: <strong>Ez ji vê pir hez dikim.</strong> (Ich mag das sehr.) anstatt "Das ist mein Lieblings-."</p>
        </div>
        
        <div class="fill-exercise">
             <h3>Übung 4: Bilden Sie den Komparativ</h3>

             <div class="fill-item" data-correct="bihatir">
                 <div class="exercise-row">
                     <span>Ev mal ji mala wî</span>
                     <input type="text" class="fill-input" id="comp-ex-1" readonly>
                     <span>e.</span><span class="verb-hint">(Dieses Haus ist teurer als sein Haus.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">biha</button>
                     <button class="key-btn">bihatir</button>
                     <button class="key-btn">bihatirîn</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="comp-ex-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="mezintir">
                 <div class="exercise-row">
                     <span>Bajarê wan ji bajarê me</span>
                     <input type="text" class="fill-input" id="comp-ex-2" readonly>
                     <span>e.</span><span class="verb-hint">(Ihre Stadt ist größer als unsere Stadt.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">mezin</button>
                     <button class="key-btn">mezintir</button>
                     <button class="key-btn">meztir</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="comp-ex-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="xweştir">
                 <div class="exercise-row">
                     <span>Ev xwarin ji ya duh</span>
                     <input type="text" class="fill-input" id="comp-ex-3" readonly>
                     <span>e.</span><span class="verb-hint">(Dieses Essen ist besser als das von gestern.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">baştir</button>
                     <button class="key-btn">çêtir</button>
                     <button class="key-btn">xweştir</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="comp-ex-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="dirêjtir">
                 <div class="exercise-row">
                     <span>Porê wê ji yê te</span>
                     <input type="text" class="fill-input" id="comp-ex-4" readonly>
                     <span>e.</span><span class="verb-hint">(Ihr Haar ist länger als deins.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dirêj</button>
                     <button class="key-btn">dirêjtir</button>
                     <button class="key-btn">dirêjî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="comp-ex-4-feedback"></div>
             </div>
             
             <div class="fill-item" data-correct="bêtir">
                 <div class="exercise-row">
                     <span>Min ji te</span>
                     <input type="text" class="fill-input" id="comp-ex-5" readonly>
                     <span>xebitî.</span><span class="verb-hint">(Ich habe mehr gearbeitet als du.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">pirtir</button>
                     <button class="key-btn">bêtir</button>
                     <button class="key-btn">pir</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="comp-ex-5-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="expressing-preferences">
        <h2>6. Präferenzen ausdrücken</h2>
        <p>Im Kurmanji können wir Komparativformen verwenden, um Präferenzen auszudrücken:</p>
        
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p>Ez <strong>bêtir ji</strong> çayê <strong>hez dikim</strong> (Ich mag Tee <strong>mehr</strong>.)</p>
            <p>Birayê min <strong>ji min mezintir</strong> e. (Mein Bruder ist <strong>älter als</strong> ich.)</p>
            <p>Ez <strong>pir ji</strong> vê pirtûkê <strong>hez dikim</strong>. (Ich mag dieses Buch <strong>sehr</strong>.)</p>
        </div>
        
        <div class="vocabulary-section">
            <h3>Häufige Vergleichs- und Präferenzwörter</h3>
            <div class="vocab-grid">
                <div class="vocab-item"> <div class="kurdish-word">mezintir</div> <div>größer, älter</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">biçûktir</div> <div>kleiner, jünger</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">dirêjtir</div> <div>länger</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">kurttir</div> <div>kürzer</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">baştir</div> <div>besser</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">xiraktir</div> <div>schlechter</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">xweştir</div> <div>schöner, angenehmer</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">bêtir</div> <div>mehr</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">kêmtir</div> <div>weniger</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">pir</div> <div>sehr, viel</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">gelekî</div> <div>sehr viel</div> </div>
                <div class="vocab-item"> <div class="kurdish-word">ji ... hez kirin</div> <div>mögen</div> </div>
            </div>
             <div class="exercise">
                <h4>Übung 5: Ordnen Sie die Vergleichswörter zu</h4>
                <div class="matching-game" id="comparison-matching">
                    <div class="match-progress">Übereinstimmungen: <span class="matches-count">0</span>/8</div>
                    <div class="matching-container">
                        <div class="matching-column">
                            <div class="matching-item-container kurdish-container">
                                <div class="matching-item kurdish" data-id="1">mezintir</div>
                                <div class="matching-item kurdish" data-id="2">biçûktir</div>
                                <div class="matching-item kurdish" data-id="3">dirêjtir</div>
                                <div class="matching-item kurdish" data-id="4">kurttir</div>
                                <div class="matching-item kurdish" data-id="5">baştir</div>
                                <div class="matching-item kurdish" data-id="6">xiraktir</div>
                                <div class="matching-item kurdish" data-id="7">bêtir</div>
                                <div class="matching-item kurdish" data-id="8">kêmtir</div>
                            </div>
                        </div>
                        <div class="matching-column">
                            <div class="matching-item-container english-container">
                                <div class="matching-item english" data-id="1">größer/älter</div>
                                <div class="matching-item english" data-id="2">kleiner/jünger</div>
                                <div class="matching-item english" data-id="3">länger</div>
                                <div class="matching-item english" data-id="4">kürzer</div>
                                <div class="matching-item english" data-id="5">besser</div>
                                <div class="matching-item english" data-id="6">schlechter</div>
                                <div class="matching-item english" data-id="7">mehr</div>
                                <div class="matching-item english" data-id="8">weniger</div>
                            </div>
                        </div>
                    </div>
                    <div class="matching-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="section" id="conditionals">
        <h2>7. Konditionalsätze</h2>
        <p>Der Konditionalsatz wird gebildet, indem man eines der Wörter <strong>heke, ku, ger, eger, heger</strong> (alle bedeuten <em>wenn</em>) an den Anfang des Satzes stellt und das Verb in der Gegenwartsform des Konjunktivs konjugiert, wie im Futur. Für diese Lektion konzentrieren wir uns nur auf die Konditionalsätze in der Gegenwart. Wir bevorzugen das Konditionswort <strong>heke</strong>, da es das häufigste Wort zur Bildung von Konditionalsätzen ist.</p>
        
        <h3>Struktur des Konditionalsatzes der Gegenwart:</h3>
        <table>
            <tr><th>Konditionswort</th><th>Bedeutung</th></tr>
            <tr><td>Heke, ku, ger, eger, heger</td><td>wenn</td></tr>
        </table>
        
        <h3>Konditionalsatz der Gegenwart - Affirmativ:</h3>
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
            <tr><td>Heke ez biçim.</td><td>Wenn ich gehe.</td></tr>
        </table>
        
        <h3>Konditionalsatz der Gegenwart - Negativ:</h3>
        <p>Für die negative Form des Konditionalsatzes der Gegenwart ersetzen wir einfach das konjunktive <strong>bi-</strong> durch den Negationsmarker <strong>ne-</strong> und lassen den Rest unverändert.</p>
        
        <table>
            <tr><th>Kurmanji</th><th>Deutsch</th></tr>
            <tr><td>Heke ez neçim.</td><td>Wenn ich nicht gehe.</td></tr>
        </table>
        
        
        <div class="examples">
            <p><strong>Beispiele:</strong></p>
            <p><strong>Heke zarokên me kurdî fêr nebin, ê xetereke mezin çêbe.</strong> (<strong>Wenn</strong> unsere Kinder nicht Kurdisch lernen, <strong>wird</strong> es eine große Gefahr <strong>geben</strong>.)</p>
            <p><strong>Heke hûn biçin bazarê, hûn dikarin tiştên gelek erzan peyda bikin.</strong> (<strong>Wenn</strong> ihr zum Markt geht, <strong>könnt</strong> ihr sehr günstige Dinge finden.)</p>
            <p><strong>Heke ez ne xelet bim, ew li Stenbolê dixwîne.</strong> (<strong>Wenn</strong> ich nicht falsch liege, <strong>studiert</strong> er in Istanbul.)</p>
        </div>
        
        <div class="fill-exercise">
             <h3>Übung 6: Vervollständigen Sie die Konditionalsätze</h3>

             <div class="fill-item" data-correct="biçî">
                 <div class="exercise-row">
                     <span>Heke tu dibistanê</span>
                     <input type="text" class="fill-input" id="cond-ex-1" readonly>
                     <span>, dê tu tiştan fêr bibî.</span><span class="verb-hint">(Wenn du zur Schule gehst, wirst du Dinge lernen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">diçî</button>
                     <button class="key-btn">biçî</button>
                     <button class="key-btn">çûyî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="cond-ex-1-feedback"></div>
             </div>

             <div class="fill-item" data-correct="nexebitî">
                 <div class="exercise-row">
                     <span>Heke tu</span>
                     <input type="text" class="fill-input" id="cond-ex-2" readonly>
                     <span>, tu nabî dewlemend.</span><span class="verb-hint">(Wenn du nicht arbeitest, wirst du nicht reich werden.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">nexebitî</button>
                     <button class="key-btn">bixebitî</button>
                     <button class="key-btn">naxebitî</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="cond-ex-2-feedback"></div>
             </div>

             <div class="fill-item" data-correct="bixwin">
                 <div class="exercise-row">
                     <span>Heke ew pirtûkê</span>
                     <input type="text" class="fill-input" id="cond-ex-3" readonly>
                     <span>, dê zanyariya wan zêde bibe.</span><span class="verb-hint">(Wenn sie das Buch lesen, wird ihr Wissen zunehmen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">dixwînin</button>
                     <button class="key-btn">bixwînin</button>
                     <button class="key-btn">bixwin</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="cond-ex-3-feedback"></div>
             </div>

             <div class="fill-item" data-correct="herim">
                 <div class="exercise-row">
                     <span>Ger ez Kurdistanê</span>
                     <input type="text" class="fill-input" id="cond-ex-4" readonly>
                     <span>, ez ê gelek bajaran bibînim.</span><span class="verb-hint">(Wenn ich nach Kurdistan gehe, werde ich viele Städte sehen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">diçim</button>
                     <button class="key-btn">herim</button>
                     <button class="key-btn">biçim</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="cond-ex-4-feedback"></div>
             </div>
             
             <div class="fill-item" data-correct="bê">
                 <div class="exercise-row">
                     <span>Heke baranê</span>
                     <input type="text" class="fill-input" id="cond-ex-5" readonly>
                     <span>, em naçin derve.</span><span class="verb-hint">(Wenn es regnet, werden wir nicht nach draußen gehen.)</span>
                 </div>
                 <div class="key-container">
                     <button class="key-btn">tê</button>
                     <button class="key-btn">bê</button>
                     <button class="key-btn">hat</button>
                 </div>
                 <button class="fill-check" onclick="checkFillAnswer(this)">Prüfen</button>
                 <div class="fill-feedback" id="cond-ex-5-feedback"></div>
             </div>
         </div>
    </div>

    <div class="section" id="word-order-game">
        <h2>8. Wortstellungsspiel</h2> <p>Ordnen Sie die Wörter in der richtigen Reihenfolge an, um Sätze mit Futur, Komparativ und Konditionalsätzen zu bilden.</p>
        <div class="word-order-game">
            <div id="sentences-container"></div>
        </div>
    </div>

    <div class="section" id="dialogue">
        <h2>9. Dialog</h2> <p>Lesen Sie diesen Dialog über Zukunftspläne und Vergleiche:</p>
        <div class="dialogue-box">
            <div class="dialogue-line"><span class="speaker">Azad:</span> Sibe tu dê çi bikî?<button class="trans-btn" onclick="toggleTranslation('trans1')">Übersetzung anzeigen</button><div id="trans1" class="translation">Was wirst du morgen machen?</div></div>
            <div class="dialogue-line"><span class="speaker">Rojîn:</span> Ez dê biçim bazarê. Divê ez hinekî tiştan bikîrim.<button class="trans-btn" onclick="toggleTranslation('trans2')">Übersetzung anzeigen</button><div id="trans2" class="translation">Ich werde zum Markt gehen. Ich muss einige Dinge kaufen.</div></div>
            <div class="dialogue-line"><span class="speaker">Azad:</span> Tu dê hevalên xwe jî bibînî?<button class="trans-btn" onclick="toggleTranslation('trans3')">Übersetzung anzeigen</button><div id="trans3" class="translation">Wirst du auch deine Freunde treffen?</div></div>
            <div class="dialogue-line"><span class="speaker">Rojîn:</span> Na, ez bawer nakim. Bazara nû ji ya kevin mezintir e.<button class="trans-btn" onclick="toggleTranslation('trans4')">Übersetzung anzeigen</button><div id="trans4" class="translation">Nein, ich glaube nicht. Der neue Markt ist größer als der alte.</div></div>
            <div class="dialogue-line"><span class="speaker">Azad:</span> Lê tiştên li wir bihatir in, ne wisa?<button class="trans-btn" onclick="toggleTranslation('trans5')">Übersetzung anzeigen</button><div id="trans5" class="translation">Aber die Dinge dort sind teurer, nicht wahr?</div></div>
            <div class="dialogue-line"><span class="speaker">Rojîn:</span> Belê, lê kalîteya wan jî baştir e.<button class="trans-btn" onclick="toggleTranslation('trans6')">Übersetzung anzeigen</button><div id="trans6" class="translation">Ja, aber ihre Qualität ist auch besser.</div></div>
            <div class="dialogue-line"><span class="speaker">Azad:</span> Heke tu sibê biçî bazarê, ez jî dê bi te re werim.<button class="trans-btn" onclick="toggleTranslation('trans7')">Übersetzung anzeigen</button><div id="trans7" class="translation">Wenn du morgen zum Markt gehst, werde ich mit dir kommen.</div></div>
            <div class="dialogue-line"><span class="speaker">Rojîn:</span> Baş e. Em dikarin li kafeyekê çayekê vexwin.<button class="trans-btn" onclick="toggleTranslation('trans8')">Übersetzung anzeigen</button><div id="trans8" class="translation">Gut. Wir können in einem Café einen Tee trinken.</div></div>
            <div class="dialogue-line"><span class="speaker">Azad:</span> Ez ji çayê bêtir hez dikim, lê tu dizanî ez ji qehweyê jî pir hez dikim.<button class="trans-btn" onclick="toggleTranslation('trans9')">Übersetzung anzeigen</button><div id="trans9" class="translation">Ich mag Tee mehr, aber du weißt, dass ich auch Kaffee sehr mag.</div></div>
            <div class="dialogue-line"><span class="speaker">Rojîn:</span> Heke em biçin kafeyê, em dikarin hem çay hem jî qehweyê vexwin.<button class="trans-btn" onclick="toggleTranslation('trans10')">Übersetzung anzeigen</button><div id="trans10" class="translation">Wenn wir ins Café gehen, können wir sowohl Tee als auch Kaffee trinken.</div></div>
            <div class="dialogue-line"><span class="speaker">Azad:</span> Wê demê, ez dê saet dehê li ber mala te bim.<button class="trans-btn" onclick="toggleTranslation('trans11')">Übersetzung anzeigen</button><div id="trans11" class="translation">In diesem Fall werde ich um zehn Uhr vor deinem Haus sein.</div></div>
        </div>
    </div>
    <div class="section">
        <div class="completion-banner">
            <div class="celebration">🌟 🌟 🌟</div>
            <h2>Pîroz be! Te Waneya 8 qedand!</h2>
            <p>Herzlichen Glückwunsch! Du hast Lektion 8 abgeschlossen!</p>
            <div class="celebration">🌟 🌟 🌟</div>
        </div>
    </div>

    <div class="nav-buttons-container">
        <a href="../kl_lessons_de.html" class="nav-button">Zurück zu allen Lektionen</a>
    </div>

    <script>
        // --- Utility Functions (Should be defined globally) ---
        function shuffleArray(array) {
            // Creates a shuffled copy of the input array using the Fisher-Yates algorithm.
            const newArray = [...array]; // Create a shallow copy
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1)); // Random index from 0 to i
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]]; // Swap elements
            }
            return newArray;
        }
        function arraysEqual(a, b) {
            // Checks if two arrays have the same elements in the same order.
            if (a.length !== b.length) return false; // Must have the same length
            return a.every((val, index) => val === b[index]); // Check each element
        }

        // --- Dialogue Translation Toggle (Should be defined globally for onclick) ---
        function toggleTranslation(id) {
            // Toggles the visibility of a translation element and updates the button text.
            const translation = document.getElementById(id);
            const button = translation.previousElementSibling; // Assumes button is right before the translation div
            if (translation && button) {
                if (translation.style.display === 'block') {
                    translation.style.display = 'none';
                    button.textContent = 'Übersetzung anzeigen';
                } else {
                    translation.style.display = 'block';
                    button.textContent = 'Übersetzung ausblenden';
                }
            }
        }

        // --- Matching Game Logic ---
        function initializeMatchingGame(gameId, totalPairs) {
            // Sets up the matching game functionality for a given game ID.
            const gameElement = document.getElementById(gameId);
            if (!gameElement) { console.error(`Matching game element not found: ${gameId}`); return; }
            const kurdishContainer = gameElement.querySelector('.matching-item-container.kurdish-container');
            const englishContainer = gameElement.querySelector('.matching-item-container.english-container');
            const feedbackElement = gameElement.querySelector('.matching-feedback');
            const matchesCountElement = gameElement.querySelector('.matches-count');

            if (!kurdishContainer || !englishContainer || !feedbackElement || !matchesCountElement) {
                console.error(`Missing elements within matching game: ${gameId}`); return;
            }

            let selected = { kurdish: null, english: null }; // Tracks selected items
            let matchCount = 0; // Tracks number of correct matches
            matchesCountElement.textContent = matchCount; // Initialize count display

            // --- SHUFFLING ---
            // Shuffle items within each column independently
            const kurdishItems = Array.from(kurdishContainer.children);
            shuffleArray(kurdishItems).forEach(item => kurdishContainer.appendChild(item));

            const englishItems = Array.from(englishContainer.children);
            shuffleArray(englishItems).forEach(item => englishContainer.appendChild(item));
            // --- END SHUFFLING ---

            const items = gameElement.querySelectorAll('.matching-item');

            items.forEach(item => {
                // Re-clone items to ensure clean event listeners on re-initialization (if needed)
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);

                // Add click listener to each matching item
                newItem.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return; // Ignore clicks on already matched items

                    const isKurdish = this.classList.contains('kurdish');
                    const side = isKurdish ? 'kurdish' : 'english'; // Determine which column was clicked

                    // Deselect previous item on the same side if one was selected
                    if (selected[side]) { selected[side].classList.remove('selected'); }

                    // Select the current item
                    this.classList.add('selected');
                    selected[side] = this;

                    // Clear previous feedback
                    feedbackElement.textContent = '';
                    feedbackElement.className = 'matching-feedback';

                    // Check for a match if one item from each side is selected
                    if (selected.kurdish && selected.english) {
                        if (selected.kurdish.dataset.id === selected.english.dataset.id) {
                            // Correct match
                            selected.kurdish.classList.remove('selected');
                            selected.english.classList.remove('selected');
                            selected.kurdish.classList.add('matched');
                            selected.english.classList.add('matched');
                            matchCount++;
                            matchesCountElement.textContent = matchCount;
                            feedbackElement.textContent = '✓ Richtig!';
                            feedbackElement.classList.add('correct');
                            if (matchCount === totalPairs) { feedbackElement.textContent = ' Gut gemacht! Alle gefunden!'; }
                            selected = { kurdish: null, english: null }; // Reset selection
                        } else {
                            // Incorrect match
                            feedbackElement.textContent = '✗ Falsch. Versuche es noch einmal!';
                            feedbackElement.classList.add('incorrect');
                            const selK = selected.kurdish; const selE = selected.english;
                            // Briefly show selection before removing 'selected' class
                            setTimeout(() => {
                                if(selK) selK.classList.remove('selected');
                                if(selE) selE.classList.remove('selected');
                            }, 800);
                            selected = { kurdish: null, english: null }; // Reset selection
                        }
                    }
                });
                // Add touch feedback for mobile devices
                 newItem.addEventListener('touchstart', function() { this.style.opacity = '0.7'; }, {passive: true});
                 newItem.addEventListener('touchend', function() { this.style.opacity = '1'; });
            });
        }


        // --- Fill-in Exercise Logic ---
        function initializeFillInKeys() {
            // Adds click listeners to the key buttons in fill-in-the-blank exercises.
            document.querySelectorAll('.fill-exercise .key-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const fillItem = this.closest('.fill-item'); // Find the parent exercise item
                    if (!fillItem) return;
                    const input = fillItem.querySelector('.fill-input'); // Find the input within that item
                    if (input) {
                        input.value = this.textContent; // Set input value to the button's text
                        // Clear feedback and reset input style when a new option is chosen
                        const feedback = fillItem.querySelector('.fill-feedback');
                        if(feedback) {
                            feedback.textContent = '';
                            feedback.className = 'fill-feedback';
                        }
                        input.style.borderColor = "var(--kurdish-yellow)";
                        input.style.backgroundColor = "#f8f8f8";
                    }
                });
            });

            // Shuffle keys within each key container for variety
            document.querySelectorAll('.fill-exercise .key-container').forEach(container => {
                const keys = Array.from(container.children);
                shuffleArray(keys).forEach(key => container.appendChild(key));
            });
        }

        function checkFillAnswer(buttonElement) {
            // Checks the answer for a fill-in-the-blank item when the 'Check' button is clicked.
            const item = buttonElement.closest('.fill-item');
            if (!item) return;

            const input = item.querySelector('.fill-input');
            const feedback = item.querySelector('.fill-feedback');
            const correctAnswer = item.dataset.correct; // Get correct answer from data attribute
            const userAnswer = input ? input.value : null;

            if (!input || !feedback) {
                console.error(`Input or feedback element not found for item.`);
                return;
            }

            const trimmedUserAnswer = userAnswer ? userAnswer.trim() : '';
            const trimmedCorrectAnswer = correctAnswer ? correctAnswer.trim() : '';

            if (trimmedUserAnswer && trimmedUserAnswer === trimmedCorrectAnswer) {
                // Correct answer
                feedback.textContent = "✓ Richtig!";
                feedback.className = "fill-feedback correct";
                input.style.borderColor = "var(--kurdish-green)";
                input.style.backgroundColor = "#e5f0e3";
            } else if (trimmedUserAnswer) {
                // Incorrect answer
                feedback.innerHTML = `✗ Falsch. Korrekt wäre: <span class="correct-answer-display">${correctAnswer}</span>`;
                feedback.className = "fill-feedback incorrect";
                input.style.borderColor = "var(--kurdish-red)";
                input.style.backgroundColor = "#fff0f0";
            } else {
                // No answer selected
                feedback.textContent = "Bitte wähle eine Option aus, indem du auf eine Schaltfläche klickst.";
                feedback.className = "fill-feedback";
                input.style.borderColor = "var(--kurdish-yellow)";
                input.style.backgroundColor = "#f8f8f8";
            }
        }


        // --- Word Order Game Logic ---
        function initializeWordOrderGame() {
            // Sets up the word order game, creating sentence elements dynamically.
            const sentencesData = [
                { kurdish: "Ez ê sibehê biçim dibistanê.", english: "Ich werde morgen zur Schule gehen.", modalVerbs: ["Ez", "ê", "biçim"] },
                { kurdish: "Tu ê kengî bêyî mala me?", english: "Wann wirst du zu uns nach Hause kommen?", modalVerbs: ["Tu", "ê", "bêyî"] },
                { kurdish: "Em ê êdî tu car wê nebînin.", english: "Wir werden sie nie wieder sehen.", modalVerbs: ["Em", "ê", "nebînin"] },
                { kurdish: "Hevokên min ji yên te dirêjtir in.", english: "Meine Sätze sind länger als deine.", modalVerbs: ["dirêjtir", "in"] },
                { kurdish: "Tu ji min baştir dixebitî.", english: "Du arbeitest besser als ich.", modalVerbs: ["baştir", "dixebitî"] },
                { kurdish: "Ev mal ji mala wî bihatir e.", english: "Dieses Haus ist teurer als sein Haus.", modalVerbs: ["bihatir", "e"] },
                { kurdish: "Heke tu biçî dibistanê, ê tu tiştan fêr bibî.", english: "Wenn du zur Schule gehst, wirst du Dinge lernen.", modalVerbs: ["Heke", "biçî", "ê", "fêr bibî"] },
                { kurdish: "Heke baranê bê, em naçin derve.", english: "Wenn es regnet, werden wir nicht nach draußen gehen.", modalVerbs: ["Heke", "bê", "naçin"] }
            ];

            // Process sentence data into a more usable format
            const sentences = sentencesData.map(item => ({
                original: item.kurdish,
                english: item.english,
                modalVerbs: item.modalVerbs || [],
                // Split sentence into words, removing punctuation
                words: item.kurdish.replace(/[.?]/g, '').split(/\s+/).filter(word => word.length > 0)
            }));

            const gameContainer = document.getElementById('sentences-container');
            if (!gameContainer) { console.error("Word order game container 'sentences-container' not found."); return; }
            gameContainer.innerHTML = ''; // Clear previous content if re-initializing

            // Create HTML elements for each sentence
            sentences.forEach((sentence, index) => {
                const sentenceElement = document.createElement('div');
                sentenceElement.className = 'game-sentence';
                sentenceElement.id = `sentence-${index}`;

                // Display English translation and sentence number
                const translation = document.createElement('div');
                translation.className = 'game-sentence-translation';
                translation.innerHTML = `<span class="sentence-number">${index + 1}/${sentences.length}</span> ${sentence.english}`;
                sentenceElement.appendChild(translation);

                // Area where user drags/clicks words to form the sentence
                const solutionArea = document.createElement('div');
                solutionArea.className = 'solution-area';
                solutionArea.id = `solution-area-${index}`;
                sentenceElement.appendChild(solutionArea);

                // Bank containing the shuffled word boxes
                const wordsBank = document.createElement('div');
                wordsBank.className = 'words-bank';
                wordsBank.id = `words-bank-${index}`;
                sentenceElement.appendChild(wordsBank);

                // Shuffle words and create clickable boxes
                const shuffledWords = shuffleArray(sentence.words);
                shuffledWords.forEach(word => {
                    const wordElement = document.createElement('div');
                    wordElement.className = 'word-box';
                    wordElement.textContent = word;
                    // Add 'modal' class for specific styling if word is a modal verb
                    if (sentence.modalVerbs.includes(word)) {
                        wordElement.classList.add('modal');
                    }
                    // Add click listener to move word between bank and solution area
                    wordElement.addEventListener('click', () => {
                        const parent = wordElement.parentElement;
                        const targetBank = parent.classList.contains('words-bank') ? solutionArea : wordsBank;
                        targetBank.appendChild(wordElement);
                        // Clear feedback when words are moved
                        const feedbackElement = document.getElementById(`feedback-${index}`);
                        if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                    });
                    wordsBank.appendChild(wordElement);
                });

                // Feedback area for correct/incorrect messages
                const feedback = document.createElement('div');
                feedback.className = 'game-feedback';
                feedback.id = `feedback-${index}`;
                sentenceElement.appendChild(feedback);

                // Container for action buttons
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'sentence-buttons';

                // Check Answer button
                const checkButton = document.createElement('button');
                checkButton.className = 'check-btn';
                checkButton.textContent = 'Antwort prüfen';
                checkButton.onclick = () => checkSentence(index, sentences); // Pass index and sentences array
                buttonContainer.appendChild(checkButton);

                // Show Answer button
                const showAnswerButton = document.createElement('button');
                showAnswerButton.className = 'show-answer-btn';
                showAnswerButton.textContent = 'Lösung anzeigen';
                showAnswerButton.onclick = () => showAnswer(index, sentences); // Pass index and sentences array
                buttonContainer.appendChild(showAnswerButton);

                // Clear Box button
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'Box leeren';
                deleteBtn.onclick = () => { // Move all words from solution back to bank
                    const currentSolutionArea = document.getElementById(`solution-area-${index}`);
                    const currentWordsBank = document.getElementById(`words-bank-${index}`);
                    while (currentSolutionArea.firstChild) { currentWordsBank.appendChild(currentSolutionArea.firstChild); }
                     const feedbackElement = document.getElementById(`feedback-${index}`);
                     if(feedbackElement) { feedbackElement.textContent = ''; feedbackElement.className = 'game-feedback'; }
                };
                buttonContainer.appendChild(deleteBtn);

                sentenceElement.appendChild(buttonContainer);
                gameContainer.appendChild(sentenceElement);

                // Hide subsequent sentences initially
                 if (index > 0) { sentenceElement.style.display = 'none'; }
            });
        }
        function checkSentence(sentenceId, sentences) {
            // Checks if the user's constructed sentence is correct.
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
            if (!solutionArea || !feedbackElement || !sentenceElement) return;

            // Get words from the solution area
            const currentWords = Array.from(solutionArea.children).map(word => word.textContent);
            const correctWords = sentences[sentenceId].words; // Get the correct order

            // Check if all words were used
            if (currentWords.length !== correctWords.length) {
                feedbackElement.textContent = '✗ Bitte verwende alle Wörter.';
                feedbackElement.className = 'game-feedback feedback-incorrect'; return;
            }

            const isCorrect = arraysEqual(currentWords, correctWords); // Compare arrays

            if (isCorrect) {
                // Correct answer
                feedbackElement.textContent = '✓ Richtig! Gut gemacht!';
                feedbackElement.className = 'game-feedback feedback-correct';
                sentenceElement.classList.add('completed'); // Mark sentence as completed
                // Automatically show the next sentence after a short delay
                if (sentenceId < sentences.length - 1) {
                    setTimeout(() => {
                        const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                        if (nextSentence) {
                             nextSentence.style.display = 'flex'; // Make it visible
                             nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' }); // Scroll to it
                         }
                    }, 800);
                } else {
                    feedbackElement.textContent = '✓ Du hast das Wortstellungsspiel abgeschlossen!'; // Final message
                }
            } else {
                // Incorrect answer
                feedbackElement.textContent = '✗ Nicht ganz richtig. Versuche es noch einmal!';
                feedbackElement.className = 'game-feedback feedback-incorrect';
            }
        }
        function showAnswer(sentenceId, sentences) {
            // Displays the correct answer for the current sentence.
            const solutionArea = document.getElementById(`solution-area-${sentenceId}`);
            const wordsBank = document.getElementById(`words-bank-${sentenceId}`);
            const feedbackElement = document.getElementById(`feedback-${sentenceId}`);
            const sentenceElement = document.getElementById(`sentence-${sentenceId}`);
             if (!solutionArea || !wordsBank || !feedbackElement || !sentenceElement) return;

            // Clear both areas
            solutionArea.innerHTML = ''; wordsBank.innerHTML = '';

            // Add words in the correct order to the solution area
            sentences[sentenceId].words.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-box'; wordElement.textContent = word;
                 // Add 'modal' class for specific styling if word is a modal verb
                 if (sentences[sentenceId].modalVerbs.includes(word)) {
                     wordElement.classList.add('modal');
                 }
                wordElement.style.cursor = 'default'; // Make words unclickable
                solutionArea.appendChild(wordElement);
            });

            feedbackElement.textContent = 'Dies ist die richtige Reihenfolge.';
            feedbackElement.className = 'game-feedback';
            sentenceElement.classList.add('completed'); // Mark as completed

            // Automatically show the next sentence after a short delay
             if (sentenceId < sentences.length - 1) {
                 setTimeout(() => {
                     const nextSentence = document.getElementById(`sentence-${sentenceId + 1}`);
                     if (nextSentence) {
                         nextSentence.style.display = 'flex';
                         nextSentence.scrollIntoView({ behavior: 'smooth', block: 'center' });
                     }
                 }, 800);
             }
        }

        // --- Initialization on DOM Load ---
        // IMPORTANT: This ensures JavaScript runs only after the HTML is fully loaded.
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize fill-in exercise functionality (clickable keys)
            initializeFillInKeys();

            // Initialize the matching games
            initializeMatchingGame('future-matching', 6);
            initializeMatchingGame('comparison-matching', 8);

            // Initialize the word order game
            initializeWordOrderGame();
        });

    </script>

</body>
</html>